{"version":3,"sources":["img/Logo/logo_planet_movie.webp","util/ApiFetcher.js","redux/features/navbarSlice.js","redux/features/movieSection.js","components/shopping-cart/ShoppingCartBadge.jsx","util/auth-service.js","redux/features/snackbars.js","util/SnackBarsRedux.jsx","components/navbar/Navbar.js","redux/features/ErrorHandlingSlice.js","redux/features/mainSliderSlice.js","redux/features/loadingHandlingSlice.js","components/Loading/Modal.jsx","components/Loading/LoadingIcon.jsx","components/ErrorHandler/ErrorModal.jsx","components/ErrorHandler/ErrorPopUp.jsx","components/slider/MainSlider.js","redux/features/genreSliderSlice.js","components/slider/GenreSlider.js","redux/features/fetcherApi.js","util/fetcherFunctions.js","redux/features/shoppingCart.js","redux/features/checkOut.js","components/shopping-cart/ShoppingCartActionButtons.jsx","helper-functions/poster.js","helper-functions/genres.js","components/fetcher-components/MovieMulti.jsx","components/shared-components/NotSignedIn.jsx","util/firebase.js","components/comment/comment-functions.js","components/comment/CommentAdd.jsx","components/comment/CommentSingle.jsx","components/shared-components/StarsComponent.jsx","components/comment/CommentSection.jsx","components/fetcher-components/MovieSingle.jsx","components/fetcher-components/MovieSectionLanding.jsx","components/fetcher-components/MovieSection.jsx","util/FetcherAPI.jsx","pages/LandingPage.js","pages/CommentPage.js","pages/PageLabelWithIcon.jsx","pages/LoginPage.js","components/shopping-cart/CartItem.jsx","components/shopping-cart/CartTotal.jsx","mockData/mock-data-fetcher.js","components/shopping-cart/CartBillingInfo.jsx","redux/features/paymentProcessor.js","components/check-out/PaymentSimulator.jsx","components/check-out/PayButton.jsx","components/check-out/CheckOutRedux.jsx","components/shopping-cart/ShoppingCartRedux.jsx","pages/ShoppingCartPage.js","pages/SearchPage.js","pages/ProfilePage.js","components/Header.js","redux/features/genrePageSlice.js","redux/features/filterBarSlice.js","components/filterbar/FilterBar.js","components/fetcher-components/MovieSectionPontus.jsx","pages/GenrePage.js","pages/SingelMoviePage.js","pages/RegisterPage.js","App.js","reportWebVitals.js","redux/features/rootReducer.js","redux/store.js","index.js"],"names":["baseUrl","apiKey","createMovieItem","adult","backdrop_path","genre_ids","id","original_language","original_title","overview","popularity","poster_path","release_date","title","video","vote_average","vote_count","fetchSearch","searchFor","a","searchResult","fetch","then","res","json","results","length","forEach","props","push","fetchTopFive","topFive","fetchGenre","genre","amount","year","sort","voteAverage","createFetchUrl","page","genreList","GENRE","axios","get","promises","data","total_pages","i","Promise","all","d","map","reduce","b","slice","fetchSearchResult","createAsyncThunk","search","thunkAPI","response","Error","navbarSlice","createSlice","name","initialState","menuOpen","searchbarOpen","reducers","toggelMenu","state","setSearchResults","actions","payload","toggelSearch","extraReducers","fulfilled","action","rejected","console","log","error","message","setScreen","createAction","setSelectedMovie","resetSelectedMovie","setMovieList","resetMovieList","MOVIE_SECTION_SCREENS","SLIDER_MOVIES","GRID_MOVIES","LIST_SEARCHES","LIST_GENRES","LIST_LANDING","SINGLE_MOVIE","SINGLE_MOVIE_COMMENTS","screen","selectedMovie","movieList","reducer","createReducer","movieItem","value","useStyles","makeStyles","theme","root","ShoppingCartBadge","classes","shoppingCartItemCount","useSelector","shoppingCart","listCount","className","IconButton","aria-label","color","Badge","badgeContent","ShoppingCart","email","password","firebase","auth","signInWithEmailAndPassword","userCredential","user","localStorage","setItem","JSON","stringify","catch","removeItem","signOut","r","db","firestore","userId","collection","doc","set","firstname","lastname","address","postalCode","county","country","docRef","update","createUserWithEmailAndPassword","uid","create","errorMessage","displayName","currentUser","updateProfile","photoURL","parse","getItem","delete","displaySnackBar","hideSnackBar","SEVERITY_TYPE","info","success","warning","SNACK_TEXT","isOpen","severity","default","text","cartNotifications","cartAddSuccess","cartAddFailed","cartRemovedSuccess","cartCleared","loggedOutSuccess","commentNotifications","commentAdded","width","marginTop","spacing","Alert","elevation","variant","SnackBarsRedux","dispatch","useDispatch","snackbar","handleClose","event","reason","snackBarActions","Snackbar","open","autoHideDuration","onClose","CATEGORIES","ResultItem","movie","to","onClick","setSingelMovie","src","alt","SearchResult","result","Fragment","Bar","searchResults","navbar","handelMenuClick","iconsStyle","dummyLogo","type","onChange","e","target","Menu","authService","getCurrentUser","useState","activeUser","setUser","logout","Navbar","errorHandlingSlice","ErrorState","setError","fetchTopMovies","mainSliderSlice","translateX","slides","status","toggelSlider","direction","window","innerWidth","resetSlider","setWidth","current","pending","loadingHandlingSlice","loadingState","setLoading","MODAL_STYLES","position","top","left","transform","zIndex","OVERLAY_STYLES","right","bottom","backgroundColor","Modal","children","ReactDom","createPortal","style","document","getElementById","Loading","loadingHandling","CircularProgress","padding","height","border","borderRadius","BUTTON_STYLES","ErrorModal","Button","location","reload","textAlign","LoadEhandling","ErrorHandling","MainSliderContainer","tran","sliderStyle","transition","Slide","backgroundImage","MainSlider","currentSlide","useRef","useEffect","addEventListener","mainslider","navigateSlider","translate","fetchGenerSlides","genere","movies","updateSlider","oldObject","newValues","Object","assign","updateItemInArray","array","itemId","updateCallbackItem","item","slider","genreSliderSlice","sliders","swipeGenre","newArray","addSlider","concat","w","find","obj","SlideContainer","clientX","handelSwipe","endPosX","maxRigth","onMouseDown","onMouseUp","onTouchStart","targetTouches","onTouchEnd","changedTouches","GenreSlider","resizeId","setW","clearTimeout","setTimeout","removeEventListener","genreSlider","handelSlide","move","toUpperCase","startFetch","fetchSuccess","fetchFailed","pushPartFetch","pushPartsCompleted","resetState","API_FETCHER_STATUSES","DEFAULT","FETCHING","SUCCESS","FAILED","STATUS","RESULT","PART_RES","BASE_API_URL_V3","API_KEY_CALL","EXTENDED_PATHS","POPULAR","DISCOVER_WITH_GENRE","fetchAllForLandingPage","fetchAllGenres","ok","statusText","reject","genreArray","genres","fetchPageOneInGenre","myObj","addListMovie","removeCartItem","clearCart","setDisplayCheckout","listOfMovies","displayCheckoutComp","list","filter","bool","setVisibility","visibility","button","margin","BTN_VARIANTS","BTN_COLORS","BUTTON_TYPE","CART_ADD","btnVariant","btnColor","startIcon","AddShoppingCartRounded","friendlyName","CART_REMOVE","RemoveShoppingCartRounded","CART_CLEAR","RemoveCircleRounded","CART_CHECKOUT","ShopRounded","ShoppingCartActionButtons","mItem","UseAction","stateListOfMovies","shoppingCartActions","some","x","checkOutActions","POSTER_SIZES","createPosterPathFull","size","endPath","matchGenreIdsToName","movieItemGenres","availableGenres","movieGenresNamed","genreNum","listItem","String","display","fontSize","flexDirection","textShadow","mainContainer","objectFit","backgroundRepeat","topRow","alignContent","alignItems","justifyContent","infoContainer","marginLeft","minHeight","divider","marginBottom","background","maxWidth","fontWeight","wordWrap","flexWrap","marginRight","bottomRow","borderBottomLeftRadius","borderBottomRightRadius","ButtonMore","actionsMovieSection","MoreHorizRounded","MovieMulti","useId","useID","releaseDate","MockGenres","posterPath","in","timeout","Divider","rootNotSignedIn","container","NotSignedIn","history","useHistory","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","fsDB","FirebaseUserWithCommentAndRating","photoUrl","comment","rating","this","addComment","movieRef","runTransaction","transaction","sfDoc","newVoteCount","newTotalRating","parseInt","exists","newAverageRating","undefined","totalRating","voteCount","newDocProps","averageRating","comments","FieldValue","arrayUnion","toFirestore","CustomRadioB","styled","other","Radio","header","textIndent","containerComment","textField","containerButton","containerProfileInfo","profileImg","profileName","ratingGroup","userInitialState","createMuiTheme","overrides","MuiInputBase","input","CommentAdd","movieSection","setCurrentUser","setComment","disableCommentBtn","setDisableCommentBtn","setRating","cUser","handleRatingAndComment","trimEnd","formRating","RadioGroup","FormControlLabel","label","control","TextField","not-required","defaultValue","InputProps","disabled","starIcon","containerTop","starsRating","UserProfileMini","userName","userPhotoUrl","backUpProfilePhoto","CommentSingle","paddingBottom","containerComments","CommentSection","setComments","onSnapshot","tempArr","justifyItems","containerContent","maxHeight","borderTopLeftRadius","borderTopRightRadius","ratings","containerBottomButtons","commentSection","ButtonNavigateBack","MovieSingle","bshow","itemOverView","timeOutStart","Fade","movieContainer","minWidth","genreTitle","MovieSectionLanding","finished","setFinished","overflowX","rootMulti","rootGrid","gridTemplateColumns","rootSlider","rootCommentSection","rootSingle","rootColumns","MovieSection","FETCH_API_TYPE","FetcherAPI","fetcherApi","fetchedResult","useScreen","useFunction","fullApiUrl","fetchListPopular","LIST_GENRE","genreOBJ","mockDataGenre","GENRE_API_URL","fetchListGenres","extras","LIST_POPULAR","StartFetching","LandingPage","posters","gener","CommentPage","iconContainer","containerText","PageLableWithIcon","icon","AuthContext","React","createContext","LoginPage","paper","avatar","palette","secondary","main","form","rowGap","submit","footer","logEmail","setEmail","logPassword","setPassword","onAuthStateChanged","Provider","Lock","ThemeProvider","CssBaseline","noValidate","required","fullWidth","autoComplete","autoFocus","v","data-testid","AuthService","login","signInWithEmailPassword","Grid","Link","href","useStyle","containerInfo","labelCost","fontFamily","letterSpacing","CartItem","pItem","posterPathFull","Zoom","mountOnEnter","unmountOnExit","LabelCost","paddingTop","labelTotal","labelLeft","labelRight","containerDetails","containerTotal","CartTotal","cost","count","total","createCost","calculatedCost","num","noVat","VAT","Label","fix","Number","toFixed","LabelTotal","createBillingInfo","firstName","lastName","fetchers","fetchBillingInfo","mockDataGeneral","billingInfo","cartTotalStyle","CartBillingInfo","startPaymentProcess","startValidation","setPaymentSuccess","startRedirect","PAYMENT_PROCESSING_STATE","START","VALIDATING_INFO","COMPLETED","DISPLAY_REDIRECT_2","DISPLAY_REDIRECT_1","DISPLAY_REDIRECT_0","containerIcon","containerProgress","PaymentSimulator","content","displayIcon","LinearProgress","PayButton","startPayment","paymentProcessor","enabled","signedIn","hasItems","Payment","CustomCheckB","Checkbox","containerPolicy","checkOutContainer","sectionHeader","ShippingTermsText","termsDisplay","shipPolicy","ShippingPolicy","policy","ShippingTerms","checked","handleChange","formControl","inputProps","CheckOutRedux","checkOut","setChecked","setTermsDisplay","AccountBalance","hidden","overflow","dividerSection","cartListItems","cartTotal","cartItemContainer","containerCheckOutButton","containerCheckOutComp","CartListItems","shoppingCartItems","element","imdbId","Typography","ShoppingCartRedux","hasCartItems","Container","containerSuggestion","containerQuickAdd","ShoppingCartPage","ShoppingCartRounded","SearchPage","borderColor","alignSelf","gap","logInButton","link","imageContainer","ProfilePage","handleInput","updateUserProfile","newUser","updateUser","AccountCircle","deleteUser","Header","iconsClasses","shoppingcart","payment","comedy","drama","fantasy","horror","mystery","romance","thriller","western","keys","key","toLowerCase","fetchGenreMovies","sorted","vote","genrePageSlice","setGenre","setReady","ready","movieResults","genrePage","filterBarSlice","sortBy","voteAvg","setYear","setSort","setVoteAvg","resetFilter","FilterBar","filterBar","sorting","params","useParams","setFilter","min","max","val","MovieSectionPontus","GenrePage","currentID","SingelMoviePage","scrollTo","register","App","basename","process","exact","path","component","RegisterPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","shoppingCartReducer","navbarReducer","snackBarsReducer","movieSectionReducer","mainSliderReducer","genreSliderReducer","checkOutReducer","paymentProcessorReducer","fetcherApiReducer","genrePageReducer","filterBarReducer","errorHandlingReducer","loadingHandlingReducer","configureStore","ReactDOM","render","StrictMode","store"],"mappings":"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","file":"static/js/main.02bf0998.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_planet_movie.b30a5772.webp\";","import axios from 'axios'\r\nconst baseUrl = \"https://api.themoviedb.org/3/\"\r\nconst apiKey = \"?api_key=5a3613e5d83a68124a38ea398536e34b\"\r\n\r\nfunction createMovieItem(adult, backdrop_path, genre_ids, id, original_language,\toriginal_title, overview, popularity, poster_path, release_date, title, video, vote_average, vote_count){\r\n    return {\r\n      adult,\r\n      backdrop_path,\r\n      genre_ids,\r\n      id,\r\n      original_language,\r\n      original_title,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      release_date,\r\n      title,\r\n      video,\r\n      vote_average,\r\n      vote_count,\r\n    };\r\n  }\r\n\r\nasync function fetchSearch(searchFor){\r\n    let searchResult = []\r\n    await fetch(`${baseUrl}search/movie${apiKey}&query=${searchFor}`).then(res => res.json()).then(res => { \r\n        if (!res.results.length){\r\n            \r\n        }else{\r\n            res.results.forEach(props => {\r\n                searchResult.push(createMovieItem(\r\n                    props.adult,\r\n                    props.backdrop_path,\r\n                    props.genre_ids,\r\n                    props.id,\r\n                    props.original_language,\r\n                    props.original_title,\r\n                    props.overview,\r\n                    props.popularity,\r\n                    props.poster_path,\r\n                    props.release_date,\r\n                    props.title,\r\n                    props.video,\r\n                    props.vote_average,\r\n                    props.vote_count,\r\n                  ));\r\n            } )\r\n            \r\n          \r\n        }\r\n    } )\r\n    return searchResult\r\n}\r\n\r\nasync function fetchTopFive(){\r\n    let topFive = []\r\n    await fetch(`${baseUrl}trending/movie/day${apiKey}`).then(res => res.json()).then(res => { \r\n        if (!res.results.length){\r\n            \r\n        }else{\r\n            res.results.forEach(props => {\r\n                topFive.push(createMovieItem(\r\n                    props.adult,\r\n                    props.backdrop_path,\r\n                    props.genre_ids,\r\n                    props.id,\r\n                    props.original_language,\r\n                    props.original_title,\r\n                    props.overview,\r\n                    props.popularity,\r\n                    props.poster_path,\r\n                    props.release_date,\r\n                    props.title,\r\n                    props.video,\r\n                    props.vote_average,\r\n                    props.vote_count,\r\n                  ));\r\n            } )\r\n            \r\n          \r\n        }\r\n    } )\r\n    return topFive\r\n}\r\n\r\n async function fetchGenre(genre,amount,year,sort,voteAverage){\r\n    let genreList = []\r\n    let GENRE = null \r\n    \r\n    switch(genre){\r\n        case \"ACTION\":{\r\n            GENRE = 28 \r\n            break;\r\n        }\r\n        case \"COMEDY\":{\r\n            GENRE = 35 \r\n            break;\r\n        }\r\n        case \"DRAMA\":{\r\n            GENRE = 18 \r\n            break;\r\n        }\r\n        case \"FANTASY\":{\r\n            GENRE = 14 \r\n            break;\r\n        }\r\n        case \"HORROR\":{\r\n            GENRE = 27 \r\n            break;\r\n        }\r\n        case \"MYSTERY\":{\r\n            GENRE = 9648 \r\n            break;\r\n        }\r\n        case \"ROMANCE\":{\r\n            GENRE = 10749 \r\n            break;\r\n        }\r\n        case \"THRILLER\":{\r\n            GENRE = 53 \r\n            break;\r\n        }\r\n        case \"WESTERN\":{\r\n            GENRE = 37 \r\n            break;\r\n        }\r\n        default:{\r\n            GENRE = 12 //adventure.\r\n            break;\r\n        }      \r\n    }\r\n\r\n    function createFetchUrl(year = 2021,sort=\"popularity.desc\",voteAverage = 7, genre,page=1){\r\n        //returns fetch url, check TMDB for options.\r\n        return `${baseUrl}discover/movie${apiKey}&with_genres=${genre}&primary_release_year=${year}&vote_average.gte=${voteAverage}&sort_by=${sort}&page=${page}`\r\n    }\r\n    \r\n    //get responses.\r\n     await axios.get(createFetchUrl(year,sort,voteAverage,GENRE)).then(\r\n        res =>{\r\n        let promises = []\r\n        //max num movies per page = 20\r\n        if (res.data.total_pages > 1 && amount > 20){\r\n            //if requested num movies is lager than 20, get all pages.\r\n            for(var i = 1; i<res.data.total_pages+1;i++){\r\n                promises.push(axios.get(createFetchUrl(year,sort,voteAverage,GENRE,i)))\r\n           }\r\n           return Promise.all(promises)\r\n        }else{\r\n            promises.push(res)\r\n            return Promise.all(promises)\r\n        }\r\n    }\r\n    ).then(d => {\r\n        //reduce array of movies to one array.\r\n        let response = d.map(data => data.data.results).reduce((a,b) => [...a,...b],[])\r\n        //handel movie data and push to array\r\n        response.forEach(props => {\r\n            genreList.push(createMovieItem(\r\n                props.adult,\r\n                props.backdrop_path,\r\n                props.genre_ids,\r\n                props.id,\r\n                props.original_language,\r\n                props.original_title,\r\n                props.overview,\r\n                props.popularity,\r\n                props.poster_path,\r\n                props.release_date,\r\n                props.title,\r\n                props.video,\r\n                props.vote_average,\r\n                props.vote_count,\r\n              ));\r\n        } )\r\n    })\r\n           \r\n        \r\n\r\n    //return array based on amount wanted.\r\n   return genreList.slice(0,amount)\r\n\r\n \r\n}\r\nexport {fetchSearch, fetchTopFive, fetchGenre}\r\n\r\n","\r\n\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport {fetchSearch} from '../../util/ApiFetcher'\r\n\r\n \r\nexport const fetchSearchResult = createAsyncThunk(\r\n  'navbar/searchStatus', \r\n  async (search, thunkAPI) => {\r\n   try{\r\n    let response = await fetchSearch(search)\r\n    return response \r\n   }catch(error){\r\n      throw Error(error)\r\n   }\r\n\r\n}\r\n)\r\n\r\nexport const navbarSlice = createSlice({\r\n    name: 'navbar',\r\n    initialState: {\r\n      menuOpen: false,\r\n      searchbarOpen:false,\r\n      searchResult: [],\r\n    },\r\n    reducers: {\r\n      toggelMenu: (state) => { \r\n        state.menuOpen = !state.menuOpen\r\n      },\r\n      setSearchResults: (state,actions) => {\r\n        state.searchResult = actions.payload\r\n      },\r\n      toggelSearch: (state) => {\r\n        state.searchbarOpen = !state.searchbarOpen\r\n        state.searchResult = [];\r\n      },\r\n    },\r\n    extraReducers:{\r\n      [fetchSearchResult.fulfilled]: (state,action) => {\r\n        state.searchResult = action.payload\r\n      },\r\n      [fetchSearchResult.rejected]:(state,action) => {\r\n        console.log(action.error.message)\r\n      }\r\n    }\r\n\r\n  })\r\n  \r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { toggelMenu, setSearchResults,toggelSearch } = navbarSlice.actions\r\n  \r\n  export default navbarSlice.reducer\r\n\r\n\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst setScreen = createAction('set screen');\r\nconst setSelectedMovie = createAction('set selected movie');\r\nconst resetSelectedMovie = createAction('set selected movie null');\r\nconst setMovieList = createAction('set movie list')\r\nconst resetMovieList = createAction('reset movie list')\r\n\r\nconst actions = { setScreen, setSelectedMovie, resetSelectedMovie, setMovieList, resetMovieList };\r\n\r\nexport const MOVIE_SECTION_SCREENS = {\r\n    SLIDER_MOVIES: 'slider_movies',\r\n    GRID_MOVIES: 'grid_movies',\r\n    LIST_SEARCHES: 'list_searches',\r\n    LIST_GENRES: 'list_genres',\r\n    LIST_LANDING: 'list_landing',\r\n    SINGLE_MOVIE: 'single_movie',\r\n    SINGLE_MOVIE_COMMENTS: 'single_movie_comments',\r\n}\r\n\r\nconst initialState = {\r\n    screen: MOVIE_SECTION_SCREENS.SLIDER_MOVIES,\r\n    selectedMovie : null,\r\n    movieList : null,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [setSelectedMovie] : (state, action) => { \r\n        const movieItem = action.payload\r\n        console.log('Selected movie set to: ', movieItem)\r\n        state.selectedMovie = movieItem\r\n    },\r\n    [resetSelectedMovie] : (state, action) => { \r\n\r\n        console.log('Set selectedMovie null')\r\n        state.selectedMovie = null\r\n    },\r\n    [setScreen] : (state, action) => { \r\n        const value = action.payload\r\n        console.log('Should set to screen: ', value)\r\n        state.screen = value\r\n    },\r\n    [resetMovieList] : (state, action) => { \r\n        state.screen = null\r\n    },\r\n    [setMovieList] : (state, action) => { \r\n        const value = action.payload\r\n        state.movieList = value\r\n    },\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { Badge, IconButton, makeStyles } from '@material-ui/core';\r\nimport { ShoppingCart } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        \r\n    },\r\n}));\r\n\r\nconst ShoppingCartBadge = () => {\r\n    const classes = useStyles();\r\n\r\n    const shoppingCartItemCount = useSelector(state => state.shoppingCart.listCount);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <IconButton aria-label=\"show shopping items count\" color=\"inherit\">\r\n                <Badge badgeContent={shoppingCartItemCount} color=\"secondary\">\r\n                    <ShoppingCart />\r\n                </Badge>\r\n            </IconButton>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShoppingCartBadge;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport 'firebase/firestore';\r\n\r\nclass AuthService {\r\n\r\n\r\n    login(email, password) {\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password).then()\r\n            .then((userCredential) => {\r\n                let user = userCredential.user;\r\n                localStorage.setItem(\"user\", JSON.stringify(user));\r\n                console.log(user)\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // let errorCode = error.code;\r\n                // let errorMessage = error.message;\r\n                console.log(error)\r\n            });\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem(\"user\");\r\n        firebase.auth().signOut().then( r =>  console.log(\"Signed out\"))\r\n    }\r\n\r\n    create(user) {\r\n        const db = firebase.firestore()\r\n\r\n        console.log(user.userId)\r\n\r\n        db.collection(\"users\").doc(user?.userId).set({\r\n            email: user?.email,\r\n            userId: user?.userId,\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            address: \"\",\r\n            postalCode:\"\",\r\n            county:\"\",\r\n            country:\"\"\r\n        })\r\n\r\n            .then((docRef) => {\r\n                console.log(\"Document written with ID: \", docRef.id);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n\r\n\r\n    }\r\n\r\n    updateUser(user){\r\n        const db = firebase.firestore()\r\n\r\n        let userRef = db.collection(\"users\").doc(user.userId);\r\n\r\n        return userRef.update({\r\n            firstname: user.firstname,\r\n            lastname: user.lastname,\r\n            address: user.address,\r\n        })\r\n            .then(() => {\r\n                console.log(\"Document successfully updated!\");\r\n            })\r\n            .catch((error) => {\r\n                // The document probably doesn't exist.\r\n                console.error(\"Error updating document: \", error);\r\n            });\r\n\r\n\r\n    }\r\n\r\n    register(email, password, user) {\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((userCredential) => {\r\n                // Signed in\r\n                console.log(\"created\")\r\n                 user = userCredential.user;\r\n                localStorage.setItem(\"user\", JSON.stringify(user));\r\n                console.log(user)\r\n\r\n                user = {\r\n                    email: user.email,\r\n                    userId: user.uid\r\n                }\r\n                this.create(user)\r\n               // window.location = 'profile'\r\n\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // let errorCode = error.code;\r\n                let errorMessage = error.message;\r\n                console.log(errorMessage)\r\n                // ..\r\n            });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    updateUserProfile(displayName) {\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.updateProfile({\r\n            displayName: displayName,\r\n            photoURL: \"https://example.com/jane-q-user/profile.jpg\"\r\n        }).then(function() {\r\n            // Update successful.\r\n        }).catch(function(error) {\r\n            // An error happened.\r\n        });\r\n    }\r\n\r\n    getCurrentUser() {\r\n        return JSON.parse(localStorage.getItem('user'));\r\n    }\r\n\r\n    deleteUser() {\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.delete().then(function() {\r\n            // User deleted.\r\n            console.log(\"User deleted\")\r\n            localStorage.removeItem(\"user\");\r\n        }).catch(function(error) {\r\n            // An error happened.\r\n        });    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default new AuthService();","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst displaySnackBar = createAction('display snackbar');\r\nconst hideSnackBar = createAction('hide snackbar');\r\n\r\nconst actions = { displaySnackBar, hideSnackBar };\r\n\r\nexport const SEVERITY_TYPE = {\r\n    info: 'info',\r\n    success: 'success',\r\n    warning: 'warning',\r\n    error: 'error',\r\n};\r\n\r\nexport const SNACK_TEXT = {\r\n    default: 'No info set',\r\n    cartAdded: 'Item added to cart',\r\n    cartRemoved: 'Item removed from cart',\r\n    cartCleared: 'Cart has been cleared',\r\n    cartItemExists: 'Already in cart',\r\n    loggedOut: 'Logged out',\r\n    commentAdded: 'Comment has been added!',\r\n};\r\n\r\nconst initialState = {\r\n    isOpen : false,\r\n    severity: SEVERITY_TYPE.default,\r\n    text: SNACK_TEXT.default\r\n};\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [displaySnackBar] : (state, action) => ({\r\n         ...state,\r\n\r\n            isOpen: action.payload.isOpen,\r\n            severity: action.payload.severity,\r\n            text: action.payload.text,\r\n    }),\r\n    [hideSnackBar] : (state, action) => {\r\n        state.isOpen = action.payload;\r\n    },\r\n\r\n});\r\n\r\nconst cartAddSuccess = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.success, \r\n    text: SNACK_TEXT.cartAdded\r\n}\r\n\r\nconst cartAddFailed = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.warning, \r\n    text: SNACK_TEXT.cartItemExists\r\n}\r\n\r\nconst cartRemovedSuccess = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.info, \r\n    text: SNACK_TEXT.cartRemoved\r\n}\r\n\r\nconst cartCleared = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.error, \r\n    text: SNACK_TEXT.cartCleared\r\n}\r\n\r\nconst loggedOutSuccess = {\r\n    isOpen: true,\r\n    severity: SEVERITY_TYPE.success,\r\n    text:SNACK_TEXT.loggedOut,\r\n}\r\n\r\nconst commentAdded = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.success, \r\n    text: SNACK_TEXT.commentAdded\r\n}\r\n\r\n\r\nexport const cartNotifications = { cartAddSuccess, cartAddFailed, cartRemovedSuccess, cartCleared,loggedOutSuccess }\r\nexport const commentNotifications = { commentAdded }\r\nexport { actions, reducer };","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useSelector } from 'react-redux';\r\nimport { actions as snackBarActions } from './../redux/features/snackbars'\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst SnackBarsRedux = () => {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const isOpen = useSelector(state => state.snackbar.isOpen);\r\n  const severity = useSelector(state => state.snackbar.severity);\r\n  const text = useSelector(state => state.snackbar.text);\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    dispatch(snackBarActions.hideSnackBar(false))\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={isOpen} autoHideDuration={3000} onClose={handleClose}>\r\n\r\n        <Alert onClose={handleClose} severity={severity}>\r\n          {text}\r\n        </Alert>\r\n     \r\n      </Snackbar>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SnackBarsRedux;","import './Navbar.css';\r\nimport React, { useState } from 'react'\r\nimport dummyLogo from '../../img/Logo/logo_planet_movie.webp'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { toggelMenu, setSearchResults, toggelSearch, fetchSearchResult } from '../../redux/features/navbarSlice'\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport  { Link } from \"react-router-dom\";\r\nimport ShoppingCartBadge from './../shopping-cart/ShoppingCartBadge'\r\nimport authService from '../../util/auth-service';\r\nimport SnackBarsRedux from '../../util/SnackBarsRedux'\r\nimport {actions as snackbar,cartNotifications}    from '../../redux/features/snackbars'\r\n\r\n\r\n\r\nconst CATEGORIES = {\r\n        default: \"fas fa-exclamation-triangle\",\r\n        shoppingcart: \"fa-shopping-basket\",\r\n        payment:\"far fa-credit-card\",\r\n        action: \"fas fa-fighter-jet\",\r\n        comedy:\"fas fa-grin-beam\",\r\n        drama:\"fas fa-theater-masks\",\r\n        fantasy:\"fas fa-dragon\",\r\n        horror:\"fas fa-ghost\",\r\n        mystery:\"fas fa-user-secret\",\r\n        romance:\"fas fa-grin-hearts\",\r\n        thriller:\"fas fa-flushed\",\r\n        western:\"fas fa-hat-cowboy\"\r\n}\r\n\r\nconst ResultItem = ({movie}) => {\r\n  let dispatch = useDispatch()\r\n  function setSingelMovie(movie){\r\n    //set movieSection \r\n    dispatch(actions.setSelectedMovie(movie))\r\n    //toggel menu on nav.\r\n    dispatch(toggelSearch())\r\n  }\r\n  const posterPre = \"https://image.tmdb.org/t/p/w300/\"\r\n  return(\r\n    <Link to={`/movie/${movie.id}`} onClick= {() => setSingelMovie(movie)} className=\"result-item__cont\">\r\n      <img className=\"result-item__img\" src={posterPre+movie.poster_path} alt=\"movie poster\" />\r\n      <div className=\"result-item_info-cont\">\r\n        <h5>{movie.title}</h5>\r\n        <h5>{movie.release_date}</h5>\r\n        <h5>{movie.vote_average}</h5>\r\n      </div>\r\n   \r\n    </Link>\r\n  )\r\n}\r\n\r\nconst SearchResult = ({result}) =>{ \r\n  return(\r\n     <React.Fragment>\r\n     <div className=\"searchresult__overlay\">\r\n      <div className=\"searchresult__cont\">\r\n        { result.map((movie) => {\r\n          return <ResultItem key={movie.title}  movie = {movie}></ResultItem>\r\n        })  }\r\n          \r\n        </div>\r\n     </div>\r\n     </React.Fragment>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Bar = () => {\r\n  const dispatch = useDispatch()\r\n  let searchResults = useSelector(state => state.navbar.searchResult)\r\n  let searchbarOpen = useSelector(state => state.navbar.searchbarOpen)\r\n  let menuOpen = useSelector(state => state.navbar.menuOpen)\r\n\r\n  // Search Event.\r\n  function handleSearch(event){\r\n    if(event.target.value.length > 3){\r\n      dispatch(fetchSearchResult(event.target.value))\r\n    }else if(event.target.value.length < 4 && !searchResults.length !== true){\r\n        dispatch(setSearchResults([]))\r\n    }\r\n  }\r\n  function handelMenuClick(){\r\n    dispatch(toggelMenu())\r\n    if(searchbarOpen){\r\n      dispatch(toggelSearch())\r\n    }\r\n  }\r\n  let iconsStyle = menuOpen? \"menu__icons_open\" : \"menu__icons\"\r\n \r\n  return (\r\n   <React.Fragment>\r\n    <div className=\"navbar__container\">\r\n      {/*Navigation bar*/}\r\n      <Link to=\"/\"><img src={dummyLogo} alt=\"\" className=\"navbar_logo\" /></Link>\r\n      <div className={iconsStyle}>\r\n        {menuOpen? null :  <i className=\"fas fa-search nav_icon\" onClick={() => dispatch(toggelSearch())}></i> }\r\n        {menuOpen? null :  <Link to=\"/shopping-cart\"> <ShoppingCartBadge/> </Link> }\r\n        {menuOpen? <i onClick={() => handelMenuClick()} className=\"fas fa-times nav_icon\"></i> :   <i onClick={() => handelMenuClick()} className=\"fas fa-bars nav_icon\"></i> }\r\n      \r\n      </div>\r\n    </div>\r\n    {\r\n      //Search bar.\r\n      searchbarOpen? \r\n      <div className=\"searchbar__container\">\r\n        <div className=\"search-field__container\">\r\n          <input type=\"text\" className=\"search-field\" onChange={(e)=>handleSearch(e) }/>\r\n          <i className=\"fas fa-search searchbar__container_logo\"></i>\r\n        </div>\r\n        \r\n        <i className=\"fas fa-times search_x_btn\" onClick={() => dispatch(toggelSearch())}></i>  \r\n          {!searchResults.length? null : <SearchResult result={searchResults}></SearchResult>}\r\n      </div> : null  \r\n    }\r\n   </React.Fragment>\r\n  );\r\n} \r\n\r\n\r\n//Menu Component.\r\nlet Menu = () => {\r\n  const dispatch = useDispatch()\r\n  let user = authService.getCurrentUser()\r\n  const [activeUser,setUser] = useState(user)\r\n  function logout(){\r\n    authService.logout()\r\n    setUser(authService.getCurrentUser)\r\n    dispatch(snackbar.displaySnackBar(cartNotifications.loggedOutSuccess))\r\n  }\r\n \r\n  return(\r\n    <div className=\"menu__overlay\">\r\n    \r\n    {/*menu*/}\r\n      <div className=\"menu__container\">\r\n        <div className=\"menu_title_cont\">\r\n          <h2 className=\"menu__title\">Movies</h2>\r\n        </div>\r\n        <div className=\"menu__categories_cont\">\r\n          <div className=\"categories_left\">\r\n            <Link to=\"/genre/action\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.action} menu_cat_icon`}></i>Action</div>\r\n            </Link>\r\n\r\n            <Link to=\"/genre/comedy\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.comedy} menu_cat_icon`}></i>Comedy</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/drama\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.drama} menu_cat_icon`}></i>Drama</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/romance\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.romance} menu_cat_icon`}></i>Romance</div>\r\n            </Link>\r\n          </div>\r\n          <div className=\"categories_right\">\r\n            <Link to=\"/genre/fantasy\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.fantasy} menu_cat_icon`}></i>Fantasy</div>\r\n            </Link>\r\n\r\n            <Link to=\"/genre/horror\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.horror} menu_cat_icon`}></i>Horror</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/mystery\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.mystery} menu_cat_icon`}></i>Mystery</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/thriller\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.thriller} menu_cat_icon`}></i>Thriller</div>\r\n            </Link>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className=\"menu__bottom_cont\">\r\n          \r\n          <Link to=\"/shopping-cart\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"bottom_cont_box\">\r\n            <i className=\"fas fa-shopping-cart bottom_cont_icon_box\"></i>\r\n            <p>cart</p>\r\n            </div>\r\n          </Link>\r\n\r\n          {activeUser != null?\r\n                <div className=\"bottom_cont_box\" onClick={() => logout()}>\r\n                <i className=\"fas fa-sign-out-alt  bottom_cont_icon_box\"></i>\r\n                <p>logout</p>\r\n              </div>\r\n            :\r\n            <Link to=\"/login\" onClick={()=>dispatch(toggelMenu())}>\r\n                <div className=\"bottom_cont_box\">\r\n                <i className=\"fas fa-sign-in-alt  bottom_cont_icon_box\"></i>\r\n                <p>login</p>\r\n              </div>\r\n            </Link>\r\n\r\n          \r\n          \r\n          }\r\n         \r\n\r\n          <Link to=\"/profile\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"bottom_cont_box\">\r\n            <i className=\"fas fa-user bottom_cont_icon_box\"></i>\r\n            <p>account</p>\r\n            </div>\r\n          </Link>\r\n\r\n        </div>\r\n        \r\n      </div>\r\n      <SnackBarsRedux></SnackBarsRedux>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n//Complete Navbar to be used in app.\r\nconst Navbar= () => {\r\n  let menuOpen = useSelector((state) => state.navbar.menuOpen)\r\n  return (\r\n   <React.Fragment>\r\n    <Bar></Bar>\r\n    {menuOpen? <Menu></Menu> : null}\r\n   </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const errorHandlingSlice = createSlice({\r\n  name: 'ErrorHandling',\r\n  initialState: {\r\n    ErrorState: false\r\n  },\r\n  reducers: {\r\n    setError: (state, action) => {\r\n      state.ErrorState = action.payload\r\n    }\r\n  }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {setError } = errorHandlingSlice.actions\r\n\r\nexport default errorHandlingSlice.reducer","\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchTopFive } from '../../util/ApiFetcher'\r\nimport { setError } from './ErrorHandlingSlice'\r\n\r\nexport const fetchTopMovies = createAsyncThunk(\r\n  'mainslider/fetchStatus',\r\n  async (thunkAPI) => {\r\n    try{\r\n      let response = await fetchTopFive()\r\n      return response \r\n     }catch(error){\r\n        throw Error(error)\r\n     }\r\n  }\r\n)\r\n\r\nexport const mainSliderSlice = createSlice({\r\n    name: 'mainSlider',\r\n    initialState: {\r\n      translateX: 0,\r\n      slides: [],\r\n      width:0,\r\n      status:\"LOADING\"\r\n    },\r\n    reducers: {\r\n      toggelSlider: (state,direction) => {\r\n        direction.payload === \"LEFT\" ? state.translateX  = state.translateX + window.innerWidth : state.translateX -= window.innerWidth\r\n      },\r\n      resetSlider: (state) => {\r\n        state.translateX = 0\r\n      },\r\n      setWidth:(state,action) =>{\r\n        state.width = state.slides.length * action.payload.width\r\n        state.translateX = (window.innerWidth * action.payload.current)*-1 \r\n       \r\n      }\r\n    },\r\n    extraReducers: {\r\n      [fetchTopMovies.fulfilled]:(state,action) => {\r\n        state.slides = action.payload.slice(0,5)\r\n        state.width = state.slides.length * window.innerWidth\r\n        state.status = \"READY\"\r\n      },\r\n      [fetchTopMovies.rejected]:(state,action) => {\r\n        console.log(action.payload)\r\n        state.status = \"ERROR\"\r\n      },\r\n      [fetchTopMovies.pending]:(state,action) => {\r\n        state.status = \"LOADING\"\r\n      }\r\n    }\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { toggelSlider, resetSlider, setWidth } = mainSliderSlice.actions\r\n  \r\n  export default mainSliderSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const loadingHandlingSlice = createSlice({\r\n  name: 'loadingHandling',\r\n  initialState: {\r\n    loadingState: true\r\n  },\r\n  reducers: {\r\n    setLoading: (state, action) => {\r\n      state.loadingState = action.payload\r\n    }\r\n  }\r\n})\r\n  \r\n// Action creators are generated for each case reducer function\r\nexport const { setLoading } = loadingHandlingSlice.actions\r\n\r\nexport default loadingHandlingSlice.reducer","import { GpsFixed } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport  ReactDom from 'react-dom'\r\n\r\n\r\nconst MODAL_STYLES = {\r\n    position: 'fixed',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%,-50%)',\r\n    zIndex: 1000\r\n}\r\n\r\nconst OVERLAY_STYLES = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0 , 0 , 0, .7)',\r\n    zIndex: 1000\r\n}\r\n\r\nconst Modal = ({open,children}) =>{\r\n    if(!open) return null\r\n    return ReactDom.createPortal(\r\n        <>\r\n        <div style={OVERLAY_STYLES}/>\r\n        <div style={MODAL_STYLES}>\r\n           {children}\r\n        </div>\r\n             \r\n        </>,\r\n        document.getElementById('portal')\r\n    );\r\n}\r\n\r\nexport default Modal;","\r\nimport React, {useEffect, useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport  { setLoading }  from '../../redux/features/loadingHandlingSlice'\r\nimport Modal from './Modal'\r\n\r\nconst Loading = () =>{\r\n\r\n    \r\n    const loadingState = useSelector((state) => state.loadingHandling.loadingState);\r\n    console.log(loadingState)\r\n    const dispatch = useDispatch();\r\n\r\n    return(\r\n       <div>\r\n\r\n <Modal open={loadingState}>\r\n {<CircularProgress color=\"secondary\"/>}\r\n </Modal>\r\n\r\n         \r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Loading;\r\n","\r\nimport { GpsFixed } from '@material-ui/icons';\r\nimport Button from '@material-ui/core/Button'\r\nimport React from 'react'\r\nimport  ReactDom from 'react-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setError } from '../../redux/features/ErrorHandlingSlice';\r\n\r\n\r\n\r\nconst MODAL_STYLES = {\r\n    position: 'fixed',\r\n    top: '50%',\r\n    left: '50%',\r\n    color: 'black',\r\n    transform: 'translate(-50%,-50%)',\r\n    backgroundColor: '#FFF',\r\n    padding: '1rem',\r\n    width: '30%',\r\n    height: '20%',\r\n    border: '1px solid #ccc',\r\n    borderRadius: '4px',\r\n    zIndex: 1000\r\n}\r\n\r\nconst OVERLAY_STYLES = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0 , 0 , 0, .7)',\r\n   \r\n}\r\n\r\nconst BUTTON_STYLES = {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    top: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    marginTop: '25px',\r\n    zIndex: 1000\r\n}\r\n\r\n\r\n\r\nconst ErrorModal = ({open,children}) =>{\r\n\r\n    const dispatch = useDispatch();\r\n    const refreshPage = ()=>{\r\n        dispatch(setError(false))\r\n        window.location.reload();\r\n     }\r\n    \r\n    if(!open) return null\r\n    return ReactDom.createPortal(\r\n        <>\r\n        <div style={OVERLAY_STYLES}/>\r\n        <div style={MODAL_STYLES}>\r\n           {children}\r\n           <Button onClick={() => refreshPage()}  style={BUTTON_STYLES} variant=\"outlined\" color=\"secondary\">Reload page</Button>\r\n        </div>\r\n             \r\n        </>,\r\n        document.getElementById('ErrorHandlingPopUp')\r\n    );\r\n}\r\n\r\nexport default ErrorModal;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport  { setError }  from '../../redux/features/ErrorHandlingSlice'\r\nimport ErrorModal from './ErrorModal'\r\n\r\nconst OVERLAY_STYLES = {\r\n    textAlign: 'center'\r\n   \r\n}\r\n\r\nconst LoadEhandling = () =>{\r\n\r\n    const ErrorState = useSelector((state) => state.ErrorHandling.ErrorState);\r\n    const dispatch = useDispatch();\r\n\r\n    return(\r\n       <div>\r\n\r\n <ErrorModal open={ErrorState}>\r\n  <div>  \r\n      <h2 id=\"modal-title\" style={OVERLAY_STYLES}>\r\n     Something Happened!       \r\n  </h2>\r\n  </div>\r\n </ErrorModal>\r\n\r\n         \r\n       </div>\r\n    );\r\n}\r\n\r\nexport default LoadEhandling;","import './MainSlider.css';\r\nimport React, {useEffect, useRef} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {toggelSlider,fetchTopMovies, resetSlider, setWidth} from '../../redux/features/mainSliderSlice'\r\nimport { Link } from 'react-router-dom';\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport Loading from '../Loading/LoadingIcon'\r\nimport { setError } from '../../redux/features/ErrorHandlingSlice';\r\nimport LoadEhandling from '../ErrorHandler/ErrorPopUp';\r\nimport { setLoading } from '../../redux/features/loadingHandlingSlice';\r\n\r\n\r\n\r\n\r\n\r\n//slidecontainer element\r\nconst MainSliderContainer = ({width,children,tran}) =>{\r\n    const sliderStyle = {\r\n        transform: `translateZ(0) translateX(${tran}px)`,\r\n        transition:`transform 0.25s ease-in-out`,\r\n        width:`${width}px`\r\n    }\r\n\r\n    return (\r\n    <div style={sliderStyle} className=\"main-slider__content-container\" >\r\n    {children}\r\n    </div>\r\n    )\r\n} \r\n\r\n//slide element \r\nconst Slide = ({movie}) => {\r\n    let dispatch = useDispatch()\r\n    \r\n    function setMovie(film){\r\n        dispatch(actions.setSelectedMovie(movie));\r\n    }\r\n\r\n    const posterBaseUrl = \"https://image.tmdb.org/t/p/w500\"\r\n    return (\r\n        <Link onClick={() => setMovie(movie)} to={`/movie/${movie.id}`} style={{backgroundImage:`url(${posterBaseUrl}${movie.backdrop_path})`}} className=\"mainslider__slide\">\r\n        </Link>\r\n     \r\n    )\r\n}\r\n\r\n\r\nconst MainSlider = () => {\r\n    let dispatch = useDispatch()\r\n    //keep track of slide for navigation dots.\r\n    let currentSlide = useRef(0)\r\n    //reset slider.\r\n    function reset(){\r\n        currentSlide.current = 0;\r\n        dispatch(resetSlider())\r\n    } \r\n    \r\n\r\n\r\n    useEffect(()=> {\r\n        dispatch(fetchTopMovies())\r\n        window.addEventListener('resize', () => dispatch(setWidth({width:window.innerWidth,current:currentSlide.current})))\r\n        return () =>  reset()\r\n    },[])\r\n\r\n    let movieList = useSelector(state => state.mainslider.slides)\r\n\r\n    const left = \"LEFT\",\r\n          right =\"RIGHT\"\r\n    \r\n\r\n\r\n    //get full width of slider.\r\n    let width = useSelector(state => state.mainslider.width)\r\n  \r\n    //sets current slide and calls reducer for state handeling. \r\n    const navigateSlider = (direction) => {\r\n        if(direction === left && currentSlide.current>0){\r\n            currentSlide.current--\r\n            dispatch(toggelSlider(direction))\r\n            \r\n        }else if (direction === right && currentSlide.current < movieList.length -1){\r\n            currentSlide.current++\r\n            dispatch(toggelSlider(direction))\r\n        }else{\r\n            return\r\n        }\r\n    }\r\n    \r\n\r\n    var translate = useSelector( (state) =>  state.mainslider.translateX)\r\n    var status = useSelector((state) => state.mainslider.status)\r\n\r\n        if(status === \"READY\"){\r\n         return(\r\n            <div className=\"main-slider__container\">\r\n            <div onClick={() => navigateSlider(left)} className=\"arrow-box-left\"><i className=\"arrow left\"></i></div>\r\n            <div onClick={() => navigateSlider(right)} className=\"arrow-box-right\"><i className=\"arrow right\"></i></div>\r\n            {/*container with width = 100vw * num of slides */}\r\n                <MainSliderContainer width={width} tran={translate}>\r\n                    {!movieList.length? null : movieList.map((movie,i) => ( <Slide key={`${i}${movie.id}`} movie={movie} /> ))}\r\n                </MainSliderContainer>\r\n                <div className=\"main-slider__dot-indicator-container\">\r\n                    {!movieList.length? null : movieList.map((movie,i) => <div key={`dot:${i}`} className={`dots ${i === currentSlide.current ? \"white\" : \"\" }`}></div> )}\r\n                </div>\r\n    \r\n            </div>\r\n         )    \r\n        }else if (status === \"LOADING\"){\r\n            return(\r\n                <div className=\"main-slider__container\">\r\n                <Loading></Loading>           \r\n            </div>\r\n                \r\n            )\r\n        }else{\r\n            dispatch(setError(true))\r\n            return(<LoadEhandling></LoadEhandling>)\r\n        }\r\n\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default MainSlider;\r\n","\r\nimport { createAsyncThunk, createSlice, current } from \"@reduxjs/toolkit\";\r\nimport {fetchGenre} from '../../util/ApiFetcher'\r\n\r\n\r\n\r\nexport const fetchGenerSlides = createAsyncThunk(\r\n  `genre/status`,\r\n async (action,thunkAPI) => {\r\n    try{\r\n      let response = await fetchGenre(action.genere,action.amount)\r\n      return {movies:response,id:action.genere}\r\n    }catch(error){\r\n      throw Error(error)\r\n    }\r\n  }\r\n\r\n)\r\n\r\nfunction updateSlider(oldObject, newValues){\r\n    let newObj = Object.assign({},oldObject,newValues)\r\n    return newObj\r\n}\r\n\r\nfunction updateItemInArray(array,itemId,updateCallbackItem){\r\n    let updatedArray = array.map((item) => {\r\n        \r\n        if(item.slider !== itemId){\r\n            return item\r\n        }else{\r\n            var updatedPositionItem = updateCallbackItem(item)\r\n            \r\n            return updatedPositionItem\r\n\r\n        }\r\n    })\r\n    \r\n    return updatedArray\r\n}\r\n\r\n\r\nexport const genreSliderSlice = createSlice({\r\n    name: 'genreSlider',\r\n    initialState: {\r\n      // truns in to sliders[{slider:\"action\", translateX:-3,movieList:[list of movies]}]\r\n      sliders:[],\r\n      translateX:10,\r\n    },\r\n    reducers: {\r\n      swipeGenre: (state,action) => {\r\n          \r\n       let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n           return updateSlider(item,{translateX:item.translateX + action.payload.translateX})\r\n       })\r\n    \r\n        state.sliders = newArray\r\n       \r\n      },\r\n      addSlider: (state,actions) => {\r\n        //add slider with id and translateX tracker.\r\n        state.sliders = state.sliders.concat({slider:actions.payload,translateX:-100,movieList:[],width:0})\r\n      },\r\n      setWidth:(state,action) => {\r\n        let w = window.innerWidth > 1100 ? ((window.innerWidth*1.20) * 0.15 + 15) * state.sliders.find( obj => obj.slider === action.payload.id ).movieList.length : (window.innerWidth * 0.30 + 15.5) * state.sliders.find( obj => obj.slider === action.payload.id ).movieList.length\r\n        let translate = (state.sliders.find( obj => obj.slider === action.payload.id ).translateX * -1) > w/2 ? (w/2) * -1 + 45 : state.sliders.find( obj => obj.slider === action.payload.id ).translateX\r\n        \r\n        let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n          return updateSlider(item,{width:w,translateX:translate})\r\n      })\r\n        \r\n       state.sliders = newArray\r\n       \r\n\r\n      }\r\n    \r\n    },\r\n    extraReducers:{\r\n      [fetchGenerSlides.fulfilled]: (state,action) =>{\r\n        \r\n        let w = window.innerWidth > 1100 ? ((window.innerWidth*1.20) * 0.15 + 15) * action.payload.movies.length : (window.innerWidth * 0.30 + 15.5) * action.payload.movies.length\r\n        let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n          return updateSlider(item,{movieList:action.payload.movies,width:w})\r\n      })\r\n   \r\n       state.sliders = newArray\r\n      \r\n      },\r\n      [fetchGenerSlides.rejected]:(state,action) => { console.log(action.payload) }\r\n    }\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { swipeGenre, addSlider, setWidth } = genreSliderSlice.actions\r\n  \r\n  export default genreSliderSlice.reducer","import React, { useEffect } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport './GenreSlider.css'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {swipeGenre,addSlider,fetchGenerSlides, setWidth} from '../../redux/features/genreSliderSlice'\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport { SlideshowTwoTone } from '@material-ui/icons';\r\n\r\nconst SlideContainer = ({children,width,translate,id}) => {\r\n    \r\n    let dispatch = useDispatch()\r\n    let clientX = null \r\n    \r\n    function handelSwipe(endPosX){\r\n        if (clientX - endPosX > 30 || clientX - endPosX < -30){\r\n            if(clientX < endPosX){\r\n                //swipe right\r\n                if(translate<0 && translate + (endPosX - clientX) * 4 < 0){\r\n                    \r\n                    dispatch(swipeGenre( {translateX:(endPosX - clientX)*4,id:id}))\r\n                }else{\r\n                  dispatch(swipeGenre( {translateX:(translate * -1) + (10),id:id} )  )\r\n                \r\n                }\r\n                \r\n            }\r\n            else{\r\n                let maxRigth = width - window.innerWidth;\r\n              \r\n                //swipe left\r\n                  if(translate + (endPosX - clientX) * 4 > (-maxRigth) ){\r\n                    dispatch(swipeGenre( {translateX:(endPosX - clientX)*4,id:id}))\r\n                }else{\r\n                    //set to start pos when swipe is bigger than whats left of swipe.\r\n                    if(translate<maxRigth){\r\n                        dispatch(swipeGenre({translateX:(maxRigth + translate) * -1,id:id}))\r\n                    }else{\r\n                        return\r\n                    }\r\n                    \r\n                }\r\n            }\r\n\r\n        }\r\n \r\n            \r\n        \r\n    \r\n    }\r\n    const sliderStyle = {\r\n        transform: `translateZ(0) translateX(${translate}px)`,\r\n        transition:`transform 0.25s ease-in-out`,\r\n        width:` ${width}px`\r\n    }\r\n\r\n    return(\r\n        <div   onMouseDown = {e => clientX = e.clientX} onMouseUp = {e => handelSwipe(e.clientX)} onTouchStart = { (e) => clientX = e.targetTouches[0].clientX } onTouchEnd = {(e) => handelSwipe(e.changedTouches[0].clientX)} style={sliderStyle} className=\"slidecontainer\">\r\n            {children}\r\n        </div>\r\n    )\r\n   \r\n\r\n}\r\n\r\nconst Slide = ({movie}) => {\r\n    let dispatch = useDispatch()\r\n    const posterBaseUrl = \"https://image.tmdb.org/t/p/w300/\"\r\n    \r\n    return <Link to={`/movie/${movie.id}`} onClick={() => dispatch(actions.setSelectedMovie(movie))}  style={{backgroundImage:`url(${posterBaseUrl+movie.poster_path})`}} className=\"gener__slide\"></Link>\r\n}\r\n\r\n\r\nconst GenreSlider = ({children,movies,id}) => {\r\n    let dispatch = useDispatch()\r\n    //add slider for controll over slideffect.\r\n\r\n    var resizeId\r\n    function setW(){\r\n        clearTimeout(resizeId)\r\n        resizeId = setTimeout( () => dispatch(setWidth({id:id})), 500)\r\n    }\r\n \r\n    \r\n    useEffect(() => {\r\n        dispatch(fetchGenerSlides({genere:id,amount:10}))\r\n        dispatch(addSlider(id))\r\n        window.addEventListener('resize', () => setW())  \r\n        return () => window.removeEventListener('resize',e => setW())\r\n    },[])\r\n\r\n    let sliders = useSelector( (state) => { return state.genreSlider.sliders}) \r\n    let slider = null \r\n    if (sliders.length === 0){\r\n    }else{\r\n       slider = sliders.find( obj => obj.slider === id )\r\n    }\r\n \r\n  \r\n    function handelSlide(direction){\r\n        if(slider != null){\r\n            let move = 300;\r\n            if(direction === \"RIGHT\"){\r\n                if ((slider.translateX * -1) + 60  < slider.width/2){\r\n                    \r\n                    dispatch(swipeGenre( {translateX:(move * -1),id:id}))\r\n                }else{\r\n                    dispatch(swipeGenre( {translateX:slider.translateX * -1 + ((slider.width/2)*-1) + 50 , id:id}))\r\n                }\r\n            }else{\r\n                    if (slider.translateX + move < -40){\r\n                        dispatch(swipeGenre({translateX:move,id:id}))\r\n                    }else{\r\n                        dispatch(swipeGenre({translateX:( slider.translateX * -1) + 10 , id:id})) \r\n                    }\r\n            }\r\n        }\r\n        \r\n    }\r\n  \r\n  \r\n  \r\n\r\n    return(\r\n        <div className=\"wrapper\">\r\n        <div onClick={() => handelSlide(\"LEFT\")} className=\"arrow-box-left_genre\"><i className=\"arrow_genre left\"></i></div>\r\n        <div onClick={() => handelSlide(\"RIGHT\")} className=\"arrow-box-right_genre\"><i className=\"arrow_genre right\" ></i></div>\r\n               <div className=\"genre-slider__cont\">\r\n            <Link to = {`/genre/${children}`} className=\"genre-slider__header\">\r\n                <h2>{children.toUpperCase()}</h2>\r\n            </Link>\r\n           {!sliders.length? null : <SlideContainer id ={id} translate = {slider.translateX} width = {slider.width} >{slider.movieList.map((movie,i) => <Slide key = {i+12} movie = {movie} ></Slide>)}</SlideContainer>} \r\n            </div>\r\n        </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default GenreSlider","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst startFetch = createAction('started fetching');\r\nconst fetchSuccess = createAction('fetching completed');\r\nconst fetchFailed = createAction('fetching failed');\r\nconst pushPartFetch = createAction('part fetch completed');\r\nconst pushPartsCompleted = createAction('all parts fetch completed');\r\nconst resetState = createAction('resetState');\r\n\r\nconst actions = { startFetch, fetchSuccess, fetchFailed, pushPartFetch, pushPartsCompleted, resetState };\r\n\r\nconst API_FETCHER_STATUSES = {\r\n  DEFAULT: {\r\n    status: 0,\r\n    message: 'default',\r\n  },\r\n  FETCHING: {\r\n    status: 1,\r\n    message: 'Is fetching api data...',\r\n  },\r\n  SUCCESS: {\r\n    status: 2,\r\n    message: 'Fetch SUCCESS',\r\n  },\r\n  FAILED: {\r\n    status: 3,\r\n    message: 'Fetch FAILED',\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n    STATUS : API_FETCHER_STATUSES.DEFAULT,\r\n    RESULT: [],\r\n    PART_RES: [],\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n  [startFetch]: (state, action) =>({\r\n      ...state,\r\n      STATUS: API_FETCHER_STATUSES.FETCHING\r\n  }),\r\n  [fetchSuccess]: (state, action) => {\r\n      state.STATUS = API_FETCHER_STATUSES.SUCCESS\r\n      state.RESULT = action.payload\r\n  },\r\n  [pushPartFetch]: (state, action) => {\r\n      state.PART_RES.push(action.payload)\r\n  },\r\n  [pushPartsCompleted]: (state, action) => ({\r\n    ...state,\r\n      RESULT : [...state.PART_RES],\r\n      STATUS : API_FETCHER_STATUSES.SUCCESS\r\n  }),\r\n  [fetchFailed]: (state, action) =>({\r\n    ...state,\r\n      STATUS: API_FETCHER_STATUSES.FAILED\r\n  }),\r\n  [resetState]: (state, action) => {\r\n    console.log(action.payload)\r\n    state.STATUS = API_FETCHER_STATUSES.DEFAULT\r\n    state.PART_RES = []\r\n    state.RESULT = []\r\n  },\r\n  \r\n})\r\n\r\nexport { actions, reducer, API_FETCHER_STATUSES };","import { actions } from './../redux/features/fetcherApi';\r\nimport mockDataGenre from './../mockData/mock-data-genre.json'\r\n\r\nconst BASE_API_URL_V3 = \"https://api.themoviedb.org/3/\"\r\nconst API_KEY = \"9f9816e8ad3f4241eaf738efa1c54328\"\r\nconst API_KEY_CALL = `api_key=${API_KEY}`\r\n\r\nconst EXTENDED_PATHS = {\r\n    POPULAR: 'movie/popular',\r\n    GENRE: 'genre/movie/list',\r\n    DISCOVER_WITH_GENRE:`discover/movie?${API_KEY_CALL}&with_genres=`\r\n}\r\n\r\n//CAN BE SENT THROUGH extras or another variable\r\n\r\nexport function fetchListGenres(dispatch, id){\r\n\r\n    let FULL_API_URL = `${BASE_API_URL_V3}${EXTENDED_PATHS.GENRE}?${API_KEY_CALL}`\r\n\r\n    const PRIMARY_RELEASE_YEAR = \"primary_release_year=2021\"\r\n    const SORT_BY_DESC = \"popularity.desc\"\r\n    const VOTE_AVARAGE = 7\r\n    const PAGE = 1\r\n\r\n    const genreOBJ = mockDataGenre.genres.find(item => String(item.name).toUpperCase() === String(id).toUpperCase())\r\n    console.log('FOUND GENRE: ', genreOBJ.id, ' ', genreOBJ.name)\r\n    const GENRE_API_URL = `${BASE_API_URL_V3}${EXTENDED_PATHS.DISCOVER_WITH_GENRE}${genreOBJ.id}&${PRIMARY_RELEASE_YEAR}&sort_by=${SORT_BY_DESC}&vote_average.gte=${VOTE_AVARAGE}`\r\n    \r\n        fetch(GENRE_API_URL)\r\n\r\n            .then(async response => {\r\n                const data = await response.json();\r\n\r\n                if (!response.ok) {\r\n                \r\n                    const error = (data && data.message) || response.statusText;\r\n                    return Promise.reject(error);\r\n                }\r\n              \r\n                dispatch(actions.fetchSuccess(data.results));\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error!', error);\r\n                dispatch(actions.fetchFailed());\r\n        });\r\n\r\n}\r\n\r\nexport function fetchListPopular(dispatch){\r\n\r\n    let fullApiUrl = `${BASE_API_URL_V3}${EXTENDED_PATHS.POPULAR}?${API_KEY_CALL}`\r\n\r\n    fetch(fullApiUrl)\r\n\r\n      .then(async response => {\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n        \r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        \r\n        dispatch(actions.fetchSuccess(data.results));\r\n\r\n    })\r\n    .catch(error => {\r\n        console.error('There was an error!', error);\r\n        dispatch(actions.fetchFailed());\r\n    });\r\n}\r\n\r\nexport function fetchAllForLandingPage(dispatch){\r\n  \r\n    dispatch(actions.resetState(''))\r\n    dispatch(actions.startFetch());\r\n    let fetchAllGenres = `${BASE_API_URL_V3}${EXTENDED_PATHS.GENRE}?${API_KEY_CALL}`\r\n\r\n    console.log('fetchAllForLandingPage')\r\n\r\n    const PRIMARY_RELEASE_YEAR = \"primary_release_year=2021\"\r\n    const SORT_BY_DESC = \"popularity.desc\"\r\n    const VOTE_AVARAGE = 7\r\n    const PAGE = 1\r\n\r\n    fetch(fetchAllGenres)\r\n        .then(async response => {\r\n            \r\n            const data = await response.json();\r\n            \r\n            if (!response.ok) {\r\n                const error = (data && data.message) || response.statusText;\r\n                return Promise.reject(error);\r\n            }\r\n            \r\n            const genreArray = JSON.stringify(data.genres)\r\n         \r\n            JSON.parse(genreArray).forEach((props) => {\r\n\r\n                const fetchPageOneInGenre = `${BASE_API_URL_V3}${EXTENDED_PATHS.DISCOVER_WITH_GENRE}${props.id}&${PRIMARY_RELEASE_YEAR}&sort_by=${SORT_BY_DESC}&vote_average.gte=${VOTE_AVARAGE}&page=${PAGE}`\r\n\r\n                fetch(fetchPageOneInGenre)\r\n                    .then(async response => {\r\n  \r\n                        const data = await response.json();\r\n  \r\n                        if (!response.ok) {\r\n                            const error = (data && data.message) || response.statusText;\r\n                            return Promise.reject(error);\r\n                        }\r\n                        \r\n                        const movies = data.results;\r\n\r\n                        const myObj = {\r\n                            \"id\": props.id,\r\n                            \"name\": props.name,\r\n                            \"movies\": movies \r\n                        }\r\n\r\n                        dispatch(actions.pushPartFetch(myObj))\r\n                        dispatch(actions.pushPartsCompleted('null'))\r\n\r\n                    })\r\n  \r\n                    .catch(error => {\r\n                        console.error('Therewasanerror!', error);\r\n                    });\r\n\r\n             \r\n            });\r\n\r\n          \r\n        })\r\n        .catch(error => {\r\n            console.error('Therewasanerror!', error);\r\n        });\r\n\r\n  }\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst addListMovie = createAction('add list movie item');\r\nconst removeCartItem = createAction('remove list movie item');\r\nconst clearCart = createAction('clear cart');\r\nconst setDisplayCheckout = createAction('set display checkout');\r\n\r\nconst actions = { addListMovie, removeCartItem, clearCart, setDisplayCheckout };\r\n\r\nconst initialState = {\r\n    listOfMovies : [],\r\n    listCount : 0,\r\n    displayCheckoutComp: false,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [addListMovie] : (state, action) => { \r\n        const value = action.payload\r\n        state.listCount = (state.listOfMovies.length + 1)\r\n        state.listOfMovies.push(value)\r\n    },\r\n    [removeCartItem] : (state, action) => { \r\n        const list = state.listOfMovies.filter(function(item) {\r\n            return item !== action.payload\r\n        })\r\n        state.listCount = (list.length)\r\n        state.listOfMovies = list\r\n    },\r\n    [clearCart] : (state, action) => { \r\n        const list = [];\r\n        state.listCount = (0)\r\n        state.listOfMovies = list\r\n    },\r\n    [setDisplayCheckout] : (state, action) => { \r\n        const bool = action.payload\r\n        state.displayCheckoutComp = bool\r\n    },\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst setVisibility = createAction('set vis');\r\n\r\nconst actions = { setVisibility };\r\n\r\nconst initialState = {\r\n    visibility : false,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [setVisibility] : (state, action) => ({ \r\n        \r\n        ...state,\r\n            visibility: !state.visibility\r\n    }),\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { Button, makeStyles } from \"@material-ui/core\";\r\nimport {\r\n  AddShoppingCartRounded,\r\n  RemoveShoppingCartRounded,\r\n  ShopRounded,\r\n  RemoveCircleRounded,\r\n} from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions as shoppingCartActions } from \"../../redux/features/shoppingCart\";\r\nimport { actions as checkOutActions } from \"../../redux/features/checkOut\";\r\nimport {\r\n  actions as snackBarActions,\r\n  cartNotifications,\r\n} from \"../../redux/features/snackbars\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst BTN_VARIANTS = {\r\n  outlined: \"outlined\",\r\n  contained: \"contained\",\r\n  none: \"\",\r\n};\r\n\r\nconst BTN_COLORS = {\r\n  primary: \"primary\",\r\n  secondary: \"secondary\",\r\n  default: \"default\",\r\n};\r\n\r\nexport const BUTTON_TYPE = {\r\n  CART_ADD: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <AddShoppingCartRounded />,\r\n    friendlyName: \"Add\",\r\n  },\r\n  CART_REMOVE: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.default,\r\n    startIcon: <RemoveShoppingCartRounded />,\r\n    friendlyName: \"Remove\",\r\n  },\r\n  CART_CLEAR: {\r\n    btnVariant: BTN_VARIANTS.outlined,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <RemoveCircleRounded />,\r\n    friendlyName: \"Empty Cart\",\r\n  },\r\n  CART_CHECKOUT: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <ShopRounded />,\r\n    friendlyName: \"Checkout\",\r\n  },\r\n};\r\n\r\nconst ShoppingCartActionButtons = ({ mItem, type }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  let UseAction = null;\r\n\r\n  let btnVariant = BUTTON_TYPE.CART_ADD.btnVariant;\r\n  let btnColor = BUTTON_TYPE.CART_ADD.btnColor;\r\n  let startIcon = BUTTON_TYPE.CART_ADD.startIcon;\r\n  let friendlyName = BUTTON_TYPE.CART_ADD.friendlyName;\r\n\r\n  const stateListOfMovies = useSelector(\r\n    (state) => state.shoppingCart.listOfMovies\r\n  );\r\n\r\n  const onAction = () => {\r\n    UseAction();\r\n  };\r\n\r\n  switch (type) {\r\n    case BUTTON_TYPE.CART_ADD:\r\n      btnVariant = BUTTON_TYPE.CART_ADD.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_ADD.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_ADD.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_ADD.friendlyName;\r\n\r\n      UseAction = () => {\r\n        if (stateListOfMovies.length === 0) {\r\n          // console.log('Adding FIRST item to CART...')\r\n          dispatch(shoppingCartActions.addListMovie(JSON.stringify(mItem)));\r\n          dispatch(\r\n            snackBarActions.displaySnackBar(cartNotifications.cartAddSuccess)\r\n          );\r\n        } else {\r\n          // console.log(mItem.imdbId)\r\n          const checkAdded = stateListOfMovies.some(\r\n            (x) => JSON.parse(x).id === mItem.id\r\n          );\r\n\r\n          if (checkAdded) {\r\n            dispatch(\r\n              snackBarActions.displaySnackBar(cartNotifications.cartAddFailed)\r\n            );\r\n            // console.log('Movie already added to CART...')\r\n          } else {\r\n            dispatch(shoppingCartActions.addListMovie(JSON.stringify(mItem)));\r\n            // console.log('Adding item to CART...')\r\n            dispatch(\r\n              snackBarActions.displaySnackBar(cartNotifications.cartAddSuccess)\r\n            );\r\n          }\r\n        }\r\n      };\r\n\r\n      break;\r\n    case BUTTON_TYPE.CART_REMOVE:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_REMOVE.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_REMOVE.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_REMOVE.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_REMOVE.friendlyName;\r\n\r\n      UseAction = () => {\r\n        //console.log(\"Remove item?: \" + mItem);\r\n        dispatch(shoppingCartActions.removeCartItem(mItem));\r\n        dispatch(\r\n          snackBarActions.displaySnackBar(cartNotifications.cartRemovedSuccess)\r\n        );\r\n      };\r\n\r\n      break;\r\n    case BUTTON_TYPE.CART_CLEAR:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_CLEAR.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_CLEAR.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_CLEAR.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_CLEAR.friendlyName;\r\n\r\n      UseAction = () => {\r\n        dispatch(shoppingCartActions.clearCart());\r\n        dispatch(\r\n          snackBarActions.displaySnackBar(cartNotifications.cartCleared)\r\n        );\r\n      };\r\n\r\n      break;\r\n\r\n    case BUTTON_TYPE.CART_CHECKOUT:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_CHECKOUT.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_CHECKOUT.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_CHECKOUT.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_CHECKOUT.friendlyName;\r\n\r\n      UseAction = () => {\r\n        dispatch(checkOutActions.setVisibility(\"\"));\r\n      };\r\n\r\n      break;\r\n\r\n    default:\r\n      UseAction = () => {};\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant={btnVariant}\r\n        color={btnColor}\r\n        className={classes.button}\r\n        startIcon={startIcon}\r\n        onClick={() => {\r\n          onAction();\r\n        }}\r\n      >\r\n        {friendlyName}\r\n      </Button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ShoppingCartActionButtons;\r\n","export const POSTER_SIZES = {\r\n    w200: 'w200',\r\n    w300: 'w300',\r\n    w400: 'w400',\r\n    w500: 'w500',\r\n    w800: 'w800'\r\n};\r\n\r\nexport function createPosterPathFull(size, endPath) {\r\n    const apiPosterPath = 'https://image.tmdb.org/t/p/';\r\n    return `${apiPosterPath}/${size}/${endPath}`;\r\n}\r\n","\r\nexport function matchGenreIdsToName(movieItemGenres, availableGenres) {\r\n    var movieGenresNamed = [];\r\n\r\n    movieItemGenres.forEach(genreNum => {\r\n        availableGenres.forEach(listItem => {\r\n            if (listItem.id === genreNum) {\r\n                movieGenresNamed.push(String(listItem.name));\r\n            }\r\n        });\r\n    });\r\n\r\n    return movieGenresNamed;\r\n}\r\n","import { Divider, Fade, IconButton, makeStyles, Slide } from '@material-ui/core';\r\nimport React from 'react'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from '../shopping-cart/ShoppingCartActionButtons';\r\nimport { createPosterPathFull, POSTER_SIZES } from \"../../helper-functions/poster\";\r\nimport { actions as actionsMovieSection, MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection'\r\nimport { useDispatch } from 'react-redux';\r\nimport MockGenres from '../../mockData/mock-data-genre.json';\r\nimport { MoreHorizRounded } from '@material-ui/icons';\r\nimport { matchGenreIdsToName } from '../../helper-functions/genres';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      width: '100%',\r\n      fontSize: 12,\r\n      flexDirection: 'column',\r\n      textShadow: '1px 1px #000',\r\n    },\r\n    mainContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        borderRadius: 10,\r\n        objectFit: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        \"&:hover\": {\r\n            transform: 'scale(0.98)'\r\n        }\r\n    },\r\n    topRow: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        flexDirection: 'row-reverse',\r\n        alignContent: 'end',\r\n        alignItems: 'center',\r\n        justifyContent: 'end',\r\n    },\r\n    infoContainer: {\r\n        width: '90%',\r\n        height: '100%',\r\n        marginLeft: '5%',\r\n        // background: 'red',\r\n        minHeight: '30vh',\r\n    },\r\n    divider: {\r\n        marginTop: 2,\r\n        marginBottom: 10,\r\n        background: 'rgb(175,175,175, 0.2)',\r\n        maxWidth: '100%',\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        fontSize: '1em',\r\n        fontWeight: 'bold',\r\n        wordWrap: 'break-word',\r\n        maxWidth: '90%',\r\n        textAlign: 'left',\r\n    },\r\n    year: {\r\n        textAlign: 'left',\r\n        maxWidth: '90%',\r\n    },\r\n    genres: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        '& *': {\r\n            marginTop: 5,\r\n            marginRight: 5,\r\n            padding: 5,\r\n            borderRadius: 5,\r\n            background: 'rgb(68,68,68, 0.5)',\r\n        },\r\n    },\r\n    bottomRow: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        flexDirection: 'row-reverse',\r\n        alignContent: 'end',\r\n        alignItems: 'end',\r\n        justifyContent: 'end',\r\n        background: 'linear-gradient(to top, rgb(0, 0, 0, 0.8), rgb(38, 38, 38, 0.6))',\r\n        borderBottomLeftRadius: 10,\r\n        borderBottomRightRadius: 10\r\n    },\r\n}));\r\n\r\nconst MovieMulti = ({ item, useId }) => {\r\n  \r\n  const classes = useStyles();\r\n\r\n  const useID = useId\r\n  const title = item.original_title\r\n  const releaseDate = item.release_date\r\n  const movieGenresNamed = matchGenreIdsToName(item.genre_ids, MockGenres.genres)\r\n  const posterPath = createPosterPathFull(POSTER_SIZES.w300, item.poster_path)\r\n\r\n  return(\r\n        <div id={`${useID} ${item.id}`}\r\n            className={classes.root}>\r\n            \r\n            <Slide direction={'right'} in={true} timeout={500}>\r\n                <div className={classes.mainContainer} \r\n                    style={{backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPath})`}}\r\n                    >\r\n            \r\n                    <div className={classes.topRow}>\r\n                        <ButtonMore mItem={item}/>\r\n                    </div>\r\n                \r\n                    <Divider className={classes.divider}/>\r\n\r\n                    <div className={classes.infoContainer}>\r\n\r\n                        <div className={classes.title}>\r\n                            <i style={{fontSize: 12}}>{title}</i>\r\n                        </div>\r\n\r\n                        <div className={classes.releaseDate}>\r\n                            <i style={{fontSize: 12}}>{String(releaseDate).slice(0, 4)}</i>\r\n                        </div>\r\n                        \r\n\r\n                        <div className={classes.genres}>\r\n                            {movieGenresNamed.map((genre) => {\r\n                                return <div key={genre}>{genre}</div>\r\n                            })}\r\n\r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                    <div className={classes.bottomRow}>\r\n                        <ShoppingCartActionButtons mItem={item} type={BUTTON_TYPE.CART_ADD}/>\r\n                    </div>\r\n\r\n                </div>\r\n            </Slide>\r\n        </div>\r\n  );\r\n\r\n}\r\n\r\nconst ButtonMore = ({ mItem }) => {\r\n   \r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                fontSize=\"medium\"\r\n                color={'secondary'}\r\n                onClick={\r\n                    () => {\r\n                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                        dispatch(actionsMovieSection.setSelectedMovie(mItem))\r\n                    }}\r\n                >\r\n                    <MoreHorizRounded/>\r\n            </IconButton>\r\n\r\n         \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieMulti;","import { Button, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    rootNotSignedIn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: 50,\r\n        marginBottom: 15,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        \"& > *\": {\r\n            marginBottom: 15,\r\n        }\r\n    }\r\n}));\r\n\r\nconst NotSignedIn = ({ ...props }) => {\r\n    \r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n            <div className={classes.rootNotSignedIn}>\r\n\r\n                <div className={classes.container}>\r\n\r\n                    <b>{props.message}</b>\r\n\r\n                    <Button\r\n                        style={{width: '30%'}}\r\n                        variant={'contained'}\r\n                        color={'secondary'}\r\n                        onClick={\r\n                            () => { history.push(\"/login\") }\r\n                        }>\r\n                        Sign in\r\n\r\n                        </Button>\r\n\r\n                        \r\n                </div>\r\n                \r\n                \r\n            </div>\r\n \r\n\r\n        </React.Fragment>\r\n    )\r\n\r\n}\r\n\r\nexport default NotSignedIn;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyBHdsXLFx1Z4XAzI8HhsAcYwVJcQ5E5PXo\",\r\n    authDomain: \"iths-react-movie-shop.firebaseapp.com\",\r\n    projectId: \"iths-react-movie-shop\",\r\n    storageBucket: \"iths-react-movie-shop.appspot.com\",\r\n    messagingSenderId: \"284458605047\",\r\n    appId: \"1:284458605047:web:6d0a86a0d45156970d76f2\",\r\n    measurementId: \"G-RHBQ6NZN13\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const fsDB = firebase.firestore();","import { fsDB as db } from './../../util/firebase'\r\nimport firebase from \"firebase/app\";\r\nimport { \r\n    actions as snackBarActions,  \r\n    commentNotifications\r\n} from \"../../redux/features/snackbars\";\r\n\r\n\r\nclass FirebaseUserWithCommentAndRating {\r\n    \r\n    constructor (displayName, photoUrl, uid, comment, rating) {\r\n        this.displayName = displayName;\r\n        this.photoUrl = photoUrl;\r\n        this.uid = uid;\r\n        this.comment = comment;\r\n        this.rating = rating;\r\n    }\r\n\r\n    toString() {\r\n        return this.displayName + ', ' + this.photoUrl + ', ' + this.uid;\r\n    }\r\n\r\n    toFirestore(data) {\r\n        return {\r\n            displayName: data.displayName,\r\n            photoUrl: data.photoUrl,\r\n            uid: data.uid,\r\n            comment: data.comment,\r\n            rating: data.rating,\r\n        };\r\n    }\r\n}\r\n\r\nexport const addComment = async(docRef, comment, rating, currentUser, dispatch) => {\r\n\r\n    const movieRef = db.collection(\"movies\").doc(`${docRef}`)\r\n\r\n    return db.runTransaction((transaction) => {\r\n\r\n        return transaction.get(movieRef).then((sfDoc) => {\r\n            \r\n            var newTotalRating = parseInt(rating)\r\n            var newVoteCount = 1\r\n\r\n            if (!sfDoc.exists) {\r\n\r\n            }\r\n\r\n            newTotalRating = (sfDoc.data() !== undefined) ? (sfDoc.data().totalRating + 3 ): 0\r\n            newVoteCount = (sfDoc.data() !== undefined) ? (sfDoc.data().voteCount + 1 ): 1\r\n\r\n            var newAverageRating = newTotalRating / newVoteCount\r\n            \r\n            const user = new FirebaseUserWithCommentAndRating(currentUser.displayName, currentUser.photoURL, currentUser.uid, `${comment}`, parseInt(rating))\r\n\r\n            let newDocProps = {\r\n                averageRating: newAverageRating,\r\n                totalRating: newTotalRating,\r\n                voteCount: newVoteCount,\r\n                comments: firebase.firestore.FieldValue.arrayUnion(user.toFirestore(user))\r\n            }\r\n   \r\n            transaction.set(movieRef, newDocProps);\r\n                 \r\n        });\r\n    \r\n    }).then(() => {\r\n        dispatch(snackBarActions.displaySnackBar(commentNotifications.commentAdded))\r\n    }).catch((error) => {\r\n        console.log(\"Transaction failed: \", error);\r\n    });\r\n    \r\n\r\n}\r\n\r\n\r\n\r\nexport const CommentFunction = { addComment }","import { \r\n    Button, \r\n    createMuiTheme, \r\n    FormControlLabel, \r\n    makeStyles, \r\n    Radio, \r\n    RadioGroup, \r\n    styled, \r\n    TextField } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport authService from '../../util/auth-service';\r\nimport NotSignedIn from '../shared-components/NotSignedIn';\r\nimport { addComment } from './comment-functions'\r\n\r\nconst strButtonText = \"Comment\"\r\n\r\nconst CustomRadioB = styled(({ color, ...other }) => <Radio {...other} />)({\r\n    background: (props) =>\r\n      props.color === 'white',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    color: 'white',\r\n    height: '100%',\r\n    padding: '0 10px',\r\n    margin: 8,\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        fontSize: 12,\r\n        borderRadius: 10,\r\n        // background: 'rgb(32,32,32, 0.6)',\r\n        flexWrap: 'column-reverse',\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        fontSize: 16,\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        textIndent: 15\r\n    },\r\n    divider: {\r\n        background: 'rgb(255,255,255, 0.1)',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    },\r\n    containerComment: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: 25,\r\n        marginRight: 25,\r\n        marginBottom: 20,\r\n    },\r\n    textField: {\r\n        color: 'white',\r\n    },\r\n    containerButton: {\r\n        display: 'flex',\r\n        flexDirection: 'row-reverse'\r\n    },\r\n    containerProfileInfo: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '100%',\r\n        textAlign: 'left',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        marginLeft: 15\r\n    },\r\n    profileImg: {\r\n        width: '50px',\r\n        height: '50px',\r\n        borderRadius: 25,\r\n        objectFit: 'cover'\r\n    },\r\n    profileName: {\r\n        fontSize: 14, \r\n        marginLeft: 10, \r\n        height: '100%',\r\n    },\r\n    rootNotSignedIn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '95%',\r\n    },\r\n    ratingGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '95%',\r\n        // background: 'rgb(255,255,255, 0.2)'\r\n    }\r\n}));\r\n\r\nconst theme = createMuiTheme({\r\n    overrides: {\r\n      MuiInputBase: {\r\n        input: {\r\n          background: \"#fff\",\r\n        },\r\n      },\r\n    },\r\n});\r\n\r\nconst userInitialState = {\r\n    displayName: null,\r\n    photoUrl: null\r\n}\r\n\r\nconst CommentAdd = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const item = useSelector(state => state.movieSection.selectedMovie)\r\n    const [currentUser, setCurrentUser] = useState(userInitialState);\r\n    const [comment, setComment] = useState('');\r\n    const [disableCommentBtn, setDisableCommentBtn] = useState(true);\r\n    const [rating, setRating] = useState(0);\r\n\r\n    useEffect(() => {\r\n      let cUser = authService.getCurrentUser()\r\n     \r\n      if(cUser !== null){\r\n        setCurrentUser(cUser)\r\n      }\r\n    }, [])\r\n\r\n    const handleCommentInput = (value) => {\r\n        setComment(value)\r\n        handleRatingAndComment(rating, comment)\r\n    }\r\n\r\n    const handleRatingAndComment = (rating, comment) => {\r\n       \r\n        if(String(comment).trimEnd().length >= 10 && rating !== 0){\r\n            setDisableCommentBtn(false)\r\n        } else {\r\n            setDisableCommentBtn(true)\r\n        }\r\n    };\r\n\r\n    const handleRatingChange = (event) => {\r\n        setRating(event.target.value);\r\n        console.log(event.target.value)\r\n        handleRatingAndComment(rating, comment)\r\n    };\r\n\r\n    const backUpProfilePhoto = 'https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/142819271/original/09dafa4104fa6aeca4e62f33326be4933ae7ccac/create-cartoon-profile-picture-abd7.jpg'\r\n\r\n    return currentUser.displayName ? (\r\n        <div className={classes.root}>\r\n  \r\n            <div className={classes.containerProfileInfo}>\r\n                        \r\n                <img \r\n                    className={classes.profileImg}\r\n                    alt={'profile'} \r\n                    src={currentUser.photoUrl ? currentUser.photoUrl: backUpProfilePhoto}/>\r\n                <b\r\n                    className={classes.profileName}>\r\n                    {currentUser.displayName ? currentUser.displayName : 'Not signed in'}\r\n                </b>\r\n\r\n            </div>\r\n\r\n            <div className={classes.formRating}>\r\n\r\n                    <RadioGroup style={{display: 'flex', flexDirection: 'row', padding: 15}} \r\n                            aria-label=\"rating\" name=\"rating\" value={rating} onChange={handleRatingChange}>\r\n                \r\n                        <FormControlLabel value=\"1\"  label=\"1\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"2\"  label=\"2\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"3\"  label=\"3\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"4\"  label=\"4\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"5\"  label=\"5\" control={<CustomRadioB/>} />\r\n\r\n                    </RadioGroup>\r\n\r\n            </div>\r\n        \r\n            <div className={classes.containerComment}>\r\n\r\n                <TextField\r\n                    not-required\r\n                    id=\"filled-required\"\r\n                    defaultValue=\"\"\r\n                    onChange={(event) => handleCommentInput(event.target.value)}\r\n                    variant=\"filled\"\r\n                    InputProps={{\r\n                        style: {\r\n                            color: \"white\",\r\n                            marginTop: 15,\r\n                            marginBottom: 15,\r\n                        },\r\n                        input: {\r\n                            color: 'red'\r\n                        }\r\n                    }}\r\n                    />\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant={'contained'}\r\n                        color={'secondary'}\r\n                        disabled={disableCommentBtn}\r\n                        onClick={\r\n                                () => { addComment(item.id, comment, rating, currentUser, dispatch) }\r\n                            }\r\n                        >\r\n                        {strButtonText}\r\n                        \r\n                    </Button>\r\n\r\n            </div>\r\n                 \r\n        </div>\r\n\r\n    )\r\n    : <NotSignedIn {...{ message: 'You need to sign in in order to comment!'}}/>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default CommentAdd;","\r\nimport React from 'react'\r\nimport { Divider, makeStyles } from '@material-ui/core';\r\nimport StarsComponent from '../shared-components/StarsComponent';\r\n\r\nconst tempStrComment = \"This is a comment made by someone\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginBottom: 15,\r\n        fontSize: 12,\r\n        borderRadius: 10,\r\n        flexWrap: 'column-reverse',\r\n    },\r\n    containerTop: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-start',\r\n        marginLeft: 5,\r\n        marginTop: 10,\r\n    },\r\n    profileImg: {\r\n        width: '50px',\r\n        height: '50px',\r\n        borderRadius: 25,\r\n        objectFit: 'cover',\r\n    },\r\n    profileName: {\r\n        fontSize: 14, \r\n        height: '100%',\r\n        marginLeft: 15,\r\n    },\r\n    starsRating: {\r\n        height: '100%',\r\n        marginLeft: 25,\r\n    },\r\n    containerComment: {\r\n        padding: 15,\r\n        textAlign: 'left',\r\n    },\r\n    containerProfileInfo: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '100%',\r\n        textAlign: 'left',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n}));\r\n  \r\nconst CommentSingle = ({...props}) => {\r\n    const classes = useStyles();\r\n\r\n    const item = props.item\r\n\r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.containerTop}>\r\n\r\n                    <div className={classes.containerProfileInfo}>\r\n\r\n                            <UserProfileMini userName={item.displayName} userPhotoUrl={item.photoUrl} rating={item.rating}/>\r\n                    \r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className={classes.containerComment}>\r\n\r\n                    <p style={{fontSize: 12}}>\r\n                        {item.comment} \r\n                    </p>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nconst UserProfileMini = ({ userName, userPhotoUrl, rating }) => {\r\n    \r\n    const classes = useStyles();\r\n    const backUpProfilePhoto = 'https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/142819271/original/09dafa4104fa6aeca4e62f33326be4933ae7ccac/create-cartoon-profile-picture-abd7.jpg'\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n                <img className={classes.profileImg}\r\n                    alt={'poster'} \r\n                    src={userPhotoUrl ? backUpProfilePhoto: backUpProfilePhoto}/>\r\n            \r\n                <div>\r\n                    <b className={classes.profileName}>\r\n                        {userName ? userName: 'Unknown'}\r\n                    </b>\r\n                    <div className={classes.starsRating}>\r\n                        <i>Rated {rating} out of 5</i>\r\n                    </div> \r\n                </div>\r\n               \r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nexport default CommentSingle;","import React from 'react'\r\nimport StarBorderTwoToneIcon from '@material-ui/icons/StarBorderTwoTone';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        height: '100%',\r\n        width: 'fit-content',\r\n        textAlign: 'right',\r\n        alignContent: 'center',\r\n        alignItems:'center'\r\n    },\r\n    starIcon: {\r\n        fontSize: '1em',\r\n    }\r\n}));\r\n\r\n//FORMER MOCK-STARS-COMPONENT\r\nconst StarsComponent = () => {\r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                <AddFiveStars></AddFiveStars>\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\nexport default StarsComponent\r\n\r\nconst AddFiveStars = () => {\r\n    const classes = useStyles();\r\n    return(\r\n        <React.Fragment>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n        </React.Fragment>\r\n    )\r\n} \r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Divider, makeStyles } from '@material-ui/core';\r\nimport CommentAdd from './CommentAdd';\r\nimport CommentSingle from './CommentSingle';\r\nimport { fsDB as db } from './../../util/firebase'\r\nimport { useSelector } from 'react-redux';\r\nimport SnackBarsRedux from './../../util/SnackBarsRedux'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      paddingBottom: 50,\r\n      alignItems: 'left'\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginBottom: 15,\r\n        textAlign: 'left'\r\n    },\r\n    containerComments: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginBottom: 15,\r\n    },\r\n    divider: {\r\n        background: 'rgb(63,63,63, 0.2)',\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n    },\r\n}));\r\n\r\nconst CommentSection = () => {\r\n    const classes = useStyles();\r\n\r\n    const item = useSelector(state => state.movieSection.selectedMovie)\r\n    const [comments, setComments]  = useState([]) \r\n\r\n    const fetchComments = () => {\r\n\r\n        db.collection(\"movies\").doc(`${item.id}`)\r\n            .onSnapshot((doc) => {\r\n                \r\n                if (doc.exists) {\r\n                    \r\n                    const data = doc.data()\r\n                    const tempArr = [];\r\n    \r\n                    data.comments.map((item) => (\r\n                        tempArr.push(item)\r\n                    ))\r\n    \r\n                    setComments(tempArr)\r\n    \r\n                } else {\r\n                \r\n                    setComments([])     \r\n                }\r\n \r\n        }, (error) => {\r\n            console.log(\"Error getting document, comments:\", error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchComments()\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                    <div className={classes.title}>\r\n                        \r\n                        <b>{'Comments'}</b>\r\n                        <Divider className={classes.divider}/>\r\n                    \r\n                    </div>\r\n    \r\n                    <div className={classes.containerComments}>\r\n                        \r\n                        {comments.map((item) => (\r\n                            <React.Fragment>\r\n                            \r\n                                <CommentSingle item={item}/>\r\n\r\n                            </React.Fragment>\r\n                        ))}\r\n\r\n                    </div>\r\n\r\n                    <div className={classes.title}>\r\n                    \r\n                        <b>{'Add a comment'}</b>\r\n                        <Divider className={classes.divider}/>\r\n                        <CommentAdd/>\r\n                \r\n                    </div>\r\n                   \r\n            </div>\r\n\r\n            <SnackBarsRedux/>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nexport default CommentSection;\r\n","import { Button, Fade, makeStyles } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport ShoppingCartActionButtons, {\r\n  BUTTON_TYPE,\r\n} from \"../shopping-cart/ShoppingCartActionButtons\";\r\nimport {\r\n  createPosterPathFull,\r\n  POSTER_SIZES,\r\n} from \"../../helper-functions/poster\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { matchGenreIdsToName } from \"../../helper-functions/genres\";\r\nimport {\r\n  actions as actionsMovieSection,\r\n  MOVIE_SECTION_SCREENS,\r\n} from \"../../redux/features/movieSection\";\r\nimport MockGenres from \"../../mockData/mock-data-genre.json\";\r\nimport CommentSection from \"../comment/CommentSection\";\r\nimport \"./MovieSection.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    maxWidth: \"50vh\",\r\n    justifyContent: \"center\",\r\n    justifyItems: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  containerContent: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    fontSize: 12,\r\n    // height: 'fit-content',\r\n  },\r\n  topRow: {\r\n    display: \"flex\",\r\n    flexDirection: \"row-reverse\",\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"right\",\r\n  },\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"100%\",\r\n    minHeight: \"30vh\",\r\n    maxHeight: \"50vh\",\r\n    height: \"80%\",\r\n    maxWidth: \"100%\",\r\n    borderTopLeftRadius: 15,\r\n    borderTopRightRadius: 15,\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n    objectFit: \"cover\",\r\n    background: \"red\",\r\n  },\r\n  infoContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n    \"& *\": {\r\n      marginTop: 5,\r\n      marginLeft: 5,\r\n      marginRight: 15,\r\n      marginBottom: 10,\r\n    },\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    fontSize: \"1.5em\",\r\n    fontWeight: \"bold\",\r\n    wordWrap: \"break-word\",\r\n    maxWidth: \"90%\",\r\n    textShadow: \"1px 1px #000\",\r\n    marginTop: 15,\r\n  },\r\n  year: {\r\n    display: \"flex\",\r\n    fontSize: \"1em\",\r\n    wordWrap: \"break-word\",\r\n    maxWidth: \"90%\",\r\n    textShadow: \"1px 1px #000\",\r\n  },\r\n  ratings: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    width: \"100%\",\r\n    fontSize: \"0.8em\",\r\n    wordWrap: \"break-word\",\r\n    marginTop: 15,\r\n  },\r\n  containerBottomButtons: {\r\n    display: \"flex\",\r\n    flexDirection: \"row-reverse\",\r\n    flexWrap: \"wrap\",\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  commentSection: {\r\n    marginTop: 50,\r\n  },\r\n  genres: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    \"& *\": {\r\n      marginTop: 5,\r\n      marginLeft: 5,\r\n      marginRight: 5,\r\n      padding: 5,\r\n      borderRadius: 5,\r\n      background: \"rgb(68,68,68, 0.1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst MovieSingle = ({ bshow }) => {\r\n  const classes = useStyles();\r\n\r\n  const item = useSelector((state) => state.movieSection.selectedMovie);\r\n\r\n  const title = item.original_title;\r\n  const releaseDate = item.release_date;\r\n  const itemOverView = item.overview;\r\n  const movieGenresNamed = matchGenreIdsToName(\r\n    item.genre_ids,\r\n    MockGenres.genres\r\n  );\r\n  const posterPath = createPosterPathFull(\"w500\", item.backdrop_path);\r\n\r\n  console.log(bshow);\r\n  const timeOutStart = 500;\r\n\r\n  const renderBackButton = () => {\r\n    return bshow === \"show\" ? <ButtonNavigateBack /> : null;\r\n  };\r\n\r\n  return (\r\n    <div id=\"movie-single-container-root\" className={classes.root}>\r\n      {renderBackButton()}\r\n      <Fade in={true} timeout={timeOutStart}>\r\n        <div id=\"movie-single-container\" className={classes.containerContent}>\r\n          <Fade in={true} timeout={timeOutStart + 500}>\r\n            <div\r\n              className={classes.mainContainer}\r\n              style={{\r\n                objectFit: \"scale-down\",\r\n                backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPath})`,\r\n              }}\r\n            >\r\n              <Fade in={true} timeout={timeOutStart + 1000}>\r\n                <div className={classes.title}>{title}</div>\r\n              </Fade>\r\n              <Fade in={true} timeout={timeOutStart + 1100}>\r\n                <div className={classes.year}>\r\n                  {String(releaseDate).slice(0, 4)}\r\n                </div>\r\n              </Fade>\r\n            </div>\r\n          </Fade>\r\n\r\n          <Fade in={true} timeout={timeOutStart + 1100}>\r\n            <div className={classes.infoContainer}>\r\n              <div className={classes.ratings}>\r\n                <b>{\"Popularity\"}</b>\r\n                <i>{item.popularity}</i>\r\n                <b>{\"Vote average\"}</b>\r\n                <i>{item.vote_average}</i>\r\n                <b>{\"Vote count\"}</b>\r\n                <i>{item.vote_count}</i>\r\n              </div>\r\n\r\n              <div className={classes.genres}>\r\n                {movieGenresNamed.map((genre) => {\r\n                  return <div>{genre}</div>;\r\n                })}\r\n              </div>\r\n\r\n              <div>{itemOverView}</div>\r\n            </div>\r\n          </Fade>\r\n          \r\n          <Fade in={true} timeout={timeOutStart + 1200}>\r\n            <div className={classes.containerBottomButtons}>\r\n                <ShoppingCartActionButtons\r\n                mItem={item}\r\n                type={BUTTON_TYPE.CART_ADD}\r\n                />\r\n            </div>\r\n          </Fade>\r\n\r\n          <Fade in={true} timeout={timeOutStart + 1300}>\r\n            <div className={classes.commentSection}>\r\n                <CommentSection />\r\n            </div>\r\n          </Fade>\r\n\r\n        </div>\r\n      </Fade>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ButtonNavigateBack = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant={\"outlined\"}\r\n        color={\"primary\"}\r\n        style={{ marginTop: 10, marginBottom: 10 }}\r\n        onClick={() => {\r\n          dispatch(\r\n            actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SLIDER_MOVIES)\r\n          );\r\n        }}\r\n      >\r\n        {\"Back\"}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieSingle;\r\n","import { IconButton, makeStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from '../shopping-cart/ShoppingCartActionButtons';\r\nimport { createPosterPathFull, POSTER_SIZES } from \"../../helper-functions/poster\";\r\nimport { actions as actionsMovieSection, MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection'\r\nimport { useDispatch } from 'react-redux';\r\nimport { MoreHorizRounded } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      textShadow: '1px 1px #000',\r\n    },\r\n    movieContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: 10,\r\n        objectFit: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        minWidth: '20vh',\r\n        marginLeft: '2%',\r\n        marginRight: '2%',\r\n    },\r\n    infoContainer: {\r\n        width: '90%',\r\n        height: '100%',\r\n        // background: 'red',\r\n        minHeight: '30vh',\r\n        padding: '10%'\r\n    },\r\n    divider: {\r\n        marginTop: 2,\r\n        marginBottom: 10,\r\n        background: 'rgb(175,175,175, 0.2)',\r\n        maxWidth: '100%',\r\n    },\r\n    genreTitle: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        fontSize: '1.5em',\r\n        fontWeight: 'bold',\r\n        margin: '5%',\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        fontSize: '0.8em',\r\n        fontWeight: 'bold',\r\n        wordWrap: 'break-word',\r\n        maxWidth: '90%',\r\n        textAlign: 'left',\r\n        marginBottom: 5\r\n    },\r\n    year: {\r\n        textAlign: 'left',\r\n        maxWidth: '90%',\r\n    },\r\n    genres: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        '& *': {\r\n            marginTop: 5,\r\n            marginRight: 5,\r\n            padding: 5,\r\n            borderRadius: 5,\r\n            background: 'rgb(68,68,68, 0.5)',\r\n        },\r\n    },\r\n}));\r\n\r\nconst MovieSectionLanding = ({ result }) => {\r\n  \r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [finished, setFinished] = useState(false)\r\n\r\n   useEffect(() => {\r\n       setFinished(result !== null)\r\n   }, [])\r\n\r\n  return !finished ? null : (\r\n                               \r\n        <React.Fragment>\r\n                        \r\n            {result.map((item) => (\r\n                <div className={classes.root}>\r\n                    \r\n                    <div className={classes.genreTitle}>\r\n                        <b>{item.name}</b>\r\n                    </div>\r\n                   \r\n                    <div style={{display: 'flex', flexDirection: 'row', width: '100%', height: '100%', overflowX: 'scroll'}}>\r\n                        \r\n                        {\r\n                            item.movies.map((movie) => (\r\n                            \r\n                                <div className={classes.movieContainer} \r\n                                    onClick={\r\n                                    () => {\r\n                                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                                        dispatch(actionsMovieSection.setSelectedMovie(movie))\r\n                                    }}\r\n                                    style={{\r\n                                        backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${createPosterPathFull(POSTER_SIZES.w400, movie.backdrop_path)})`\r\n                                    }}>\r\n                                    \r\n                                    <div className={classes.infoContainer}>\r\n                                       \r\n                                        <div className={classes.title}> \r\n                                            {movie.original_title} \r\n\r\n                                        </div>\r\n\r\n                                        <div className={classes.year}>\r\n                                            <i>{String(movie.release_date).slice(0, 4)}</i>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                        \r\n                            \r\n                                </div>\r\n                        ))}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            ))}\r\n            \r\n        </React.Fragment>\r\n  );\r\n\r\n}\r\n\r\nconst ButtonMore = ({ mItem }) => {\r\n   \r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                fontSize=\"medium\"\r\n                color={'secondary'}\r\n                onClick={\r\n                    () => {\r\n                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                        dispatch(actionsMovieSection.setSelectedMovie(mItem))\r\n                    }}\r\n                >\r\n                    <MoreHorizRounded/>\r\n            </IconButton>\r\n\r\n         \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieSectionLanding;","import React from 'react'\r\nimport { Fade, makeStyles } from '@material-ui/core';\r\nimport MovieMulti from './MovieMulti';\r\nimport { useSelector } from 'react-redux';\r\nimport { MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection';\r\nimport MovieSingle from './MovieSingle';\r\nimport CommentSection from '../comment/CommentSection';\r\nimport './MovieSection.css'\r\nimport MovieSectionLanding from './MovieSectionLanding';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    rootMulti: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 25,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootGrid: {\r\n        display: 'grid',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        gridTemplateColumns: '50% 50%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootSlider: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootCommentSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n    },\r\n    rootSingle: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    rootColumns: {\r\n        display: 'flex',\r\n        flexDirection: 'column', \r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    }\r\n}));\r\n\r\nconst MovieSection = ( {...props } ) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const screen = useSelector(state => state.movieSection.screen)\r\n    const RESULT = props.RESULT\r\n\r\n    if(RESULT !== null){\r\n\r\n        console.log('CurrentScreen:', screen)\r\n       \r\n        switch(String(screen)){\r\n           case MOVIE_SECTION_SCREENS.SLIDER_MOVIES:\r\n               return (\r\n                    <div className={classes.rootSlider}>\r\n                        \r\n                    \r\n                        {RESULT.map((item) => (\r\n               \r\n                            <MovieMulti key={'sliding-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                   \r\n                        ))}\r\n                 \r\n\r\n                    </div>\r\n               )\r\n          case MOVIE_SECTION_SCREENS.GRID_MOVIES:\r\n                return (\r\n                     <div className={classes.rootSlider}>\r\n \r\n                         {RESULT.map((item) => (\r\n                                <MovieMulti key={'grid-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                         ))}\r\n \r\n                     </div>\r\n                )\r\n           case MOVIE_SECTION_SCREENS.LIST_GENRES: \r\n               return (\r\n                    <div className={classes.rootGrid}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'genre-' + item.id} useId={'hover-container-genre'} />\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n            case MOVIE_SECTION_SCREENS.LIST_LANDING: \r\n               return (\r\n                    <div className={classes.rootColumns}>\r\n                        <MovieSectionLanding result={RESULT}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE: \r\n               return (\r\n                    <div className={classes.rootSingle}>\r\n                          <MovieSingle {...{bshow: 'show'}}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE_COMMENTS: \r\n               return (\r\n                    <div className={classes.rootCommentSection}>\r\n                        <CommentSection/>\r\n                    </div>\r\n                )\r\n           default:\r\n               return(\r\n                   <React.Fragment></React.Fragment>\r\n               )         \r\n       };\r\n\r\n \r\n    } else {\r\n        return(\r\n            null\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieSection;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions as actionsFetch, API_FETCHER_STATUSES } from './../redux/features/fetcherApi';\r\nimport { fetchAllForLandingPage, fetchListGenres, fetchListPopular } from './fetcherFunctions'\r\nimport { actions, MOVIE_SECTION_SCREENS } from './../redux/features/movieSection';\r\nimport MovieSection from '../components/fetcher-components/MovieSection';\r\n\r\n//MORE CASES\r\nexport const FETCH_API_TYPE = {\r\n    LIST_POPULAR: \"LIST_POPULAR\", \r\n    LIST_GENRE: \"LIST_GENRE\", \r\n    LIST_LANDING: 'LIST_LANDING',\r\n}\r\n\r\nconst FetcherAPI = ({...props}) => {\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const STATUS = useSelector(state => state.fetcherApi.STATUS);\r\n    const RESULT = useSelector(state => state.fetcherApi.RESULT);\r\n   \r\n    let fetchedResult = [];\r\n\r\n    if (STATUS.status === API_FETCHER_STATUSES.FETCHING.status) {\r\n    \r\n    } \r\n    else if ( STATUS.status === API_FETCHER_STATUSES.SUCCESS.status) {\r\n        fetchedResult = RESULT\r\n    }\r\n    else {\r\n        fetchedResult = [];\r\n    }\r\n\r\n    let useScreen = null;\r\n    let useFunction = null;\r\n    \r\n    switch(props.type){\r\n        case FETCH_API_TYPE.LIST_POPULAR:\r\n\r\n            useScreen = MOVIE_SECTION_SCREENS.SLIDER_MOVIES\r\n            useFunction = () => fetchListPopular(dispatch)\r\n            break;\r\n\r\n        case FETCH_API_TYPE.LIST_GENRE:\r\n        \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_GENRE\r\n            useFunction = () => fetchListGenres(dispatch, String(props.extras.id).toUpperCase())\r\n            break;\r\n\r\n        case FETCH_API_TYPE.LIST_LANDING:\r\n        \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_LANDING\r\n            useFunction = () => fetchAllForLandingPage(dispatch)\r\n            break;\r\n\r\n        default:\r\n    \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_POPULAR\r\n            useFunction = () => fetchAllForLandingPage(dispatch)\r\n\r\n            break;\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        StartFetching(useFunction)\r\n    }, [])\r\n    \r\n\r\n    if( fetchedResult !== null ){\r\n\r\n        dispatch(actions.setScreen(useScreen))\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <MovieSection {...{RESULT: RESULT}}/>\r\n            </React.Fragment>\r\n        );\r\n\r\n    } else {\r\n        return null\r\n    }\r\n   \r\n }\r\n\r\nexport default FetcherAPI;\r\n\r\nconst StartFetching = async (useFunction) => {\r\n    useFunction();\r\n}\r\n\r\n","\r\nimport MainSlider from \"../components/slider/MainSlider.js\";\r\nimport GenreSlider from \"../components/slider/GenreSlider\";\r\nimport React from \"react\";\r\nimport FetcherAPI, { FETCH_API_TYPE } from '../util/FetcherAPI.jsx';\r\n\r\nconst LandingPage = () => {\r\n\r\n    const posters = [\r\n        'https://image.tmdb.org/t/p/w300/rEm96ib0sPiZBADNKBHKBv5bve9.jpg',\r\n        'https://image.tmdb.org/t/p/w300/AoWY1gkcNzabh229Icboa1Ff0BM.jpg',\r\n        'https://image.tmdb.org/t/p/w300/oBgWY00bEFeZ9N25wWVyuQddbAo.jpg',\r\n        'https://image.tmdb.org/t/p/w300/tnAuB8q5vv7Ax9UAEje5Xi4BXik.jpg',\r\n        'https://image.tmdb.org/t/p/w300/AmUGn1rJ9XDDP6DYn9OA2uV8MIg.jpg'\r\n\r\n    ]\r\n    \r\n    const GENRES = [      \r\n        \"action\",\r\n        \"comedy\",\r\n        \"drama\",\r\n        \"fantasy\",\r\n        \"horror\",  \r\n        \"mystery\",\r\n        \"romance\",\r\n        \"thriller\",     \r\n        \"western\",     \r\n    ];\r\n\r\n\r\n    return(\r\n\r\n        <div className=\"App-Content\">\r\n            <MainSlider></MainSlider>\r\n             {GENRES.map((gener) => <GenreSlider key = {gener} id = {gener.toUpperCase()}  movies={posters}>{gener}</GenreSlider>)}\r\n        </div>\r\n    )\r\n\r\n    // return(\r\n\r\n    //     <React.Fragment>\r\n    //         <MainSlider></MainSlider>\r\n    //             <FetcherAPI {...{ type: FETCH_API_TYPE.LIST_LANDING}}/>\r\n    //     </React.Fragment>\r\n    // )\r\n\r\n\r\n}\r\n\r\nexport default LandingPage","import React from 'react'\r\n\r\nconst CommentPage = () => {\r\n\r\n    return <p>CommentPage</p>\r\n\r\n\r\n}\r\n\r\nexport default CommentPage","import React from \"react\";\r\nimport { Divider, Fade, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: '3%',\r\n        textAlign: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    iconContainer: {\r\n        margin: '2%',\r\n        fontWeight: 'bold'\r\n    },\r\n    containerText: {\r\n        textAlign: 'center'\r\n    }, \r\n    divider: {\r\n        marginTop: 15,\r\n        width: '95%',\r\n        background: \"rgb(255,255,255, 0.1)\"\r\n    }\r\n}))\r\n\r\nconst PageLableWithIcon = ({...props}) => {\r\n    \r\n    const classes = useStyles();\r\n\r\n    return(\r\n\r\n        <Fade in={true} timeout={500}>\r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.iconContainer}>\r\n                    {props.icon}\r\n                </div>\r\n\r\n                <div className={classes.containerText}>\r\n                    {props.text}\r\n                </div>\r\n\r\n                <Divider className={classes.divider}/>\r\n\r\n            </div>\r\n\r\n        </Fade>\r\n    );\r\n\r\n}\r\n\r\nexport default PageLableWithIcon;","import {Button, createMuiTheme, CssBaseline, Grid, Link, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport AuthService from \"../util/auth-service\"\r\nimport PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {Lock} from \"@material-ui/icons\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\n\r\nconst LoginPage = () => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: \"center\",\r\n\r\n        },\r\n\r\n        avatar: {\r\n            margin: theme.spacing(1),\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        form: {\r\n            maxWidth: '350px',\r\n            width: '90%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(2),\r\n            rowGap: '20px',\r\n            justifyContent: \"center\",\r\n            //backgroundColor: 'grey',\r\n            padding: '30px',\r\n        },\r\n        submit: {\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(5),\r\n\r\n        },\r\n        footer: {\r\n            margin: 'auto'\r\n        }\r\n    }));\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: \"dark\"\r\n        }\r\n    });\r\n\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser]  = useState(\"\")\r\n   const [logEmail, setEmail]  = useState(\"\")\r\n    const [logPassword, setPassword]  = useState(\"\")\r\n\r\n    const createUser = () => {\r\n        let email = \"test@test.test2\";\r\n        let password = \"testtest2\";\r\n\r\n        AuthService.register(email, password)\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(user)\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                let uid = user.uid;\r\n                setUser(user)\r\n                console.log(\"user\", user)\r\n            } else {\r\n                console.log(\"no user is signed in\", user)\r\n                setUser(\"\")\r\n                // User is signed out\r\n            }\r\n        });\r\n    }, [])\r\n\r\n    const signInWithEmailPassword = () => {\r\n        // let email = \"test@test.test2\";\r\n        // let password = \"testtest2\";\r\n\r\n        let email = logEmail;\r\n     let password = logPassword;\r\n\r\n        AuthService.login(email, password)\r\n    }\r\n\r\n    const signOut = () => {\r\n        setUser(\"\")\r\n        AuthService.logout()\r\n        console.log(user)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <AuthContext.Provider value={{user}}>\r\n                <PageLableWithIcon {...{ text: 'Logga in', icon: <Lock/>}}/>\r\n\r\n\r\n            <ThemeProvider theme={theme}>\r\n                <CssBaseline/>\r\n                <div className={classes.form} noValidate>\r\n                  {user.email ? 'Hej ' + user.displayName + \"!\" : user}\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        onChange={(v) => setEmail(v.target.value)}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Lsenord\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        onChange={(v) => setPassword(v.target.value)}\r\n                    />\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        data-testid=\"signin-anon\"\r\n                        onClick={() =>  user.email ? signOut() :  signInWithEmailPassword()}\r\n                    >\r\n                        {user.email ? \"Logga ut\" : \"Logga in\"}\r\n                    </Button>\r\n\r\n                    <Grid container>\r\n                        <Grid item className={classes.footer}\r\n                        >\r\n                            <Link href=\"register\" variant=\"body2\">\r\n                                {\"Inget konto? Skapa ett hr\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </ThemeProvider>\r\n\r\n            </AuthContext.Provider>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default LoginPage","\r\nimport { makeStyles, Zoom } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { createPosterPathFull, POSTER_SIZES } from '../../helper-functions/poster';\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from \"./ShoppingCartActionButtons\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      width: '100%',\r\n      flexDirection: 'column',\r\n      fontSize: 12,\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      // background: 'red'\r\n    },\r\n    mainContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      borderRadius: 10,\r\n      width: '100%',\r\n      height: '100%',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      objectFit: 'cover',\r\n      backgroundRepeat: 'no-repeat',\r\n      minHeight: '30vh',\r\n      maxWidth: '100%',\r\n      \"&:hover\": {\r\n          transform: 'scale(0.98)'\r\n      }\r\n    },\r\n    containerInfo: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      textAlign: 'center',\r\n      width: '100%',\r\n      height: '80%',\r\n      textIndent: 15,\r\n      // background: 'red'\r\n    },\r\n    title: {\r\n      display: 'flex',\r\n      fontSize: '1em',\r\n      fontWeight: 'bold',\r\n      wordWrap: 'break-word',\r\n      maxWidth: '100%',\r\n      textShadow: '1px 1px #000',\r\n      marginTop: 10,\r\n      textAlign: 'left'\r\n    },\r\n    year: {\r\n      display: 'flex',\r\n      fontSize: '1em',\r\n      wordWrap: 'break-word',\r\n      maxWidth: '100%',\r\n      textShadow: '1px 1px #000',\r\n      textAlign: 'left'\r\n    },\r\n    containerButton: {\r\n      display: 'flex',\r\n      flexDirection: 'row-reverse',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      height: '20%'\r\n    },\r\n    labelCost: {\r\n      fontWeight: \"lighter\",\r\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n      borderRadius: 5,\r\n      color: 'white',\r\n      background: 'rgb(79,174,109, 0.5)',\r\n      width: 'fit-content',\r\n      padding: '6px 8px',\r\n      letterSpacing: '0.02857em'\r\n    },\r\n}));\r\n\r\n\r\nconst CartItem = ({ item }) => {\r\n    \r\n    const classes = useStyle();\r\n    const pItem = JSON.parse(item)\r\n  \r\n    const title = pItem.original_title\r\n    const releaseDate = pItem.release_date\r\n   \r\n    const posterPathFull = createPosterPathFull(POSTER_SIZES.w500, pItem.backdrop_path)\r\n  \r\n    return(\r\n    \r\n      <React.Fragment>\r\n             <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div id={'cart-item'} className={classes.root}>\r\n\r\n                <div className={classes.mainContainer} \r\n                      style={{backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPathFull})`}}\r\n                      >\r\n\r\n                      <div className={classes.containerInfo}>\r\n                      \r\n                          <div className={classes.title}>\r\n                              {title}\r\n                          </div>\r\n\r\n                          <div className={classes.year}>\r\n                              {String(releaseDate).slice(0, 4)}\r\n                          </div>\r\n\r\n                      </div>\r\n    \r\n                      <div className={classes.containerButton}>\r\n                        \r\n                        <ShoppingCartActionButtons\r\n                            mItem={item} \r\n                            type={BUTTON_TYPE.CART_REMOVE}\r\n                          />\r\n                        <LabelCost text={'20.00'}/>\r\n\r\n                      </div>\r\n\r\n                </div>\r\n             </div>\r\n          </Zoom>\r\n      </React.Fragment>\r\n\r\n    );\r\n};\r\nexport default CartItem;\r\n\r\nconst LabelCost = ({text}) => {\r\n  const classes = useStyle();\r\n\r\n  return(\r\n      <div className={classes.labelCost}>${text} </div>\r\n  );\r\n}","import { Divider, makeStyles } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        // background: 'rgb(0,0,0, 0.1)',\r\n        // borderRadius: 5,\r\n    },\r\n    label: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        fontSize: 12,\r\n        paddingBottom: 5,\r\n        paddingTop: 5,\r\n    },\r\n    labelTotal: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        fontSize: 12,\r\n        color: 'rgb(79,174,109, 0.8)',\r\n        paddingBottom: 5,\r\n        paddingTop: 5,\r\n    },\r\n    labelLeft: {\r\n        width: '50%',\r\n        alignContent: 'left',\r\n        alignItems: 'left',\r\n        textAlign: 'left',\r\n        \"&:hover\": {\r\n            transform: 'scale(1.01)'\r\n        }\r\n    },\r\n    labelRight: {\r\n        width: '50%',\r\n        alignContent: 'right',\r\n        alignItems: 'right',\r\n        textAlign: 'right',\r\n        \"&:hover\": {\r\n            transform: 'scale(1.01)'\r\n        }\r\n    },\r\n    containerDetails: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    containerTotal: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingTop: 5,\r\n        paddingBottom: 5,\r\n        fontWeight: 'bold'\r\n    },\r\n    divider: {\r\n        background: 'rgb(32,32,32, 0.8)',\r\n        marginTop: 5,\r\n        marginBottom: 5,\r\n    }\r\n}));\r\n\r\n\r\nconst CartTotal = () => {\r\n\r\n    const classes = useStyle();\r\n    const shoppingCartCount = useSelector(state => state.shoppingCart.listCount);\r\n    const cost = calculatedCost(shoppingCartCount)\r\n\r\n    return(\r\n      <React.Fragment>\r\n          <div className={classes.root}>\r\n                \r\n            <div className={classes.containerDetails}>\r\n\r\n                <Label text={'Base amount'} num={cost.noVat}/>\r\n                <Label text={'VAT 25%'} num={cost.VAT}/>\r\n            \r\n\r\n            </div>\r\n            \r\n            <Divider className={classes.divider}/>\r\n\r\n            <div className={classes.containerTotal}>\r\n                <LabelTotal text={'Total'} num={cost.total}/>\r\n            </div>\r\n                  \r\n          </div>\r\n      </React.Fragment>\r\n  \r\n    );\r\n  \r\n};\r\n\r\nexport default CartTotal;\r\n\r\nfunction calculatedCost(count){\r\n    \r\n    try {\r\n        const total = (count * 20.00)\r\n        const noVat = (total * 0.8)\r\n        const VAT = (total * 0.2)\r\n\r\n        return createCost(noVat, VAT, total)\r\n        \r\n    } catch (error) {\r\n        // console.log('Error', error)\r\n    }\r\n    return createCost('', '', '')\r\n}\r\n\r\nfunction createCost(noVat, VAT, total){\r\n    return {\r\n        noVat,\r\n        VAT,\r\n        total\r\n    };\r\n}\r\n  \r\nconst Label = ( { text, num } ) => {\r\n\r\n    const classes = useStyle();\r\n    const fix = Number(num).toFixed(2)\r\n\r\n    return (\r\n         <div className={classes.label}>\r\n             <div className={classes.labelLeft}>{text}</div>\r\n             <div className={classes.labelRight}>- {fix} $</div>\r\n         </div>\r\n    );\r\n};\r\n\r\nconst LabelTotal = ( { text, num } ) => {\r\n\r\n    const classes = useStyle();\r\n    const fix = Number(num).toFixed(2)\r\n\r\n    return (\r\n         <div className={classes.labelTotal}>\r\n             <div className={classes.labelLeft}>{text}</div>\r\n             <div className={classes.labelRight}>- {fix} $</div>\r\n         </div>\r\n    );\r\n};\r\n","import mockDataGeneral from './mock-data-general.json';\r\n\r\nvar userBillingInfo = createBillingInfo();\r\n\r\nconst fetchBillingInfo = async () => {\r\n\r\n  const response = mockDataGeneral.billingInfo\r\n  const billingInfo = createBillingInfo(\r\n    response.firstName, \r\n    response.lastName,\r\n    response.address, \r\n    response.postalCode, \r\n    response.county, \r\n    response.country\r\n  );\r\n  \r\n  userBillingInfo = billingInfo\r\n    \r\n}\r\n\r\nfunction createBillingInfo(firstName, lastName, address, postalCode, county, country){\r\n  return {\r\n     firstName,\r\n     lastName,\r\n     address, \r\n     postalCode, \r\n     county, \r\n     country\r\n  };\r\n}\r\n\r\nexport const fetchers = { fetchBillingInfo }\r\n\r\nexport {\r\n  userBillingInfo\r\n}","import { makeStyles } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport authService from \"../../util/auth-service\";\r\nimport { userBillingInfo } from \"./../../mockData/mock-data-fetcher\";\r\n\r\nconst cartTotalStyle = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  label: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    fontSize: 12,\r\n    paddingBottom: 5,\r\n    paddingTop: 5,\r\n    \"&:hover\": {\r\n        transform: 'scale(1.01)'\r\n    }\r\n  },\r\n  left: {\r\n    width: \"50%\",\r\n    alignContent: \"left\",\r\n    alignItems: \"left\",\r\n    textAlign: \"left\",\r\n  },\r\n  right: {\r\n    width: \"50%\",\r\n    alignContent: \"right\",\r\n    alignItems: \"right\",\r\n    textAlign: \"right\",\r\n  },\r\n}));\r\n\r\n// + ' ' + userBillingInfo.lastName}/>\r\n\r\nconst CartBillingInfo = () => {\r\n  const classes = cartTotalStyle();\r\n  const [user] = useState(authService.getCurrentUser());\r\n  //console.log(user)\r\n\r\n  return user ? (\r\n    <React.Fragment>\r\n\r\n      <div className={classes.root}>\r\n          \r\n        <div className={classes.left}>\r\n          <Label text={\"Name\"} />\r\n          <Label text={\"Address\"} />\r\n          <Label text={\"Postal Code\"} />\r\n          <Label text={\"County\"} />\r\n          <Label text={\"Country\"} />\r\n        </div>\r\n\r\n        <div className={classes.right}>\r\n          <Label text={user.displayName ? user.displayName : \"-\"} />\r\n          <Label text={user.county ? user.county : \"-\"} />\r\n          <Label text={user.address ? user.address : \"-\"} />\r\n          <Label text={user.postalCode ? user.postalCode : \"-\"} />\r\n          <Label text={user.country ? user.country : \"-\"} />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  ) : null;\r\n};\r\n\r\nexport default CartBillingInfo;\r\n\r\nconst Label = ({ text }) => {\r\n  const classes = cartTotalStyle();\r\n\r\n  return <div className={classes.label}>{text}</div>;\r\n};\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst startPaymentProcess = createAction('start payment process');\r\nconst startValidation = createAction('start validation');\r\nconst setPaymentSuccess = createAction('payment completed');\r\nconst startRedirect = createAction('starting redirect completed');\r\n\r\nconst actions = { startPaymentProcess, startValidation, setPaymentSuccess, startRedirect };\r\n\r\nconst PAYMENT_PROCESSING_STATE = \r\n{\r\n  DEFAULT: {\r\n    status: 0,\r\n    message: 'default',\r\n  },\r\n  START: {\r\n    status: 1,\r\n    message: 'Started payment processing',\r\n  },\r\n  VALIDATING_INFO: {\r\n    status: 2,\r\n    message: 'Started payment validation',\r\n  },\r\n  COMPLETED: {\r\n    status: 3,\r\n    message: 'Payment completed, thank you!',\r\n  },\r\n  DISPLAY_REDIRECT_2: {\r\n    status: 4,\r\n    message: 'Moving to receipt in 2 seconds',\r\n  },\r\n  DISPLAY_REDIRECT_1: {\r\n    status: 5,\r\n    message: 'Moving to receipt in 1 seconds',\r\n  },\r\n  DISPLAY_REDIRECT_0: {\r\n    status: 6,\r\n    message: 'Redirecting...',\r\n  }\r\n\r\n}\r\n\r\nconst initialState = {\r\n    STATUS : PAYMENT_PROCESSING_STATE.DEFAULT,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n  [startPaymentProcess]: (state, action) => {\r\n      console.log(\"Start payment with: \", action.payload)\r\n      const value = action.payload\r\n      state.STATUS = value\r\n  }, \r\n  [startRedirect]: (state, action) => {\r\n    console.log(\"Start red with: \", action.payload)\r\n    const value = action.payload\r\n    state.STATUS = value\r\n  },  \r\n})\r\n\r\n\r\n\r\nexport { actions, reducer, PAYMENT_PROCESSING_STATE };","\r\nimport { LinearProgress, makeStyles, Slide } from \"@material-ui/core\";\r\nimport { AttachMoneyRounded } from '@material-ui/icons';\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport {  actions, PAYMENT_PROCESSING_STATE } from '../../redux/features/paymentProcessor';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      marginTop: 10,\r\n      marginBottom: 10,\r\n      color: 'white',\r\n      justifyContent: 'center',\r\n      justifyItems: 'center',\r\n      alignContent: 'center'\r\n    },\r\n    containerIcon: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    containerText: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n    },\r\n    containerProgress: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 5,\r\n    }\r\n\r\n}))\r\n\r\nconst PaymentSimulator = ({ status }) => {\r\n    \r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n   \r\n    let content = null;\r\n    let displayIcon = null;\r\n\r\n    if (status.message === PAYMENT_PROCESSING_STATE.DEFAULT.message) {\r\n        console.log('STATUS 0', status)\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.START.message) {\r\n\r\n        console.log('STATUS 1', status)\r\n        content = PAYMENT_PROCESSING_STATE.START\r\n\r\n        setTimeout(function(){\r\n                dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.VALIDATING_INFO))\r\n\r\n            }, 1000\r\n        );\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.VALIDATING_INFO.message) {\r\n\r\n        console.log('STATUS 2', status)\r\n        content =  PAYMENT_PROCESSING_STATE.VALIDATING_INFO\r\n\r\n        setTimeout(function(){\r\n                dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.COMPLETED))\r\n            }, 2000\r\n        );\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.COMPLETED.message) {\r\n        \r\n        console.log('STATUS 3', status)\r\n\r\n        content =  PAYMENT_PROCESSING_STATE.COMPLETED\r\n            setTimeout(function(){\r\n                dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2))\r\n\r\n            }, 2000\r\n        );\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2.message) {\r\n        \r\n        console.log('STATUS 4', status)\r\n\r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2\r\n       \r\n        setTimeout(function(){\r\n           \r\n            dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1))\r\n  \r\n        }, 1000\r\n    );\r\n    }\r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1.message) {\r\n        \r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1\r\n\r\n        setTimeout(function(){\r\n         \r\n            dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0))\r\n            }, 1000\r\n        );\r\n    \r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0.message) {\r\n       \r\n        // displayIcon = <AttachMoneyRounded/> \r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0\r\n\r\n        setTimeout(function(){\r\n                content =  PAYMENT_PROCESSING_STATE.COMPLETED\r\n                history.push(\"/profile\")\r\n                dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DEFAULT))\r\n            }, 200\r\n        );\r\n       \r\n    }\r\n    else {\r\n        content = null;\r\n    }\r\n\r\n    if(content !== null){\r\n        return (\r\n         \r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.containerIcon} style={{ display: displayIcon ? 'flex' : 'none'}}>\r\n                    {displayIcon}{displayIcon}{displayIcon}\r\n                </div>\r\n                \r\n                <div className={classes.containerText}>\r\n                    <div>\r\n                        <h3>{content.message}</h3>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className={classes.containerProgress} style={{ display: displayIcon ? 'none' : 'flex'}}>\r\n                    <div style={{marginBottom: 15}}>\r\n                        <i>{content.status ? content.status : ''}</i>\r\n                        <i>{' / '}</i>\r\n                        <i>{'6'}</i>\r\n                    </div>\r\n                    <LinearProgress color=\"secondary\" />\r\n                </div>\r\n    \r\n            </div>\r\n      \r\n          );\r\n\r\n    } else {\r\n        return (\r\n            null\r\n          );\r\n    }\r\n   \r\n  }\r\n\r\n  export default PaymentSimulator;","import { Button } from \"@material-ui/core\";\r\nimport { Payment } from '@material-ui/icons';\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  actions, PAYMENT_PROCESSING_STATE } from '../../redux/features/paymentProcessor';\r\nimport PaymentSimulator from './PaymentSimulator'\r\n\r\nconst PayButton = (props) => {\r\n\r\n    const [startPayment, setStartPayment] =  useState(false)\r\n    const status = useSelector(state => state.paymentProcessor.STATUS);\r\n    const dispatch = useDispatch();\r\n\r\n    console.log(startPayment)\r\n\r\n    const startPayProcess = () => {\r\n    \r\n        if(!startPayment){\r\n            console.log('Starting process')\r\n            dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.START))\r\n        }\r\n    }\r\n\r\n    if(props.enabled && props.signedIn && props.hasItems){\r\n      return(\r\n        <React.Fragment>\r\n                \r\n              <div style={{\r\n                        display: 'flex', \r\n                        width: '100%', \r\n                        flexDirection: 'column', \r\n                        textAlign: 'center',\r\n                        alignItems: 'center'\r\n                        }}>\r\n\r\n                <div style={{display: startPayment, flexDirection: 'row', width: '75%'}}>\r\n                    <PaymentSimulator status={  status}/>      \r\n                </div>\r\n\r\n                <Button\r\n                      style={{width: '75%'}}\r\n                      variant={'contained'}\r\n                      color={'primary'}\r\n                      // className={classes.button}\r\n                      startIcon={<Payment/>}\r\n                        onClick={() => (\r\n                            startPayProcess()\r\n                        )}>\r\n                      {'Make Payment'}\r\n                </Button>\r\n                \r\n            </div>\r\n  \r\n        </React.Fragment>\r\n      );\r\n  \r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n  \r\n          <div style={{\r\n                display: 'flex', \r\n                width: '100%', \r\n                flexDirection: 'column', \r\n                textAlign: 'center',\r\n                alignItems: 'center'\r\n                }}>\r\n  \r\n              <i style={{fontSize: 12, maxWidth: '75%'}}>You need to accept the Shipping Terms before we can process a payment.</i>\r\n              \r\n              <Button\r\n                  style={{width: '75%', marginTop: 15}}\r\n                  disabled\r\n                  variant={'contained'}\r\n                  color={'default'}\r\n                  startIcon={<Payment/>}>\r\n                    {'Pay'}\r\n                    \r\n            </Button>\r\n          </div>\r\n        </React.Fragment>\r\n        \r\n      );\r\n    }\r\n\r\n}\r\n\r\nexport default PayButton;","import { Button, Checkbox, Collapse, Fade, FormControlLabel, makeStyles, Radio, styled, Zoom } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport PayButton from './PayButton'\r\nimport ShippingPolicy from './../../docs/shipping-policy.json'\r\nimport PageLableWithIcon from '../../pages/PageLabelWithIcon';\r\nimport { AccountBalance, TheatersTwoTone } from '@material-ui/icons';\r\n\r\nconst CustomCheckB = styled(({ color, ...other }) => <Checkbox {...other} />)({\r\n  background: (props) =>\r\n    props.color === 'white',\r\n  border: 0,\r\n  borderRadius: 3,\r\n  color: 'white',\r\n  height: '100%',\r\n  padding: '0 10px',\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      height: '100%',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      alignContent: 'center',\r\n      paddingTop: 30,\r\n      paddingBottom: 30,\r\n    },\r\n    containerPolicy: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      height: '100%'\r\n    },\r\n    checkOutContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '100%',\r\n      marginTop: '5%',\r\n    },\r\n    sectionHeader: {\r\n      width: '100%',\r\n      textIndent: 5,\r\n    }\r\n}));\r\n\r\n\r\nconst CheckOutRedux = () => {\r\n\r\n    const classes = useStyles();\r\n    const displayCheckoutComp = useSelector(state => !state.checkOut.visibility)\r\n    // console.log('DisplayCheckOutComp?: ', displayCheckoutComp)\r\n    \r\n    const [checked, setChecked] = useState(false);\r\n    const [termsDisplay, setTermsDisplay] = useState(true);\r\n    \r\n    const handleChange = (event) => {\r\n       setChecked(event.target.checked);\r\n    };\r\n\r\n    const handleDisplayTerms = () => {\r\n        setTermsDisplay(!termsDisplay)\r\n    }\r\n\r\n    const termsVis = () => {\r\n      return !termsDisplay ? (\r\n          <ShippingTermsText termsDisplay={termsDisplay}/>\r\n      ): null\r\n  }\r\n\r\n  return (\r\n        <div className={classes.root} style={{ display: displayCheckoutComp ? 'flex' : 'none'}}>\r\n\r\n            <div className={classes.header}>\r\n                <PageLableWithIcon {...{ text: 'Checkout', icon: <AccountBalance/>}}/>\r\n            </div>\r\n\r\n            <div \r\n                className={classes.containerPolicy}> \r\n                  \r\n                   <div className={classes.sectionHeader}>\r\n          \r\n                         <Button\r\n                          variant={'contained'}\r\n                          color={'default'}\r\n                          style={{marginBottom: 15}}\r\n                          onClick={() => {\r\n                              handleDisplayTerms()\r\n                          }}\r\n                         \r\n                         >{termsDisplay ? 'Show Terms' : 'Hide Terms'}</Button>   \r\n                \r\n                  </div>\r\n\r\n  \r\n                  {termsVis()}\r\n                  {/* <Fade in={!termsDisplay} timeout={1000}> */}\r\n\r\n                  <ShippingTerms\r\n                      hidden={termsDisplay} \r\n                      handleChange={() => handleChange} \r\n                    />\r\n             \r\n            </div>\r\n         \r\n         \r\n            <div \r\n                className={classes.checkOutContainer}>\r\n                  <PayButton \r\n                    enabled={checked} \r\n                    signedIn={true} \r\n                    hasItems={true}\r\n                    />\r\n            </div>\r\n        \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ShippingTermsText = ({ termsDisplay }) => {\r\n\r\n  const shipPolicy = ShippingPolicy.policy\r\n \r\n  return(\r\n  \r\n    <Fade in={!termsDisplay} timeout={1000}>\r\n      \r\n      <div style={{border: 'none', width: '75%'}}>\r\n        {\r\n          shipPolicy.map((item) => (\r\n              <React.Fragment>\r\n                <b style={{fontSize: 14}}>{item.title}</b>\r\n                <p style={{fontSize: 12}}>{item.text}</p>\r\n              </React.Fragment>\r\n          ))\r\n          \r\n        }\r\n      </div>\r\n    </Fade>\r\n\r\n  );\r\n\r\n};\r\n\r\nconst ShippingTerms = ({ checked, handleChange}) => {\r\n\r\n  const style = makeStyles((theme) => ({  \r\n      formControl: {\r\n        marginTop:  theme.spacing(5),\r\n        marginBottom:  theme.spacing(3),\r\n      }\r\n  }));\r\n\r\n  return(\r\n\r\n        <div className={style.formControl}>\r\n                  \r\n          <FormControlLabel\r\n              className={style().formControl}\r\n              control={\r\n                <CustomCheckB\r\n                  checked={checked}\r\n                  onChange={handleChange()}\r\n                  inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                />\r\n              }   \r\n            label=\"I have read and accepted the Shipping terms\"\r\n          />\r\n\r\n      </div>\r\n\r\n  );\r\n\r\n};\r\n\r\nexport default CheckOutRedux;","import { ButtonGroup, Container, Divider, makeStyles, Slide, Typography, Zoom } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\"\r\nimport CartItem from './CartItem'\r\nimport CartTotal from './CartTotal'\r\nimport CartBillingInfo from './CartBillingInfo'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from \"./ShoppingCartActionButtons\";\r\nimport { fetchers } from './../../mockData/mock-data-fetcher'\r\nimport CheckOutRedux from '../check-out/CheckOutRedux';\r\nimport authService from '../../util/auth-service';\r\nimport NotSignedIn from '../shared-components/NotSignedIn';\r\nimport './ShoppingCart.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      width: '95%',\r\n      height: '100%',\r\n      overflow: 'hidden'\r\n    },\r\n    header: {\r\n      padding: 5,\r\n    },\r\n    dividerSection: {\r\n      marginTop: 15,\r\n      marginBottom: 15,\r\n      backgroundColor: 'rgba(255, 255, 255, 0.2)'\r\n    },\r\n    cartListItems: {\r\n      width: '90%',\r\n    },\r\n    cartTotal: {\r\n      display: 'flex',\r\n      width: '90%',\r\n    },\r\n    cartItemContainer: {\r\n      width: '100%',\r\n    },\r\n    containerCheckOutButton: {\r\n      display: 'flex',\r\n      width: '90%',\r\n      marginTop: 15,\r\n      marginBottom: 15,\r\n      alignContent: 'center',\r\n      justifyItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    containerCheckOutComp: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '90%',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      justifyItems: 'center',\r\n      justifyContent: 'center'\r\n    }\r\n\r\n}));\r\n\r\n\r\nconst ShoppingCartRedux = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [user] = useState(authService.getCurrentUser())\r\n    // const displayCheckout = useSelector(state => state.checkOut.visibility)\r\n    const hasCartItems = useSelector(state => state.shoppingCart.listOfMovies.length !== 0)\r\n\r\n    const handleSignedIn = () => {\r\n\r\n      return (user !== null) ? (\r\n          <ShoppingCartActionButtons \r\n            type={BUTTON_TYPE.CART_CHECKOUT}\r\n          />\r\n      ) : (<NotSignedIn {...{ message: 'You need to Sign In in order to proceed to checkout!'}}/>)\r\n\r\n    }\r\n\r\n    const handleCheckoutVisibility = () => {\r\n      \r\n      return (hasCartItems && user !== null) ? \r\n          (\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <CheckOutRedux/>\r\n            </Zoom>\r\n          ) : null\r\n    }\r\n\r\n    const checkCartNotEmpty = () => {\r\n      \r\n      return (hasCartItems) ? \r\n          (\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n                <ShoppingCartActionButtons \r\n                        style={{marginTop: 5}}\r\n                        mItem={''} \r\n                        type={BUTTON_TYPE.CART_CLEAR}/>\r\n            </Zoom>\r\n          ) : null\r\n    }\r\n\r\n\r\n    fetchers.fetchBillingInfo()\r\n\r\n    return (\r\n        <Container className={classes.root}>\r\n\r\n            <div className={classes.header}>\r\n\r\n          \r\n                {checkCartNotEmpty()}\r\n\r\n\r\n            </div>\r\n\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div className={classes.cartListItems}>\r\n              \r\n                  <CartListItems/>\r\n                \r\n              </div>\r\n            </Zoom>\r\n\r\n\r\n            <Divider className={classes.dividerSection}></Divider> \r\n\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div className={classes.cartTotal}>\r\n                  \r\n                  <CartTotal/>\r\n                  <CartBillingInfo/>\r\n\r\n              </div>\r\n            </Zoom>\r\n        \r\n            {/* <Divider className={classes.dividerSection}></Divider>  */}\r\n\r\n            <div className={classes.containerCheckOutButton}>\r\n\r\n                {handleSignedIn()}\r\n         \r\n            </div>\r\n\r\n            <div className={classes.containerCheckOutComp}>\r\n                {handleCheckoutVisibility()}\r\n            </div>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nconst CartListItems = () => {\r\n  \r\n  const classes = useStyles();\r\n  const shoppingCartItems = useSelector(state => state.shoppingCart.listOfMovies);\r\n\r\n  if(shoppingCartItems.length !== 0){\r\n    return (\r\n      <React.Fragment>\r\n            <div id={'container-cart-items'} className={classes.cartItemContainer}>\r\n      \r\n                {shoppingCartItems.map((element) => (\r\n                      <CartItem \r\n                          key={element.imdbId} \r\n                          item={element}/>\r\n                ))}\r\n            \r\n            </div>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return (\r\n      <React.Fragment>\r\n         {/*TODO: add styling to div*/}\r\n         {/*TODO: suggest user to go to \"Section\"?*/}\r\n        <div style={{padding: 15}}>\r\n          <Typography>No items added to cart :(</Typography>   \r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n};\r\nexport default ShoppingCartRedux;","import React from \"react\";\r\nimport ShoppingCart from '../components/shopping-cart/ShoppingCartRedux';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { ShoppingCartRounded } from '@material-ui/icons';\r\nimport PageLableWithIcon from './PageLabelWithIcon';\r\nimport FetcherAPI, { FETCH_API_TYPE } from './../util/FetcherAPI'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    containerSuggestion: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: '3%',\r\n        textAlign: 'center',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        justifyItems: 'center',\r\n    },\r\n    containerQuickAdd: {\r\n        width: '100%',\r\n    },\r\n}))\r\n\r\n\r\nconst ShoppingCartPage = () => {\r\n    \r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n\r\n            <PageLableWithIcon {...{ text: 'Shopping cart', icon: <ShoppingCartRounded/>}}/>\r\n\r\n            <ShoppingCart/>\r\n   \r\n             <div className={classes.containerSuggestion}>\r\n                 <h5>Popular Movies</h5>\r\n                 \r\n                 <div className={classes.containerQuickAdd}>\r\n                    <FetcherAPI {...{ type: FETCH_API_TYPE.LIST_POPULAR }}/>\r\n                 </div>\r\n                \r\n             </div>\r\n    \r\n\r\n\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default ShoppingCartPage ","import React from 'react'\r\n\r\nconst SearchPage = () => {\r\n\r\n    return <p>SearchPage</p>\r\n\r\n\r\n}\r\n\r\nexport default SearchPage","import PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {AccountCircle} from \"@material-ui/icons\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Button, createMuiTheme, CssBaseline, Divider, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport ShoppingCartActionButtons, {BUTTON_TYPE} from \"../components/shopping-cart/ShoppingCartActionButtons\";\r\nimport CommentSection from \"../components/comment/CommentSection\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport AuthService from \"../util/auth-service\";\r\nimport firebase from \"firebase\";\r\nimport { Redirect } from 'react-router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '80vh',\r\n        margin: 'auto',\r\n        borderColor: 'white',\r\n        color: 'white',\r\n        justifyContent: 'center',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n\r\n    },\r\n    palette: {\r\n        type: \"dark\"\r\n    },\r\n    textField: {\r\n        width: '80%',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        paddingBottom: 0,\r\n        marginTop: 0,\r\n        fontWeight: 500,\r\n        alignSelf: 'center',\r\n    },\r\n    topRow: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        maxWidth: 450,\r\n        height: '100%',\r\n        gap: '30px',\r\n        margin: 'auto',\r\n        textAlign: 'center',\r\n        alignContent: 'center',\r\n        alignSelf: 'center',\r\n        justifyContent: 'center',\r\n\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(1),\r\n        width: '80%',\r\n        maxWidth: '350px',\r\n        justifyContent: 'center',\r\n        margin: 'auto',\r\n    },\r\n    logInButton: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(1),\r\n        width: '80%',\r\n        maxWidth: 350,\r\n        justifyContent: 'center',\r\n        alignSelf: 'center',\r\n        margin: 'auto',\r\n    },\r\n    link: {\r\n      color: 'red',\r\n    },\r\n    imageContainer: {\r\n        maxWidth: '95%',\r\n        maxHeight: '30%',\r\n    },\r\n\r\n}));\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        type: \"dark\"\r\n    }\r\n});\r\n\r\n\r\nconst ProfilePage = () => {\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser] = useState()\r\n\r\n    const signOut = () => {\r\n        AuthService.logout()\r\n        setUser(null)\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(user)\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                let uid = user.uid;\r\n                setUser(user)\r\n                console.log(\"user profile page\", user)\r\n            } else {\r\n                console.log(\"no user is signed in\", user)\r\n                setUser(null)\r\n                // User is signed out\r\n            }\r\n        });\r\n    }, [])\r\n\r\n    const getUser = () => {\r\n        const user =AuthService.getCurrentUser()\r\n        setUser(user)\r\n        console.log(user)\r\n    }\r\n\r\n    const removeAccount = () => {\r\n        AuthService.deleteUser()\r\n    }\r\n\r\n    const handleInput = (name, value) => {\r\n        const displayName = name === 'username' ? value : null\r\n        if (displayName){\r\n        AuthService.updateUserProfile(displayName)\r\n        console.log(name, value)\r\n        }\r\n        const userId = user?.uid\r\n        console.log(userId)\r\n        const newUser = {\r\n            userId: userId,\r\n            firstname: name === \"firstname\" ? value : null,\r\n            lastname:name === \"lastname\" ? value : null,\r\n            address: name === \"address\" ? value : null,\r\n        }\r\n        AuthService.updateUser(newUser)\r\n\r\n    }\r\n\r\n\r\n    return(\r\n        <div id='hover-container' className={classes.root}>\r\n\r\n            <PageLableWithIcon {...{ text: 'Din profil', icon: <AccountCircle/>}}/>\r\n\r\n            {user ?\r\n                <ThemeProvider theme={theme}>\r\n                    <CssBaseline/>\r\n                    <div className={classes.topRow}>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                  defaultValue={user.displayName} name=\"username\" label=\"Anvndarnamn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   name=\"firstname\" label=\"Namn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   name=\"lastname\" label=\"Efternamn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   name=\"address\" label=\"Address\" variant=\"outlined\"/>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            data-testid=\"signin-anon\"\r\n                            onClick={signOut}\r\n                        >\r\n                            Log ut\r\n                        </Button>\r\n                        <a className={classes.link} onClick={removeAccount}>Remove account</a>\r\n                    </div>\r\n                </ThemeProvider>\r\n\r\n            :\r\n                <div className={classes.topRow}>\r\n                <Typography>Logga in fr att se din profil</Typography>\r\n                <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.logInButton}\r\n                data-testid=\"signin-anon\"\r\n                onClick={() => window.location = 'register'}\r\n                >\r\n                Logga in\r\n                </Button>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default ProfilePage","\r\nimport './Header.css';\r\nimport React from 'react'\r\n\r\nfunction Header({children,page}) {\r\n    \r\n  let iconsClasses = {\r\n        default: \"fas fa-exclamation-triangle\",\r\n        shoppingcart: \"fas fa-shopping-cart\",\r\n        payment:\"far fa-credit-card\",\r\n        action: \"fas fa-fighter-jet\",\r\n        comedy:\"fas fa-grin-beam\",\r\n        drama:\"fas fa-theater-masks\",\r\n        fantasy:\"fas fa-dragon\",\r\n        horror:\"fas fa-ghost\",\r\n        mystery:\"fas fa-user-secret\",\r\n        romance:\"fas fa-grin-hearts\",\r\n        thriller:\"fas fa-flushed\",\r\n        western:\"fas fa-hat-cowboy\"\r\n      }\r\n\r\n  let obj = Object.keys(iconsClasses).filter((key) => key.toUpperCase() === page.toUpperCase())\r\n  let icon = !obj.length ? iconsClasses.default : iconsClasses[`${page.toLowerCase()}`]\r\n\r\n\r\n\r\n\r\n  return (\r\n   <React.Fragment>\r\n    \r\n    <div className=\"header__container\">\r\n        <div className=\"header__container-logo\"><i className={icon}></i></div>\r\n        <div className=\"header__container-txt\">{children.toUpperCase()}</div>\r\n    </div>\r\n   </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n// http://www.omdbapi.com/?apikey=733ba668&i=\"\"","\r\n\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport {fetchGenre} from '../../util/ApiFetcher'\r\n\r\n\r\n \r\nexport const fetchGenreMovies = createAsyncThunk(\r\n  'genrePage/fetchStatus', \r\n  async (action, thunkAPI) => {\r\n   try{\r\n    let response = await fetchGenre(action.genre,action.amount,action.year,action.sorted,action.vote)\r\n    console.log(response)\r\n    return response \r\n   }catch(error){\r\n      throw Error(error)\r\n   }\r\n\r\n}\r\n)\r\n\r\nexport const genrePageSlice = createSlice({\r\n    name: 'genrePage',\r\n    initialState: {\r\n      result: [],\r\n      genre:\"\",\r\n      status:\"LOADING\",\r\n    },\r\n    reducers:{\r\n      setGenre: (state,action) => {\r\n        state.genre = action.payload\r\n      },\r\n      setReady: (state,action) => {\r\n        state.ready = action.payload\r\n      }\r\n    \r\n    },\r\n    extraReducers: {\r\n      [fetchGenreMovies.fulfilled]: (state,action) => {\r\n        \r\n        state.result = action.payload;\r\n        state.status = \"READY\";\r\n      },\r\n      [fetchGenreMovies.rejected]: (state,action) => {\r\n        console.log(action.error.message)\r\n        state.status = \"ERROR\"\r\n      },\r\n      [fetchGenreMovies.pending]: (state,action) => {\r\n        state.result = []\r\n        state.status = \"LOADING\";\r\n      }\r\n    }\r\n\r\n  })\r\n  \r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { setGenre, setReady } = genrePageSlice.actions\r\n  export const movieResults = state => state.genrePage.result \r\n  \r\n  export default genrePageSlice.reducer\r\n\r\n\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const filterBarSlice = createSlice({\r\n    name: 'filterBar',\r\n    initialState: {\r\n      year: 2021,\r\n      sortBy:\"popularity.desc\",\r\n      voteAvg:7,\r\n    },\r\n    reducers:{\r\n      setYear: (state,action) => {\r\n        state.year = action.payload\r\n      },\r\n      setSort: (state,action) => {\r\n        state.sortBy = action.payload\r\n      },\r\n      setVoteAvg: ( state, action) => {\r\n        state.voteAvg = action.payload\r\n      },\r\n      resetFilter: (state,action) => {\r\n        state.year = 2021\r\n        state.sortBy = \"popularity.desc\"\r\n        state.voteAvg = 7\r\n      },\r\n    \r\n    }\r\n\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { setYear, setSort, setVoteAvg, resetFilter } = filterBarSlice.actions\r\n  \r\n  \r\n  export default filterBarSlice.reducer\r\n\r\n\r\n","\r\nimport React, {  useEffect, useState } from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {fetchGenreMovies,setGenre} from '../../redux/features/genrePageSlice'\r\nimport { setYear, setSort, setVoteAvg } from '../../redux/features/filterBarSlice'\r\nimport './FilterBar.css'\r\n\r\n\r\n\r\n const FilterBar = () => {\r\n    let dispatch = useDispatch()\r\n    const year = useSelector(state => state.filterBar.year)\r\n    const sorting = useSelector(state => state.filterBar.sortBy)\r\n    const params = useParams()\r\n   \r\n    function setFilter(){\r\n        console.log(sorting)\r\n        dispatch(fetchGenreMovies({genre:params.id.toUpperCase(), year:year,sorted:sorting, amount: 50})) \r\n    } \r\n     function updateSorting(val){\r\n        dispatch(fetchGenreMovies({genre:params.id.toUpperCase(), year:year,sorted:val, amount: 50})) \r\n        dispatch(setSort(val))\r\n    }\r\n\r\n  \r\n    \r\n    return (\r\n        <React.Fragment>\r\n        <div className=\"filterbar_cont\">\r\n            <div className=\"filterbar_slider-cont\">\r\n                <h3>{year}</h3>\r\n                <input value={year} type=\"range\" min=\"1950\" max=\"2021\" className=\"filterbar_slider\" onChange={e => dispatch(setYear(e.target.value)) } onMouseUp={e => setFilter()} onTouchEnd={e => setFilter()}/>\r\n            </div>\r\n        </div>\r\n        <div className=\"filterbar_sort-cont\">\r\n                <select name=\"sort\" id=\"sort\" onChange={e => updateSorting(e.target.value)} value={sorting}>\r\n                    <option value=\"popularity.desc\">Popularity</option>\r\n                    <option value=\"original_title.asc\">A-Z</option>\r\n                    <option value=\"original_title.desc\">Z-A</option>\r\n                    \r\n                </select>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default FilterBar","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core';\r\nimport MovieMulti from './MovieMulti';\r\nimport { useSelector } from 'react-redux';\r\nimport { MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection';\r\nimport MovieSingle from './MovieSingle';\r\nimport CommentSection from '../comment/CommentSection';\r\nimport './MovieSection.css'\r\nimport MovieSectionLanding from './MovieSectionLanding';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    rootMulti: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 25,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootGrid: {\r\n        display: 'grid',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        gridTemplateColumns: '50% 50%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootSlider: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootCommentSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n    },\r\n    rootSingle: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    rootColumns: {\r\n        display: 'flex',\r\n        flexDirection: 'column', \r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    }\r\n}));\r\n\r\nconst MovieSectionPontus = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const screen = useSelector(state => state.movieSection.screen)\r\n    const RESULT = useSelector(state => state.movieSection.movieList)\r\n\r\n    if(RESULT !== null){\r\n\r\n        console.log('CurrentScreen:', screen)\r\n       \r\n        switch(String(screen)){\r\n           case MOVIE_SECTION_SCREENS.SLIDER_MOVIES:\r\n               return (\r\n                    <div className={classes.rootSlider}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'sliding-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n          case MOVIE_SECTION_SCREENS.GRID_MOVIES:\r\n                return (\r\n                     <div className={classes.rootSlider}>\r\n \r\n                         {RESULT.map((item) => (\r\n                             <MovieMulti key={'grid-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                         ))}\r\n \r\n                     </div>\r\n                )\r\n           case MOVIE_SECTION_SCREENS.LIST_GENRES: \r\n               return (\r\n                    <div className={classes.rootGrid}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'genre-' + item.id} item={item} useId={'hover-container-genre'} />\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n            case MOVIE_SECTION_SCREENS.LIST_LANDING: \r\n               return (\r\n                    <div className={classes.rootColumns}>\r\n                        <MovieSectionLanding result={RESULT}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE: \r\n               return (\r\n                    <div className={classes.rootSingle}>\r\n                          <MovieSingle {...{bshow: 'show'}}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE_COMMENTS: \r\n               return (\r\n                    <div className={classes.rootCommentSection}>\r\n                        <CommentSection/>\r\n                    </div>\r\n                )\r\n           default:\r\n               return(\r\n                   <React.Fragment></React.Fragment>\r\n               )         \r\n       };\r\n\r\n \r\n    } else {\r\n        return(\r\n            null\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieSectionPontus;\r\n","import {useParams} from 'react-router-dom'\r\nimport Header from '../components/Header.js'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { actions, MOVIE_SECTION_SCREENS } from './../redux/features/movieSection';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {fetchGenreMovies,setGenre,movieResults} from '../redux/features/genrePageSlice'\r\nimport FilterBar from '../components/filterbar/FilterBar'\r\nimport { resetFilter } from '../redux/features/filterBarSlice'\r\nimport MovieSectionPontus from '../components/fetcher-components/MovieSectionPontus.jsx';\r\nimport Loading from '../components/Loading/LoadingIcon.jsx';\r\nimport { setError } from '../redux/features/ErrorHandlingSlice.js';\r\nimport LoadEhandling from '../components/ErrorHandler/ErrorPopUp.jsx';\r\n\r\n\r\n\r\n\r\nconst GenrePage = () => {\r\n    const params = useParams()\r\n    let dispatch = useDispatch()\r\n    let id = useRef(\"\")\r\n    let status = useSelector(state => state.genrePage.status)\r\n    let movies = useSelector(movieResults)\r\n    \r\n   \r\n    \r\n\r\n    useEffect(() => {\r\n        dispatch(actions.setScreen(MOVIE_SECTION_SCREENS.SLIDER_MOVIES))\r\n        if (params.id !== id.current){\r\n                id.current = params.id.toLowerCase()\r\n                dispatch(resetFilter())\r\n                dispatch( fetchGenreMovies( {genre:params.id.toUpperCase() ,amount: 50}))\r\n        }\r\n      \r\n            dispatch(actions.setMovieList(movies))\r\n        \r\n        \r\n        return () => {\r\n            dispatch(setGenre([]))\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        return () => dispatch(actions.resetMovieList()) \r\n    },[])\r\n\r\n    if(status === \"READY\"){\r\n        return(  \r\n            <div className=\"App-Content\">\r\n                <Header page={`${id.current}`}>{id.current}</Header>\r\n                <FilterBar currentID = {id} />\r\n                <React.Fragment>\r\n                <MovieSectionPontus/>\r\n                {/* <MovieSection />  */}\r\n                </React.Fragment>\r\n            </div>\r\n        ) \r\n    } else if (status === \"LOADING\"){\r\n        return(\r\n            <div className=\"App-Content\">\r\n                <Header page={`${id.current}`}>{id.current}</Header>\r\n                <Loading></Loading>\r\n            </div>\r\n        )\r\n    }else{\r\n        dispatch(setError(true))\r\n        return( \r\n        <div className=\"App-Content\">\r\n            <Header page={`${id.current}`}>{id.current}</Header>\r\n            <LoadEhandling></LoadEhandling>\r\n        </div>\r\n        )\r\n    }\r\n \r\n   \r\n\r\n}\r\n\r\nexport default GenrePage","import React from 'react'\r\nimport MovieSingle from '../components/fetcher-components/MovieSingle'\r\n\r\n\r\nconst SingelMoviePage = () => {\r\n\r\n//return mockmoviesingel... \r\nconst styling = {\r\n    display:\"flex\",\r\n    flexDirection:\"column\",\r\n    alignItems:\"center\",\r\n    marginTop:\"20px\",\r\n}\r\n    window.scrollTo(0,0)\r\n    return (\r\n        <div  className=\"App-Content\" style={styling}>\r\n            <MovieSingle/>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default SingelMoviePage","import {Button, createMuiTheme, CssBaseline, Grid, Link, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport AuthService from \"../util/auth-service\"\r\nimport PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {Lock} from \"@material-ui/icons\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\n\r\nconst LoginPage = () => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: \"center\",\r\n\r\n        },\r\n\r\n        avatar: {\r\n            margin: theme.spacing(1),\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        form: {\r\n            maxWidth: '350px',\r\n            width: '90%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(2),\r\n            rowGap: '20px',\r\n            justifyContent: \"center\",\r\n            //backgroundColor: 'grey',\r\n            padding: '30px',\r\n        },\r\n        submit: {\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(5),\r\n\r\n        },\r\n        footer: {\r\n            margin: 'auto'\r\n        }\r\n    }));\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: \"dark\"\r\n        }\r\n    });\r\n\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser]  = useState(\"\")\r\n    const [logEmail, setEmail]  = useState(\"\")\r\n    const [logPassword, setPassword]  = useState(\"\")\r\n\r\n    const createUser = () => {\r\n        let email = logEmail;\r\n        let password = logPassword;\r\n\r\n        AuthService.register(email, password)\r\n\r\n\r\n    }\r\n\r\n\r\n    const signInWithEmailPassword = () => {\r\n        let email = logEmail;\r\n        let password = logPassword;\r\n\r\n        AuthService.login(email, password)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <AuthContext.Provider value={{user}}>\r\n                <PageLableWithIcon {...{ text: 'Registrera konot', icon: <Lock/>}}/>\r\n\r\n\r\n                <ThemeProvider theme={theme}>\r\n                    <CssBaseline/>\r\n                    <div className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            onChange={(v) => setEmail(v.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Lsenord\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            onChange={(v) => setPassword(v.target.value)}\r\n                        />\r\n\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            data-testid=\"signin-anon\"\r\n                            onClick={createUser}\r\n                        >\r\n                          Skapa konto\r\n                        </Button>\r\n\r\n                    </div>\r\n                </ThemeProvider>\r\n\r\n            </AuthContext.Provider>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default LoginPage","import './App.css';\r\nimport React from 'react';\r\nimport Navbar from './components/navbar/Navbar';\r\nimport  {\r\n    Route,\r\n    Switch,\r\n    BrowserRouter as Router\r\n} from \"react-router-dom\";\r\nimport LandingPage from \"./pages/LandingPage\";\r\nimport CommentPage from \"./pages/CommentPage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport ShoppingCartPage from \"./pages/ShoppingCartPage\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport GenrePage from \"./pages/GenrePage\";\r\nimport SingelMoviePage from \"./pages/SingelMoviePage\"\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport SnackBarsRedux from './util/SnackBarsRedux';\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport LoadEhandling from './components/ErrorHandler/ErrorPopUp';\r\nimport Loading from './components/Loading/LoadingIcon';\r\n\r\nfunction App() {\r\n    \r\n  return (\r\n      <div className=\"App\">\r\n\r\n      <Router  basename={`${process.env.PUBLIC_URL}/`}>\r\n        \r\n        <header className=\"App-NavBar\">\r\n          <Navbar/>\r\n        </header>\r\n        <div className='App-Main'>\r\n        \r\n                <div>\r\n              \r\n                    <Switch>\r\n                        <Route exact path=\"/\" component={LandingPage} />\r\n                        <Route exact path=\"/genre/:id\" component={GenrePage} />\r\n                        <Route exact path=\"/comment\" component={CommentPage} />\r\n                        <Route exact path=\"/login\" component={LoginPage} />\r\n                        <Route exact path=\"/register\" component={RegisterPage} />\r\n                        <Route exact path=\"/profile\" component={ProfilePage} />\r\n                        <Route exact path=\"/search\" component={SearchPage} />\r\n                        <Route exact path=\"/shopping-cart\" component={ShoppingCartPage} />\r\n                        <Route exact path=\"/movie/:id\" component={SingelMoviePage}/>\r\n\r\n                    </Switch>\r\n                </div>\r\n            \r\n\r\n        </div>\r\n        \r\n      </Router>\r\n\r\n\r\n      <SnackBarsRedux/>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as shoppingCartReducer } from './shoppingCart'\r\nimport { reducer as snackBarsReducer } from './snackbars'\r\nimport { reducer as movieSectionReducer } from './movieSection'\r\nimport { reducer as checkOutReducer } from './checkOut'\r\nimport { reducer as paymentProcessorReducer } from './paymentProcessor'\r\nimport { reducer as fetcherApiReducer } from './fetcherApi'\r\nimport navbarReducer from './navbarSlice'\r\nimport mainSliderReducer from './mainSliderSlice' \r\nimport genreSliderReducer from './genreSliderSlice'\r\nimport genrePageReducer from './genrePageSlice'\r\nimport filterBarReducer from './filterBarSlice'\r\nimport errorHandlingReducer from './ErrorHandlingSlice'\r\nimport loadingHandlingReducer from './loadingHandlingSlice'\r\n\r\nconst rootReducer = combineReducers({\r\n    shoppingCart: shoppingCartReducer,\r\n    navbar: navbarReducer,\r\n    snackbar: snackBarsReducer,\r\n    movieSection: movieSectionReducer,\r\n    mainslider : mainSliderReducer,\r\n    genreSlider: genreSliderReducer,\r\n    checkOut: checkOutReducer,\r\n    paymentProcessor: paymentProcessorReducer,\r\n    fetcherApi: fetcherApiReducer,\r\n    genrePage: genrePageReducer,\r\n    filterBar: filterBarReducer,\r\n    ErrorHandling: errorHandlingReducer,\r\n    loadingHandling: loadingHandlingReducer,\r\n})\r\n\r\nexport { rootReducer };","import { configureStore } from '@reduxjs/toolkit'\r\nimport { rootReducer } from './features/rootReducer';\r\n\r\n\r\nexport default configureStore({\r\n  reducer : rootReducer\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <Provider store={store}>\r\n          <App />\r\n      </Provider>    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}