{"version":3,"sources":["img/Logo/logo_planet_movie.webp","util/ApiFetcher.js","redux/features/navbarSlice.js","redux/features/movieSection.js","components/shopping-cart/ShoppingCartBadge.jsx","util/auth-service.js","redux/features/snackbars.js","util/SnackBarsRedux.jsx","components/navbar/Navbar.js","redux/features/ErrorHandlingSlice.js","redux/features/mainSliderSlice.js","redux/features/loadingHandlingSlice.js","components/Loading/Modal.jsx","components/Loading/LoadingIcon.jsx","components/ErrorHandler/ErrorModal.jsx","components/ErrorHandler/ErrorPopUp.jsx","components/slider/MainSlider.js","redux/features/genreSliderSlice.js","components/slider/GenreSlider.js","redux/features/fetcherApi.js","util/fetcherFunctions.js","redux/features/shoppingCart.js","redux/features/checkOut.js","components/shopping-cart/ShoppingCartActionButtons.jsx","helper-functions/poster.js","helper-functions/genres.js","components/fetcher-components/MovieMulti.jsx","components/shared-components/NotSignedIn.jsx","util/firebase.js","components/comment/comment-functions.js","components/comment/CommentAdd.jsx","components/comment/CommentSingle.jsx","components/shared-components/StarsComponent.jsx","components/comment/CommentSection.jsx","components/fetcher-components/MovieSingle.jsx","components/fetcher-components/MovieSectionLanding.jsx","components/fetcher-components/MovieSection.jsx","util/FetcherAPI.jsx","pages/LandingPage.js","pages/CommentPage.js","pages/PageLabelWithIcon.jsx","pages/LoginPage.js","components/shopping-cart/CartItem.jsx","components/shopping-cart/CartTotal.jsx","components/shopping-cart/CartBillingInfo.jsx","mockData/mock-data-fetcher.js","redux/features/paymentProcessor.js","components/check-out/payment-functions.js","components/check-out/PaymentSimulator.jsx","components/check-out/PayButton.jsx","components/check-out/CheckOutRedux.jsx","components/shopping-cart/ShoppingCartRedux.jsx","pages/ShoppingCartPage.js","pages/SearchPage.js","pages/ProfilePage.js","components/Header.js","redux/features/genrePageSlice.js","redux/features/filterBarSlice.js","components/filterbar/FilterBar.js","components/fetcher-components/MovieSectionPontus.jsx","pages/GenrePage.js","pages/SingelMoviePage.js","pages/RegisterPage.js","App.js","reportWebVitals.js","redux/features/rootReducer.js","redux/store.js","index.js"],"names":["baseUrl","apiKey","createMovieItem","adult","backdrop_path","genre_ids","id","original_language","original_title","overview","popularity","poster_path","release_date","title","video","vote_average","vote_count","fetchSearch","searchFor","a","searchResult","fetch","then","res","json","results","length","forEach","props","push","fetchTopFive","topFive","fetchGenre","genre","amount","year","sort","voteAverage","createFetchUrl","page","genreList","GENRE","axios","get","promises","data","total_pages","i","Promise","all","d","map","reduce","b","slice","fetchSearchResult","createAsyncThunk","search","thunkAPI","response","Error","navbarSlice","createSlice","name","initialState","menuOpen","searchbarOpen","reducers","toggelMenu","state","setSearchResults","actions","payload","toggelSearch","extraReducers","fulfilled","action","rejected","console","log","error","message","setScreen","createAction","setSelectedMovie","resetSelectedMovie","setMovieList","resetMovieList","MOVIE_SECTION_SCREENS","SLIDER_MOVIES","GRID_MOVIES","LIST_SEARCHES","LIST_GENRES","LIST_LANDING","SINGLE_MOVIE","SINGLE_MOVIE_COMMENTS","screen","selectedMovie","movieList","reducer","createReducer","movieItem","value","useStyles","makeStyles","theme","root","ShoppingCartBadge","classes","shoppingCartItemCount","useSelector","shoppingCart","listCount","className","IconButton","aria-label","color","Badge","badgeContent","ShoppingCart","getUserFromFirebase","user","firebase","firestore","collection","doc","uid","exists","localStorage","setItem","JSON","stringify","catch","email","password","auth","signInWithEmailAndPassword","userCredential","removeItem","signOut","r","userId","set","firstname","lastname","address","postalCode","county","country","docRef","userRef","update","createUserWithEmailAndPassword","create","window","location","errorMessage","displayName","currentUser","updateProfile","photoURL","parse","getItem","delete","displaySnackBar","hideSnackBar","SEVERITY_TYPE","info","success","warning","SNACK_TEXT","isOpen","severity","default","text","cartNotifications","cartAddSuccess","cartAddFailed","cartRemovedSuccess","cartCleared","loggedOutSuccess","commentNotifications","commentAdded","width","marginTop","spacing","Alert","elevation","variant","SnackBarsRedux","dispatch","useDispatch","snackbar","handleClose","event","reason","snackBarActions","Snackbar","open","autoHideDuration","onClose","CATEGORIES","ResultItem","movie","to","onClick","setSingelMovie","src","alt","SearchResult","result","Fragment","Bar","searchResults","navbar","handelMenuClick","iconsStyle","dummyLogo","type","onChange","e","target","Menu","authService","getCurrentUser","useState","activeUser","setUser","logout","Navbar","errorHandlingSlice","ErrorState","setError","fetchTopMovies","mainSliderSlice","translateX","slides","status","toggelSlider","direction","innerWidth","resetSlider","setWidth","current","pending","loadingHandlingSlice","loadingState","setLoading","MODAL_STYLES","position","top","left","transform","zIndex","OVERLAY_STYLES","right","bottom","backgroundColor","Modal","children","ReactDom","createPortal","style","document","getElementById","Loading","loadingHandling","CircularProgress","padding","height","border","borderRadius","BUTTON_STYLES","ErrorModal","Button","reload","textAlign","LoadEhandling","ErrorHandling","MainSliderContainer","tran","sliderStyle","transition","Slide","backgroundImage","MainSlider","currentSlide","useRef","useEffect","addEventListener","mainslider","navigateSlider","translate","fetchGenerSlides","genere","movies","updateSlider","oldObject","newValues","Object","assign","updateItemInArray","array","itemId","updateCallbackItem","item","slider","genreSliderSlice","sliders","swipeGenre","newArray","addSlider","concat","w","find","obj","SlideContainer","clientX","handelSwipe","endPosX","maxRigth","onMouseDown","onMouseUp","onTouchStart","targetTouches","onTouchEnd","changedTouches","GenreSlider","resizeId","setW","clearTimeout","setTimeout","removeEventListener","genreSlider","handelSlide","move","toUpperCase","startFetch","fetchSuccess","fetchFailed","pushPartFetch","pushPartsCompleted","resetState","API_FETCHER_STATUSES","DEFAULT","FETCHING","SUCCESS","FAILED","STATUS","RESULT","PART_RES","BASE_API_URL_V3","API_KEY_CALL","EXTENDED_PATHS","POPULAR","DISCOVER_WITH_GENRE","fetchAllForLandingPage","fetchAllGenres","ok","statusText","reject","genreArray","genres","fetchPageOneInGenre","myObj","addListMovie","removeCartItem","clearCart","setDisplayCheckout","listOfMovies","displayCheckoutComp","list","filter","bool","setVisibility","visibility","button","margin","BTN_VARIANTS","BTN_COLORS","BUTTON_TYPE","CART_ADD","btnVariant","btnColor","startIcon","AddShoppingCartRounded","friendlyName","CART_REMOVE","RemoveShoppingCartRounded","CART_CLEAR","RemoveCircleRounded","CART_CHECKOUT","ShopRounded","ShoppingCartActionButtons","mItem","UseAction","stateListOfMovies","shoppingCartActions","some","x","checkOutActions","POSTER_SIZES","createPosterPathFull","size","endPath","matchGenreIdsToName","movieItemGenres","availableGenres","movieGenresNamed","genreNum","listItem","String","display","fontSize","flexDirection","textShadow","mainContainer","objectFit","backgroundRepeat","topRow","alignContent","alignItems","justifyContent","infoContainer","marginLeft","minHeight","divider","marginBottom","background","maxWidth","fontWeight","wordWrap","flexWrap","marginRight","bottomRow","borderBottomLeftRadius","borderBottomRightRadius","ButtonMore","actionsMovieSection","MoreHorizRounded","MovieMulti","useId","useID","releaseDate","MockGenres","posterPath","in","timeout","Divider","rootNotSignedIn","container","NotSignedIn","history","useHistory","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","fsDB","FirebaseUserWithCommentAndRating","photoUrl","comment","rating","this","addComment","movieRef","db","runTransaction","transaction","sfDoc","newVoteCount","newTotalRating","parseInt","newAverageRating","undefined","totalRating","voteCount","newDocProps","averageRating","comments","FieldValue","arrayUnion","toFirestore","CustomRadioB","styled","other","Radio","header","textIndent","containerComment","textField","containerButton","containerProfileInfo","profileImg","profileName","ratingGroup","userInitialState","createMuiTheme","overrides","MuiInputBase","input","CommentAdd","movieSection","setCurrentUser","setComment","disableCommentBtn","setDisableCommentBtn","setRating","cUser","handleRatingAndComment","trimEnd","formRating","RadioGroup","FormControlLabel","label","control","TextField","not-required","defaultValue","InputProps","disabled","starIcon","containerTop","starsRating","UserProfileMini","userName","userPhotoUrl","backUpProfilePhoto","CommentSingle","paddingBottom","containerComments","CommentSection","setComments","onSnapshot","tempArr","justifyItems","containerContent","maxHeight","borderTopLeftRadius","borderTopRightRadius","ratings","containerBottomButtons","commentSection","ButtonNavigateBack","MovieSingle","bshow","itemOverView","timeOutStart","Fade","movieContainer","minWidth","genreTitle","MovieSectionLanding","finished","setFinished","overflowX","rootMulti","rootGrid","gridTemplateColumns","rootSlider","rootCommentSection","rootSingle","rootColumns","MovieSection","FETCH_API_TYPE","FetcherAPI","fetcherApi","fetchedResult","useScreen","useFunction","fullApiUrl","fetchListPopular","LIST_GENRE","genreOBJ","mockDataGenre","GENRE_API_URL","fetchListGenres","extras","LIST_POPULAR","StartFetching","LandingPage","posters","gener","CommentPage","iconContainer","containerText","PageLableWithIcon","icon","AuthContext","React","createContext","LoginPage","paper","avatar","palette","secondary","main","form","rowGap","submit","footer","logEmail","setEmail","logPassword","setPassword","onAuthStateChanged","Provider","Lock","ThemeProvider","CssBaseline","noValidate","required","fullWidth","autoComplete","autoFocus","v","data-testid","AuthService","login","signInWithEmailPassword","Grid","Link","href","useStyle","containerInfo","labelCost","fontFamily","letterSpacing","CartItem","pItem","posterPathFull","Zoom","mountOnEnter","unmountOnExit","LabelCost","paddingTop","labelTotal","labelLeft","labelRight","containerDetails","containerTotal","CartTotal","cost","count","total","createCost","calculatedCost","num","noVat","VAT","Label","fix","Number","toFixed","LabelTotal","cartTotalStyle","intialUserInfo","CartBillingInfo","userInfo","setUserInfo","createBillingInfo","firstName","lastName","fetchers","fetchBillingInfo","mockDataGeneral","billingInfo","startPaymentProcess","startValidation","setPaymentSuccess","startRedirect","PAYMENT_PROCESSING_STATE","START","VALIDATING_INFO","COMPLETED","DISPLAY_REDIRECT_2","DISPLAY_REDIRECT_1","DISPLAY_REDIRECT_0","FirebaseReceipt","date","sendReceipt","movie_count","userDocRef","receipt","containerIcon","containerProgress","PaymentSimulator","cartItems","content","displayIcon","LinearProgress","PayButton","startPayment","paymentProcessor","enabled","signedIn","hasItems","Payment","CustomCheckB","Checkbox","containerPolicy","checkOutContainer","sectionHeader","ShippingTermsText","termsDisplay","shipPolicy","ShippingPolicy","policy","ShippingTerms","checked","handleChange","formControl","inputProps","CheckOutRedux","checkOut","setChecked","setTermsDisplay","AccountBalance","hidden","overflow","dividerSection","cartListItems","cartTotal","cartItemContainer","containerCheckOutButton","containerCheckOutComp","CartListItems","shoppingCartItems","element","imdbId","Typography","ShoppingCartRedux","hasCartItems","Container","containerSuggestion","containerQuickAdd","ShoppingCartPage","ShoppingCartRounded","SearchPage","borderColor","alignSelf","gap","logInButton","link","imageContainer","ProfilePage","newUser","findCurrentUser","handleInput","updateUserProfile","updateUser","AccountCircle","deleteUser","Header","iconsClasses","shoppingcart","payment","comedy","drama","fantasy","horror","mystery","romance","thriller","western","keys","key","toLowerCase","fetchGenreMovies","sorted","vote","genrePageSlice","setGenre","setReady","ready","movieResults","genrePage","filterBarSlice","sortBy","voteAvg","setYear","setSort","setVoteAvg","resetFilter","FilterBar","filterBar","sorting","params","useParams","setFilter","min","max","val","MovieSectionPontus","GenrePage","currentID","SingelMoviePage","scrollTo","RegisterPage","register","App","basename","process","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","shoppingCartReducer","navbarReducer","snackBarsReducer","movieSectionReducer","mainSliderReducer","genreSliderReducer","checkOutReducer","paymentProcessorReducer","fetcherApiReducer","genrePageReducer","filterBarReducer","errorHandlingReducer","loadingHandlingReducer","configureStore","ReactDOM","render","StrictMode","store"],"mappings":"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","file":"static/js/main.5685076b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_planet_movie.b30a5772.webp\";","import axios from 'axios'\r\nconst baseUrl = \"https://api.themoviedb.org/3/\"\r\nconst apiKey = \"?api_key=5a3613e5d83a68124a38ea398536e34b\"\r\n\r\nfunction createMovieItem(adult, backdrop_path, genre_ids, id, original_language,\toriginal_title, overview, popularity, poster_path, release_date, title, video, vote_average, vote_count){\r\n    return {\r\n      adult,\r\n      backdrop_path,\r\n      genre_ids,\r\n      id,\r\n      original_language,\r\n      original_title,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      release_date,\r\n      title,\r\n      video,\r\n      vote_average,\r\n      vote_count,\r\n    };\r\n  }\r\n\r\nasync function fetchSearch(searchFor){\r\n    let searchResult = []\r\n    await fetch(`${baseUrl}search/movie${apiKey}&query=${searchFor}`).then(res => res.json()).then(res => { \r\n        if (!res.results.length){\r\n            \r\n        }else{\r\n            res.results.forEach(props => {\r\n                searchResult.push(createMovieItem(\r\n                    props.adult,\r\n                    props.backdrop_path,\r\n                    props.genre_ids,\r\n                    props.id,\r\n                    props.original_language,\r\n                    props.original_title,\r\n                    props.overview,\r\n                    props.popularity,\r\n                    props.poster_path,\r\n                    props.release_date,\r\n                    props.title,\r\n                    props.video,\r\n                    props.vote_average,\r\n                    props.vote_count,\r\n                  ));\r\n            } )\r\n            \r\n          \r\n        }\r\n    } )\r\n    return searchResult\r\n}\r\n\r\nasync function fetchTopFive(){\r\n    let topFive = []\r\n    await fetch(`${baseUrl}trending/movie/day${apiKey}`).then(res => res.json()).then(res => { \r\n        if (!res.results.length){\r\n            \r\n        }else{\r\n            res.results.forEach(props => {\r\n                topFive.push(createMovieItem(\r\n                    props.adult,\r\n                    props.backdrop_path,\r\n                    props.genre_ids,\r\n                    props.id,\r\n                    props.original_language,\r\n                    props.original_title,\r\n                    props.overview,\r\n                    props.popularity,\r\n                    props.poster_path,\r\n                    props.release_date,\r\n                    props.title,\r\n                    props.video,\r\n                    props.vote_average,\r\n                    props.vote_count,\r\n                  ));\r\n            } )\r\n            \r\n          \r\n        }\r\n    } )\r\n    return topFive\r\n}\r\n\r\n async function fetchGenre(genre,amount,year,sort,voteAverage){\r\n    let genreList = []\r\n    let GENRE = null \r\n    \r\n    switch(genre){\r\n        case \"ACTION\":{\r\n            GENRE = 28 \r\n            break;\r\n        }\r\n        case \"COMEDY\":{\r\n            GENRE = 35 \r\n            break;\r\n        }\r\n        case \"DRAMA\":{\r\n            GENRE = 18 \r\n            break;\r\n        }\r\n        case \"FANTASY\":{\r\n            GENRE = 14 \r\n            break;\r\n        }\r\n        case \"HORROR\":{\r\n            GENRE = 27 \r\n            break;\r\n        }\r\n        case \"MYSTERY\":{\r\n            GENRE = 9648 \r\n            break;\r\n        }\r\n        case \"ROMANCE\":{\r\n            GENRE = 10749 \r\n            break;\r\n        }\r\n        case \"THRILLER\":{\r\n            GENRE = 53 \r\n            break;\r\n        }\r\n        case \"WESTERN\":{\r\n            GENRE = 37 \r\n            break;\r\n        }\r\n        default:{\r\n            GENRE = 12 //adventure.\r\n            break;\r\n        }      \r\n    }\r\n\r\n    function createFetchUrl(year = 2021,sort=\"popularity.desc\",voteAverage = 7, genre,page=1){\r\n        //returns fetch url, check TMDB for options.\r\n        return `${baseUrl}discover/movie${apiKey}&with_genres=${genre}&primary_release_year=${year}&vote_average.gte=${voteAverage}&sort_by=${sort}&page=${page}`\r\n    }\r\n    \r\n    //get responses.\r\n     await axios.get(createFetchUrl(year,sort,voteAverage,GENRE)).then(\r\n        res =>{\r\n        let promises = []\r\n        //max num movies per page = 20\r\n        if (res.data.total_pages > 1 && amount > 20){\r\n            //if requested num movies is lager than 20, get all pages.\r\n            for(var i = 1; i<res.data.total_pages+1;i++){\r\n                promises.push(axios.get(createFetchUrl(year,sort,voteAverage,GENRE,i)))\r\n           }\r\n           return Promise.all(promises)\r\n        }else{\r\n            promises.push(res)\r\n            return Promise.all(promises)\r\n        }\r\n    }\r\n    ).then(d => {\r\n        //reduce array of movies to one array.\r\n        let response = d.map(data => data.data.results).reduce((a,b) => [...a,...b],[])\r\n        //handel movie data and push to array\r\n        response.forEach(props => {\r\n            genreList.push(createMovieItem(\r\n                props.adult,\r\n                props.backdrop_path,\r\n                props.genre_ids,\r\n                props.id,\r\n                props.original_language,\r\n                props.original_title,\r\n                props.overview,\r\n                props.popularity,\r\n                props.poster_path,\r\n                props.release_date,\r\n                props.title,\r\n                props.video,\r\n                props.vote_average,\r\n                props.vote_count,\r\n              ));\r\n        } )\r\n    })\r\n           \r\n        \r\n\r\n    //return array based on amount wanted.\r\n   return genreList.slice(0,amount)\r\n\r\n \r\n}\r\nexport {fetchSearch, fetchTopFive, fetchGenre}\r\n\r\n","\r\n\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport {fetchSearch} from '../../util/ApiFetcher'\r\n\r\n \r\nexport const fetchSearchResult = createAsyncThunk(\r\n  'navbar/searchStatus', \r\n  async (search, thunkAPI) => {\r\n   try{\r\n    let response = await fetchSearch(search)\r\n    return response \r\n   }catch(error){\r\n      throw Error(error)\r\n   }\r\n\r\n}\r\n)\r\n\r\nexport const navbarSlice = createSlice({\r\n    name: 'navbar',\r\n    initialState: {\r\n      menuOpen: false,\r\n      searchbarOpen:false,\r\n      searchResult: [],\r\n    },\r\n    reducers: {\r\n      toggelMenu: (state) => { \r\n        state.menuOpen = !state.menuOpen\r\n      },\r\n      setSearchResults: (state,actions) => {\r\n        state.searchResult = actions.payload\r\n      },\r\n      toggelSearch: (state) => {\r\n        state.searchbarOpen = !state.searchbarOpen\r\n        state.searchResult = [];\r\n      },\r\n    },\r\n    extraReducers:{\r\n      [fetchSearchResult.fulfilled]: (state,action) => {\r\n        state.searchResult = action.payload\r\n      },\r\n      [fetchSearchResult.rejected]:(state,action) => {\r\n        console.log(action.error.message)\r\n      }\r\n    }\r\n\r\n  })\r\n  \r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { toggelMenu, setSearchResults,toggelSearch } = navbarSlice.actions\r\n  \r\n  export default navbarSlice.reducer\r\n\r\n\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst setScreen = createAction('set screen');\r\nconst setSelectedMovie = createAction('set selected movie');\r\nconst resetSelectedMovie = createAction('set selected movie null');\r\nconst setMovieList = createAction('set movie list')\r\nconst resetMovieList = createAction('reset movie list')\r\n\r\nconst actions = { setScreen, setSelectedMovie, resetSelectedMovie, setMovieList, resetMovieList };\r\n\r\nexport const MOVIE_SECTION_SCREENS = {\r\n    SLIDER_MOVIES: 'slider_movies',\r\n    GRID_MOVIES: 'grid_movies',\r\n    LIST_SEARCHES: 'list_searches',\r\n    LIST_GENRES: 'list_genres',\r\n    LIST_LANDING: 'list_landing',\r\n    SINGLE_MOVIE: 'single_movie',\r\n    SINGLE_MOVIE_COMMENTS: 'single_movie_comments',\r\n}\r\n\r\nconst initialState = {\r\n    screen: MOVIE_SECTION_SCREENS.SLIDER_MOVIES,\r\n    selectedMovie : null,\r\n    movieList : null,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [setSelectedMovie] : (state, action) => { \r\n        const movieItem = action.payload\r\n        console.log('Selected movie set to: ', movieItem)\r\n        state.selectedMovie = movieItem\r\n    },\r\n    [resetSelectedMovie] : (state, action) => { \r\n\r\n        console.log('Set selectedMovie null')\r\n        state.selectedMovie = null\r\n    },\r\n    [setScreen] : (state, action) => { \r\n        const value = action.payload\r\n        console.log('Should set to screen: ', value)\r\n        state.screen = value\r\n    },\r\n    [resetMovieList] : (state, action) => { \r\n        state.screen = null\r\n    },\r\n    [setMovieList] : (state, action) => { \r\n        const value = action.payload\r\n        state.movieList = value\r\n    },\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { Badge, IconButton, makeStyles } from '@material-ui/core';\r\nimport { ShoppingCart } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        \r\n    },\r\n}));\r\n\r\nconst ShoppingCartBadge = () => {\r\n    const classes = useStyles();\r\n\r\n    const shoppingCartItemCount = useSelector(state => state.shoppingCart.listCount);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <IconButton aria-label=\"show shopping items count\" color=\"inherit\">\r\n                <Badge badgeContent={shoppingCartItemCount} color=\"secondary\">\r\n                    <ShoppingCart />\r\n                </Badge>\r\n            </IconButton>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShoppingCartBadge;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport 'firebase/firestore';\r\n\r\nclass AuthService {\r\n\r\n\r\n    login(email, password) {\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password).then()\r\n            .then((userCredential) => {\r\n                let user = userCredential.user;\r\n                localStorage.setItem(\"user\", JSON.stringify(user));\r\n                console.log(user)\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // let errorCode = error.code;\r\n                // let errorMessage = error.message;\r\n                console.log(error)\r\n            });\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem(\"user\");\r\n        firebase.auth().signOut().then( r =>  console.log(\"Signed out\"))\r\n    }\r\n\r\n    create(user) {\r\n        const db = firebase.firestore()\r\n\r\n        //console.log(user.userId)\r\n\r\n        db.collection(\"users\").doc(user?.userId).set({\r\n            email: user?.email,\r\n            userId: user?.userId,\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            address: \"\",\r\n            postalCode:\"\",\r\n            county:\"\",\r\n            country:\"\"\r\n        })\r\n\r\n            .then((docRef) => {\r\n                console.log(\"Document written with ID: \", docRef.id);\r\n\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n\r\n\r\n    }\r\n\r\n    updateUser(user){\r\n        const db = firebase.firestore()\r\n\r\n        let userRef = db.collection(\"users\").doc(user.userId);\r\n\r\n        if (user.firstname){\r\n            return userRef.update({\r\n                firstname: user.firstname\r\n            })    .then(() => {\r\n                console.log(\"Document successfully updated!\");\r\n            })\r\n                .catch((error) => {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n        }\r\n\r\n        if (user.address){\r\n            return userRef.update({\r\n                address: user.address\r\n            })    .then(() => {\r\n                console.log(\"Document successfully updated!\");\r\n            })\r\n                .catch((error) => {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n        }\r\n\r\n        if (user.lastname){\r\n            return userRef.update({\r\n                lastname: user.lastname\r\n            })    .then(() => {\r\n                console.log(\"Document successfully updated!\");\r\n            })\r\n                .catch((error) => {\r\n                    // The document probably doesn't exist.\r\n                    console.error(\"Error updating document: \", error);\r\n                });\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    register(email, password, user) {\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((userCredential) => {\r\n                // Signed in\r\n                console.log(\"created\")\r\n                 user = userCredential.user;\r\n                this.getUserFromFirebase(user)\r\n                console.log(user)\r\n\r\n                user = {\r\n                    email: user.email,\r\n                    userId: user.uid\r\n                }\r\n                this.create(user)\r\n                window.location = 'profile'\r\n\r\n\r\n                // ...\r\n            })\r\n            .catch((error) => {\r\n                // let errorCode = error.code;\r\n                let errorMessage = error.message;\r\n                console.log(errorMessage)\r\n                // ..\r\n            });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    updateUserProfile(displayName) {\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.updateProfile({\r\n            displayName: displayName,\r\n            photoURL: \"https://example.com/jane-q-user/profile.jpg\"\r\n        }).then(function() {\r\n            // Update successful.\r\n        }).catch(function(error) {\r\n            // An error happened.\r\n        });\r\n    }\r\n\r\n    getUserFromFirebase = (user) => {\r\n        const db = firebase.firestore()\r\n\r\n        let docRef = db.collection(\"users\").doc(user?.uid);\r\n\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n                console.log(\"Document data:\", doc.data());\r\n                localStorage.setItem(\"userFirebase\", JSON.stringify(doc.data()));\r\n\r\n            } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n            }\r\n        }).catch((error) => {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n\r\n    }\r\n\r\n    getCurrentUser() {\r\n        return JSON.parse(localStorage.getItem('user'));\r\n    }\r\n\r\n    deleteUser() {\r\n        let user = firebase.auth().currentUser;\r\n\r\n        user.delete().then(function() {\r\n            // User deleted.\r\n            console.log(\"User deleted\")\r\n            localStorage.removeItem(\"user\");\r\n        }).catch(function(error) {\r\n            // An error happened.\r\n        });    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default new AuthService();","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst displaySnackBar = createAction('display snackbar');\r\nconst hideSnackBar = createAction('hide snackbar');\r\n\r\nconst actions = { displaySnackBar, hideSnackBar };\r\n\r\nexport const SEVERITY_TYPE = {\r\n    info: 'info',\r\n    success: 'success',\r\n    warning: 'warning',\r\n    error: 'error',\r\n};\r\n\r\nexport const SNACK_TEXT = {\r\n    default: 'No info set',\r\n    cartAdded: 'Item added to cart',\r\n    cartRemoved: 'Item removed from cart',\r\n    cartCleared: 'Cart has been cleared',\r\n    cartItemExists: 'Already in cart',\r\n    loggedOut: 'Logged out',\r\n    commentAdded: 'Comment has been added!',\r\n};\r\n\r\nconst initialState = {\r\n    isOpen : false,\r\n    severity: SEVERITY_TYPE.default,\r\n    text: SNACK_TEXT.default\r\n};\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [displaySnackBar] : (state, action) => ({\r\n         ...state,\r\n\r\n            isOpen: action.payload.isOpen,\r\n            severity: action.payload.severity,\r\n            text: action.payload.text,\r\n    }),\r\n    [hideSnackBar] : (state, action) => {\r\n        state.isOpen = action.payload;\r\n    },\r\n\r\n});\r\n\r\nconst cartAddSuccess = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.success, \r\n    text: SNACK_TEXT.cartAdded\r\n}\r\n\r\nconst cartAddFailed = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.warning, \r\n    text: SNACK_TEXT.cartItemExists\r\n}\r\n\r\nconst cartRemovedSuccess = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.info, \r\n    text: SNACK_TEXT.cartRemoved\r\n}\r\n\r\nconst cartCleared = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.error, \r\n    text: SNACK_TEXT.cartCleared\r\n}\r\n\r\nconst loggedOutSuccess = {\r\n    isOpen: true,\r\n    severity: SEVERITY_TYPE.success,\r\n    text:SNACK_TEXT.loggedOut,\r\n}\r\n\r\nconst commentAdded = {\r\n    isOpen: true, \r\n    severity: SEVERITY_TYPE.success, \r\n    text: SNACK_TEXT.commentAdded\r\n}\r\n\r\n\r\nexport const cartNotifications = { cartAddSuccess, cartAddFailed, cartRemovedSuccess, cartCleared,loggedOutSuccess }\r\nexport const commentNotifications = { commentAdded }\r\nexport { actions, reducer };","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useSelector } from 'react-redux';\r\nimport { actions as snackBarActions } from './../redux/features/snackbars'\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst SnackBarsRedux = () => {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const isOpen = useSelector(state => state.snackbar.isOpen);\r\n  const severity = useSelector(state => state.snackbar.severity);\r\n  const text = useSelector(state => state.snackbar.text);\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    dispatch(snackBarActions.hideSnackBar(false))\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={isOpen} autoHideDuration={3000} onClose={handleClose}>\r\n\r\n        <Alert onClose={handleClose} severity={severity}>\r\n          {text}\r\n        </Alert>\r\n     \r\n      </Snackbar>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SnackBarsRedux;","import './Navbar.css';\r\nimport React, { useState } from 'react'\r\nimport dummyLogo from '../../img/Logo/logo_planet_movie.webp'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { toggelMenu, setSearchResults, toggelSearch, fetchSearchResult } from '../../redux/features/navbarSlice'\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport  { Link } from \"react-router-dom\";\r\nimport ShoppingCartBadge from './../shopping-cart/ShoppingCartBadge'\r\nimport authService from '../../util/auth-service';\r\nimport SnackBarsRedux from '../../util/SnackBarsRedux'\r\nimport {actions as snackbar,cartNotifications}    from '../../redux/features/snackbars'\r\n\r\n\r\n\r\nconst CATEGORIES = {\r\n        default: \"fas fa-exclamation-triangle\",\r\n        shoppingcart: \"fa-shopping-basket\",\r\n        payment:\"far fa-credit-card\",\r\n        action: \"fas fa-fighter-jet\",\r\n        comedy:\"fas fa-grin-beam\",\r\n        drama:\"fas fa-theater-masks\",\r\n        fantasy:\"fas fa-dragon\",\r\n        horror:\"fas fa-ghost\",\r\n        mystery:\"fas fa-user-secret\",\r\n        romance:\"fas fa-grin-hearts\",\r\n        thriller:\"fas fa-flushed\",\r\n        western:\"fas fa-hat-cowboy\"\r\n}\r\n\r\nconst ResultItem = ({movie}) => {\r\n  let dispatch = useDispatch()\r\n  function setSingelMovie(movie){\r\n    //set movieSection \r\n    dispatch(actions.setSelectedMovie(movie))\r\n    //toggel menu on nav.\r\n    dispatch(toggelSearch())\r\n  }\r\n  const posterPre = \"https://image.tmdb.org/t/p/w300/\"\r\n  return(\r\n    <Link to={`/movie/${movie.id}`} onClick= {() => setSingelMovie(movie)} className=\"result-item__cont\">\r\n      <img className=\"result-item__img\" src={posterPre+movie.poster_path} alt=\"movie poster\" />\r\n      <div className=\"result-item_info-cont\">\r\n        <h5>{movie.title}</h5>\r\n        <h5>{movie.release_date}</h5>\r\n        <h5>{movie.vote_average}</h5>\r\n      </div>\r\n   \r\n    </Link>\r\n  )\r\n}\r\n\r\nconst SearchResult = ({result}) =>{ \r\n  return(\r\n     <React.Fragment>\r\n     <div className=\"searchresult__overlay\">\r\n      <div className=\"searchresult__cont\">\r\n        { result.map((movie) => {\r\n          return <ResultItem key={movie.title}  movie = {movie}></ResultItem>\r\n        })  }\r\n          \r\n        </div>\r\n     </div>\r\n     </React.Fragment>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Bar = () => {\r\n  const dispatch = useDispatch()\r\n  let searchResults = useSelector(state => state.navbar.searchResult)\r\n  let searchbarOpen = useSelector(state => state.navbar.searchbarOpen)\r\n  let menuOpen = useSelector(state => state.navbar.menuOpen)\r\n\r\n  // Search Event.\r\n  function handleSearch(event){\r\n    if(event.target.value.length > 3){\r\n      dispatch(fetchSearchResult(event.target.value))\r\n    }else if(event.target.value.length < 4 && !searchResults.length !== true){\r\n        dispatch(setSearchResults([]))\r\n    }\r\n  }\r\n  function handelMenuClick(){\r\n    dispatch(toggelMenu())\r\n    if(searchbarOpen){\r\n      dispatch(toggelSearch())\r\n    }\r\n  }\r\n  let iconsStyle = menuOpen? \"menu__icons_open\" : \"menu__icons\"\r\n \r\n  return (\r\n   <React.Fragment>\r\n    <div className=\"navbar__container\">\r\n      {/*Navigation bar*/}\r\n      <Link to=\"/\"><img src={dummyLogo} alt=\"\" className=\"navbar_logo\" /></Link>\r\n      <div className={iconsStyle}>\r\n        {menuOpen? null :  <i className=\"fas fa-search nav_icon\" onClick={() => dispatch(toggelSearch())}></i> }\r\n        {menuOpen? null :  <Link to=\"/shopping-cart\"> <ShoppingCartBadge/> </Link> }\r\n        {menuOpen? <i onClick={() => handelMenuClick()} className=\"fas fa-times nav_icon\"></i> :   <i onClick={() => handelMenuClick()} className=\"fas fa-bars nav_icon\"></i> }\r\n      \r\n      </div>\r\n    </div>\r\n    {\r\n      //Search bar.\r\n      searchbarOpen? \r\n      <div className=\"searchbar__container\">\r\n        <div className=\"search-field__container\">\r\n          <input type=\"text\" className=\"search-field\" onChange={(e)=>handleSearch(e) }/>\r\n          <i className=\"fas fa-search searchbar__container_logo\"></i>\r\n        </div>\r\n        \r\n        <i className=\"fas fa-times search_x_btn\" onClick={() => dispatch(toggelSearch())}></i>  \r\n          {!searchResults.length? null : <SearchResult result={searchResults}></SearchResult>}\r\n      </div> : null  \r\n    }\r\n   </React.Fragment>\r\n  );\r\n} \r\n\r\n\r\n//Menu Component.\r\nlet Menu = () => {\r\n  const dispatch = useDispatch()\r\n  let user = authService.getCurrentUser()\r\n  const [activeUser,setUser] = useState(user)\r\n  function logout(){\r\n    authService.logout()\r\n    setUser(authService.getCurrentUser)\r\n    dispatch(snackbar.displaySnackBar(cartNotifications.loggedOutSuccess))\r\n  }\r\n \r\n  return(\r\n    <div className=\"menu__overlay\">\r\n    \r\n    {/*menu*/}\r\n      <div className=\"menu__container\">\r\n        <div className=\"menu_title_cont\">\r\n          <h2 className=\"menu__title\">Movies</h2>\r\n        </div>\r\n        <div className=\"menu__categories_cont\">\r\n          <div className=\"categories_left\">\r\n            <Link to=\"/genre/action\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.action} menu_cat_icon`}></i>Action</div>\r\n            </Link>\r\n\r\n            <Link to=\"/genre/comedy\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.comedy} menu_cat_icon`}></i>Comedy</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/drama\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.drama} menu_cat_icon`}></i>Drama</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/romance\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"categories_item\"><i className={`${CATEGORIES.romance} menu_cat_icon`}></i>Romance</div>\r\n            </Link>\r\n          </div>\r\n          <div className=\"categories_right\">\r\n            <Link to=\"/genre/fantasy\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.fantasy} menu_cat_icon`}></i>Fantasy</div>\r\n            </Link>\r\n\r\n            <Link to=\"/genre/horror\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.horror} menu_cat_icon`}></i>Horror</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/mystery\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.mystery} menu_cat_icon`}></i>Mystery</div>\r\n            </Link>\r\n            \r\n            <Link to=\"/genre/thriller\" onClick={()=>dispatch(toggelMenu())}>\r\n              <div className=\"categories_item\"><i className={`${CATEGORIES.thriller} menu_cat_icon`}></i>Thriller</div>\r\n            </Link>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className=\"menu__bottom_cont\">\r\n          \r\n          <Link to=\"/shopping-cart\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"bottom_cont_box\">\r\n            <i className=\"fas fa-shopping-cart bottom_cont_icon_box\"></i>\r\n            <p>cart</p>\r\n            </div>\r\n          </Link>\r\n\r\n          {activeUser != null?\r\n                <div className=\"bottom_cont_box\" onClick={() => logout()}>\r\n                <i className=\"fas fa-sign-out-alt  bottom_cont_icon_box\"></i>\r\n                <p>logout</p>\r\n              </div>\r\n            :\r\n            <Link to=\"/login\" onClick={()=>dispatch(toggelMenu())}>\r\n                <div className=\"bottom_cont_box\">\r\n                <i className=\"fas fa-sign-in-alt  bottom_cont_icon_box\"></i>\r\n                <p>login</p>\r\n              </div>\r\n            </Link>\r\n\r\n          \r\n          \r\n          }\r\n         \r\n\r\n          <Link to=\"/profile\" onClick={()=>dispatch(toggelMenu())}>\r\n            <div className=\"bottom_cont_box\">\r\n            <i className=\"fas fa-user bottom_cont_icon_box\"></i>\r\n            <p>account</p>\r\n            </div>\r\n          </Link>\r\n\r\n        </div>\r\n        \r\n      </div>\r\n      <SnackBarsRedux></SnackBarsRedux>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n//Complete Navbar to be used in app.\r\nconst Navbar= () => {\r\n  let menuOpen = useSelector((state) => state.navbar.menuOpen)\r\n  return (\r\n   <React.Fragment>\r\n    <Bar></Bar>\r\n    {menuOpen? <Menu></Menu> : null}\r\n   </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const errorHandlingSlice = createSlice({\r\n  name: 'ErrorHandling',\r\n  initialState: {\r\n    ErrorState: false\r\n  },\r\n  reducers: {\r\n    setError: (state, action) => {\r\n      state.ErrorState = action.payload\r\n    }\r\n  }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {setError } = errorHandlingSlice.actions\r\n\r\nexport default errorHandlingSlice.reducer","\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchTopFive } from '../../util/ApiFetcher'\r\nimport { setError } from './ErrorHandlingSlice'\r\n\r\nexport const fetchTopMovies = createAsyncThunk(\r\n  'mainslider/fetchStatus',\r\n  async (thunkAPI) => {\r\n    try{\r\n      let response = await fetchTopFive()\r\n      return response \r\n     }catch(error){\r\n        throw Error(error)\r\n     }\r\n  }\r\n)\r\n\r\nexport const mainSliderSlice = createSlice({\r\n    name: 'mainSlider',\r\n    initialState: {\r\n      translateX: 0,\r\n      slides: [],\r\n      width:0,\r\n      status:\"LOADING\"\r\n    },\r\n    reducers: {\r\n      toggelSlider: (state,direction) => {\r\n        direction.payload === \"LEFT\" ? state.translateX  = state.translateX + window.innerWidth : state.translateX -= window.innerWidth\r\n      },\r\n      resetSlider: (state) => {\r\n        state.translateX = 0\r\n      },\r\n      setWidth:(state,action) =>{\r\n        state.width = state.slides.length * action.payload.width\r\n        state.translateX = (window.innerWidth * action.payload.current)*-1 \r\n       \r\n      }\r\n    },\r\n    extraReducers: {\r\n      [fetchTopMovies.fulfilled]:(state,action) => {\r\n        state.slides = action.payload.slice(0,5)\r\n        state.width = state.slides.length * window.innerWidth\r\n        state.status = \"READY\"\r\n      },\r\n      [fetchTopMovies.rejected]:(state,action) => {\r\n        console.log(action.payload)\r\n        state.status = \"ERROR\"\r\n      },\r\n      [fetchTopMovies.pending]:(state,action) => {\r\n        state.status = \"LOADING\"\r\n      }\r\n    }\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { toggelSlider, resetSlider, setWidth } = mainSliderSlice.actions\r\n  \r\n  export default mainSliderSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const loadingHandlingSlice = createSlice({\r\n  name: 'loadingHandling',\r\n  initialState: {\r\n    loadingState: true\r\n  },\r\n  reducers: {\r\n    setLoading: (state, action) => {\r\n      state.loadingState = action.payload\r\n    }\r\n  }\r\n})\r\n  \r\n// Action creators are generated for each case reducer function\r\nexport const { setLoading } = loadingHandlingSlice.actions\r\n\r\nexport default loadingHandlingSlice.reducer","import { GpsFixed } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport  ReactDom from 'react-dom'\r\n\r\n\r\nconst MODAL_STYLES = {\r\n    position: 'fixed',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%,-50%)',\r\n    zIndex: 1000\r\n}\r\n\r\nconst OVERLAY_STYLES = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0 , 0 , 0, .7)',\r\n    zIndex: 1000\r\n}\r\n\r\nconst Modal = ({open,children}) =>{\r\n    if(!open) return null\r\n    return ReactDom.createPortal(\r\n        <>\r\n        <div style={OVERLAY_STYLES}/>\r\n        <div style={MODAL_STYLES}>\r\n           {children}\r\n        </div>\r\n             \r\n        </>,\r\n        document.getElementById('portal')\r\n    );\r\n}\r\n\r\nexport default Modal;","\r\nimport React, {useEffect, useState} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport  { setLoading }  from '../../redux/features/loadingHandlingSlice'\r\nimport Modal from './Modal'\r\n\r\nconst Loading = () =>{\r\n\r\n    \r\n    const loadingState = useSelector((state) => state.loadingHandling.loadingState);\r\n    console.log(loadingState)\r\n    const dispatch = useDispatch();\r\n\r\n    return(\r\n       <div>\r\n\r\n <Modal open={loadingState}>\r\n {<CircularProgress color=\"secondary\"/>}\r\n </Modal>\r\n\r\n         \r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Loading;\r\n","\r\nimport { GpsFixed } from '@material-ui/icons';\r\nimport Button from '@material-ui/core/Button'\r\nimport React from 'react'\r\nimport  ReactDom from 'react-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setError } from '../../redux/features/ErrorHandlingSlice';\r\n\r\n\r\n\r\nconst MODAL_STYLES = {\r\n    position: 'fixed',\r\n    top: '50%',\r\n    left: '50%',\r\n    color: 'black',\r\n    transform: 'translate(-50%,-50%)',\r\n    backgroundColor: '#FFF',\r\n    padding: '1rem',\r\n    width: '30%',\r\n    height: '20%',\r\n    border: '1px solid #ccc',\r\n    borderRadius: '4px',\r\n    zIndex: 1000\r\n}\r\n\r\nconst OVERLAY_STYLES = {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0 , 0 , 0, .7)',\r\n   \r\n}\r\n\r\nconst BUTTON_STYLES = {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    top: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    marginTop: '25px',\r\n    zIndex: 1000\r\n}\r\n\r\n\r\n\r\nconst ErrorModal = ({open,children}) =>{\r\n\r\n    const dispatch = useDispatch();\r\n    const refreshPage = ()=>{\r\n        dispatch(setError(false))\r\n        window.location.reload();\r\n     }\r\n    \r\n    if(!open) return null\r\n    return ReactDom.createPortal(\r\n        <React.Fragment>\r\n        <div style={OVERLAY_STYLES}/>\r\n        <div style={MODAL_STYLES}>\r\n           {children}\r\n           <Button onClick={() => refreshPage()}  style={BUTTON_STYLES} variant=\"outlined\" color=\"secondary\">Reload page</Button>\r\n        </div>\r\n             \r\n        </React.Fragment>,\r\n        document.getElementById('ErrorHandlingPopUp')\r\n    );\r\n}\r\n\r\nexport default ErrorModal;\r\n","import React, {useEffect, useState} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport  { setError }  from '../../redux/features/ErrorHandlingSlice'\r\nimport ErrorModal from './ErrorModal'\r\n\r\nconst OVERLAY_STYLES = {\r\n    textAlign: 'center'\r\n   \r\n}\r\n\r\nconst LoadEhandling = () =>{\r\n\r\n    const ErrorState = useSelector((state) => state.ErrorHandling.ErrorState);\r\n    const dispatch = useDispatch();\r\n\r\n    return(\r\n       <div>\r\n\r\n <ErrorModal open={ErrorState}>\r\n  <div>  \r\n      <h2 id=\"modal-title\" style={OVERLAY_STYLES}>\r\n     Something Happened!       \r\n  </h2>\r\n  </div>\r\n </ErrorModal>\r\n\r\n         \r\n       </div>\r\n    );\r\n}\r\n\r\nexport default LoadEhandling;","import './MainSlider.css';\r\nimport React, {useEffect, useRef} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {toggelSlider,fetchTopMovies, resetSlider, setWidth} from '../../redux/features/mainSliderSlice'\r\nimport { Link } from 'react-router-dom';\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport Loading from '../Loading/LoadingIcon'\r\nimport { setError } from '../../redux/features/ErrorHandlingSlice';\r\nimport LoadEhandling from '../ErrorHandler/ErrorPopUp';\r\nimport { setLoading } from '../../redux/features/loadingHandlingSlice';\r\n\r\n\r\n\r\n\r\n\r\n//slidecontainer element\r\nconst MainSliderContainer = ({width,children,tran}) =>{\r\n    const sliderStyle = {\r\n        transform: `translateZ(0) translateX(${tran}px)`,\r\n        transition:`transform 0.25s ease-in-out`,\r\n        width:`${width}px`\r\n    }\r\n\r\n    return (\r\n    <div style={sliderStyle} className=\"main-slider__content-container\" >\r\n    {children}\r\n    </div>\r\n    )\r\n} \r\n\r\n//slide element \r\nconst Slide = ({movie}) => {\r\n    let dispatch = useDispatch()\r\n    \r\n    function setMovie(film){\r\n        dispatch(actions.setSelectedMovie(movie));\r\n    }\r\n\r\n    const posterBaseUrl = \"https://image.tmdb.org/t/p/w500\"\r\n    return (\r\n        <Link onClick={() => setMovie(movie)} to={`/movie/${movie.id}`} style={{backgroundImage:`url(${posterBaseUrl}${movie.backdrop_path})`}} className=\"mainslider__slide\">\r\n        </Link>\r\n     \r\n    )\r\n}\r\n\r\n\r\nconst MainSlider = () => {\r\n    let dispatch = useDispatch()\r\n    //keep track of slide for navigation dots.\r\n    let currentSlide = useRef(0)\r\n    //reset slider.\r\n    function reset(){\r\n        currentSlide.current = 0;\r\n        dispatch(resetSlider())\r\n    } \r\n    \r\n\r\n\r\n    useEffect(()=> {\r\n        dispatch(fetchTopMovies())\r\n        window.addEventListener('resize', () => dispatch(setWidth({width:window.innerWidth,current:currentSlide.current})))\r\n        return () =>  reset()\r\n    },[])\r\n\r\n    let movieList = useSelector(state => state.mainslider.slides)\r\n\r\n    const left = \"LEFT\",\r\n          right =\"RIGHT\"\r\n    \r\n\r\n\r\n    //get full width of slider.\r\n    let width = useSelector(state => state.mainslider.width)\r\n  \r\n    //sets current slide and calls reducer for state handeling. \r\n    const navigateSlider = (direction) => {\r\n        if(direction === left && currentSlide.current>0){\r\n            currentSlide.current--\r\n            dispatch(toggelSlider(direction))\r\n            \r\n        }else if (direction === right && currentSlide.current < movieList.length -1){\r\n            currentSlide.current++\r\n            dispatch(toggelSlider(direction))\r\n        }else{\r\n            return\r\n        }\r\n    }\r\n    \r\n\r\n    var translate = useSelector( (state) =>  state.mainslider.translateX)\r\n    var status = useSelector((state) => state.mainslider.status)\r\n\r\n        if(status === \"READY\"){\r\n         return(\r\n            <div className=\"main-slider__container\">\r\n            <div onClick={() => navigateSlider(left)} className=\"arrow-box-left\"><i className=\"arrow left\"></i></div>\r\n            <div onClick={() => navigateSlider(right)} className=\"arrow-box-right\"><i className=\"arrow right\"></i></div>\r\n            {/*container with width = 100vw * num of slides */}\r\n                <MainSliderContainer width={width} tran={translate}>\r\n                    {!movieList.length? null : movieList.map((movie,i) => ( <Slide key={`${i}${movie.id}`} movie={movie} /> ))}\r\n                </MainSliderContainer>\r\n                <div className=\"main-slider__dot-indicator-container\">\r\n                    {!movieList.length? null : movieList.map((movie,i) => <div key={`dot:${i}`} className={`dots ${i === currentSlide.current ? \"white\" : \"\" }`}></div> )}\r\n                </div>\r\n    \r\n            </div>\r\n         )    \r\n        }else if (status === \"LOADING\"){\r\n            return(\r\n                <div className=\"main-slider__container\">\r\n                <Loading></Loading>           \r\n            </div>\r\n                \r\n            )\r\n        }else{\r\n            dispatch(setError(true))\r\n            return(<LoadEhandling></LoadEhandling>)\r\n        }\r\n\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default MainSlider;\r\n","\r\nimport { createAsyncThunk, createSlice, current } from \"@reduxjs/toolkit\";\r\nimport {fetchGenre} from '../../util/ApiFetcher'\r\n\r\n\r\n\r\nexport const fetchGenerSlides = createAsyncThunk(\r\n  `genre/status`,\r\n async (action,thunkAPI) => {\r\n    try{\r\n      let response = await fetchGenre(action.genere,action.amount)\r\n      return {movies:response,id:action.genere}\r\n    }catch(error){\r\n      throw Error(error)\r\n    }\r\n  }\r\n\r\n)\r\n\r\nfunction updateSlider(oldObject, newValues){\r\n    let newObj = Object.assign({},oldObject,newValues)\r\n    return newObj\r\n}\r\n\r\nfunction updateItemInArray(array,itemId,updateCallbackItem){\r\n    let updatedArray = array.map((item) => {\r\n        \r\n        if(item.slider !== itemId){\r\n            return item\r\n        }else{\r\n            var updatedPositionItem = updateCallbackItem(item)\r\n            \r\n            return updatedPositionItem\r\n\r\n        }\r\n    })\r\n    \r\n    return updatedArray\r\n}\r\n\r\n\r\nexport const genreSliderSlice = createSlice({\r\n    name: 'genreSlider',\r\n    initialState: {\r\n      // truns in to sliders[{slider:\"action\", translateX:-3,movieList:[list of movies]}]\r\n      sliders:[],\r\n      translateX:10,\r\n    },\r\n    reducers: {\r\n      swipeGenre: (state,action) => {\r\n          \r\n       let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n           return updateSlider(item,{translateX:item.translateX + action.payload.translateX})\r\n       })\r\n    \r\n        state.sliders = newArray\r\n       \r\n      },\r\n      addSlider: (state,actions) => {\r\n        //add slider with id and translateX tracker.\r\n        state.sliders = state.sliders.concat({slider:actions.payload,translateX:-100,movieList:[],width:0})\r\n      },\r\n      setWidth:(state,action) => {\r\n        let w = window.innerWidth > 1100 ? ((window.innerWidth*1.20) * 0.15 + 15) * state.sliders.find( obj => obj.slider === action.payload.id ).movieList.length : (window.innerWidth * 0.30 + 15.5) * state.sliders.find( obj => obj.slider === action.payload.id ).movieList.length\r\n        let translate = (state.sliders.find( obj => obj.slider === action.payload.id ).translateX * -1) > w/2 ? (w/2) * -1 + 45 : state.sliders.find( obj => obj.slider === action.payload.id ).translateX\r\n        \r\n        let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n          return updateSlider(item,{width:w,translateX:translate})\r\n      })\r\n        \r\n       state.sliders = newArray\r\n       \r\n\r\n      }\r\n    \r\n    },\r\n    extraReducers:{\r\n      [fetchGenerSlides.fulfilled]: (state,action) =>{\r\n        \r\n        let w = window.innerWidth > 1100 ? ((window.innerWidth*1.20) * 0.15 + 15) * action.payload.movies.length : (window.innerWidth * 0.30 + 15.5) * action.payload.movies.length\r\n        let newArray = updateItemInArray(current(state.sliders),action.payload.id, item => {\r\n          return updateSlider(item,{movieList:action.payload.movies,width:w})\r\n      })\r\n   \r\n       state.sliders = newArray\r\n      \r\n      },\r\n      [fetchGenerSlides.rejected]:(state,action) => { console.log(action.payload) }\r\n    }\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { swipeGenre, addSlider, setWidth } = genreSliderSlice.actions\r\n  \r\n  export default genreSliderSlice.reducer","import React, { useEffect } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport './GenreSlider.css'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {swipeGenre,addSlider,fetchGenerSlides, setWidth} from '../../redux/features/genreSliderSlice'\r\nimport  { actions }  from '../../redux/features/movieSection'\r\nimport { SlideshowTwoTone } from '@material-ui/icons';\r\n\r\nconst SlideContainer = ({children,width,translate,id}) => {\r\n    \r\n    let dispatch = useDispatch()\r\n    let clientX = null \r\n    \r\n    function handelSwipe(endPosX){\r\n        if (clientX - endPosX > 30 || clientX - endPosX < -30){\r\n            if(clientX < endPosX){\r\n                //swipe right\r\n                if(translate<0 && translate + (endPosX - clientX) * 4 < 0){\r\n                    \r\n                    dispatch(swipeGenre( {translateX:(endPosX - clientX)*4,id:id}))\r\n                }else{\r\n                  dispatch(swipeGenre( {translateX:(translate * -1) + (10),id:id} )  )\r\n                \r\n                }\r\n                \r\n            }\r\n            else{\r\n                let maxRigth = width - window.innerWidth;\r\n              \r\n                //swipe left\r\n                  if(translate + (endPosX - clientX) * 4 > (-maxRigth) ){\r\n                    dispatch(swipeGenre( {translateX:(endPosX - clientX)*4,id:id}))\r\n                }else{\r\n                    //set to start pos when swipe is bigger than whats left of swipe.\r\n                    if(translate<maxRigth){\r\n                        dispatch(swipeGenre({translateX:(maxRigth + translate) * -1,id:id}))\r\n                    }else{\r\n                        return\r\n                    }\r\n                    \r\n                }\r\n            }\r\n\r\n        }\r\n \r\n            \r\n        \r\n    \r\n    }\r\n    const sliderStyle = {\r\n        transform: `translateZ(0) translateX(${translate}px)`,\r\n        transition:`transform 0.25s ease-in-out`,\r\n        width:` ${width}px`\r\n    }\r\n\r\n    return(\r\n        <div   onMouseDown = {e => clientX = e.clientX} onMouseUp = {e => handelSwipe(e.clientX)} onTouchStart = { (e) => clientX = e.targetTouches[0].clientX } onTouchEnd = {(e) => handelSwipe(e.changedTouches[0].clientX)} style={sliderStyle} className=\"slidecontainer\">\r\n            {children}\r\n        </div>\r\n    )\r\n   \r\n\r\n}\r\n\r\nconst Slide = ({movie}) => {\r\n    let dispatch = useDispatch()\r\n    const posterBaseUrl = \"https://image.tmdb.org/t/p/original/\"\r\n    \r\n    return <Link to={`/movie/${movie.id}`} onClick={() => dispatch(actions.setSelectedMovie(movie))}  style={{backgroundImage:`url(${posterBaseUrl+movie.poster_path})`}} className=\"gener__slide\"></Link>\r\n}\r\n\r\n\r\nconst GenreSlider = ({children,movies,id}) => {\r\n    let dispatch = useDispatch()\r\n    //add slider for controll over slideffect.\r\n\r\n    var resizeId\r\n    function setW(){\r\n        clearTimeout(resizeId)\r\n        resizeId = setTimeout( () => dispatch(setWidth({id:id})), 500)\r\n    }\r\n \r\n    \r\n    useEffect(() => {\r\n        dispatch(fetchGenerSlides({genere:id,amount:10}))\r\n        dispatch(addSlider(id))\r\n        window.addEventListener('resize', () => setW())  \r\n        return () => window.removeEventListener('resize',e => setW())\r\n    },[])\r\n\r\n    let sliders = useSelector( (state) => { return state.genreSlider.sliders}) \r\n    let slider = null \r\n    if (sliders.length === 0){\r\n    }else{\r\n       slider = sliders.find( obj => obj.slider === id )\r\n    }\r\n \r\n  \r\n    function handelSlide(direction){\r\n        if(slider != null){\r\n            let move = 300;\r\n            if(direction === \"RIGHT\"){\r\n                if ((slider.translateX * -1) + 60  < slider.width/2){\r\n                    \r\n                    dispatch(swipeGenre( {translateX:(move * -1),id:id}))\r\n                }else{\r\n                    dispatch(swipeGenre( {translateX:slider.translateX * -1 + ((slider.width/2)*-1) + 50 , id:id}))\r\n                }\r\n            }else{\r\n                    if (slider.translateX + move < -40){\r\n                        dispatch(swipeGenre({translateX:move,id:id}))\r\n                    }else{\r\n                        dispatch(swipeGenre({translateX:( slider.translateX * -1) + 10 , id:id})) \r\n                    }\r\n            }\r\n        }\r\n        \r\n    }\r\n  \r\n  \r\n  \r\n\r\n    return(\r\n        <div className=\"wrapper\">\r\n        <div onClick={() => handelSlide(\"LEFT\")} className=\"arrow-box-left_genre\"><i className=\"arrow_genre left\"></i></div>\r\n        <div onClick={() => handelSlide(\"RIGHT\")} className=\"arrow-box-right_genre\"><i className=\"arrow_genre right\" ></i></div>\r\n               <div className=\"genre-slider__cont\">\r\n            <Link to = {`/genre/${children}`} className=\"genre-slider__header\">\r\n                <h2>{children.toUpperCase()}</h2>\r\n            </Link>\r\n           {!sliders.length? null : <SlideContainer id ={id} translate = {slider.translateX} width = {slider.width} >{slider.movieList.map((movie,i) => <Slide key = {i+12} movie = {movie} ></Slide>)}</SlideContainer>} \r\n            </div>\r\n        </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default GenreSlider","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst startFetch = createAction('started fetching');\r\nconst fetchSuccess = createAction('fetching completed');\r\nconst fetchFailed = createAction('fetching failed');\r\nconst pushPartFetch = createAction('part fetch completed');\r\nconst pushPartsCompleted = createAction('all parts fetch completed');\r\nconst resetState = createAction('resetState');\r\n\r\nconst actions = { startFetch, fetchSuccess, fetchFailed, pushPartFetch, pushPartsCompleted, resetState };\r\n\r\nconst API_FETCHER_STATUSES = {\r\n  DEFAULT: {\r\n    status: 0,\r\n    message: 'default',\r\n  },\r\n  FETCHING: {\r\n    status: 1,\r\n    message: 'Is fetching api data...',\r\n  },\r\n  SUCCESS: {\r\n    status: 2,\r\n    message: 'Fetch SUCCESS',\r\n  },\r\n  FAILED: {\r\n    status: 3,\r\n    message: 'Fetch FAILED',\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n    STATUS : API_FETCHER_STATUSES.DEFAULT,\r\n    RESULT: [],\r\n    PART_RES: [],\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n  [startFetch]: (state, action) =>({\r\n      ...state,\r\n      STATUS: API_FETCHER_STATUSES.FETCHING\r\n  }),\r\n  [fetchSuccess]: (state, action) => {\r\n      state.STATUS = API_FETCHER_STATUSES.SUCCESS\r\n      state.RESULT = action.payload\r\n  },\r\n  [pushPartFetch]: (state, action) => {\r\n      state.PART_RES.push(action.payload)\r\n  },\r\n  [pushPartsCompleted]: (state, action) => ({\r\n    ...state,\r\n      RESULT : [...state.PART_RES],\r\n      STATUS : API_FETCHER_STATUSES.SUCCESS\r\n  }),\r\n  [fetchFailed]: (state, action) =>({\r\n    ...state,\r\n      STATUS: API_FETCHER_STATUSES.FAILED\r\n  }),\r\n  [resetState]: (state, action) => {\r\n    console.log(action.payload)\r\n    state.STATUS = API_FETCHER_STATUSES.DEFAULT\r\n    state.PART_RES = []\r\n    state.RESULT = []\r\n  },\r\n  \r\n})\r\n\r\nexport { actions, reducer, API_FETCHER_STATUSES };","import { actions } from './../redux/features/fetcherApi';\r\nimport mockDataGenre from './../mockData/mock-data-genre.json'\r\n\r\nconst BASE_API_URL_V3 = \"https://api.themoviedb.org/3/\"\r\nconst API_KEY = \"9f9816e8ad3f4241eaf738efa1c54328\"\r\nconst API_KEY_CALL = `api_key=${API_KEY}`\r\n\r\nconst EXTENDED_PATHS = {\r\n    POPULAR: 'movie/popular',\r\n    GENRE: 'genre/movie/list',\r\n    DISCOVER_WITH_GENRE:`discover/movie?${API_KEY_CALL}&with_genres=`\r\n}\r\n\r\n//CAN BE SENT THROUGH extras or another variable\r\n\r\nexport function fetchListGenres(dispatch, id){\r\n\r\n    let FULL_API_URL = `${BASE_API_URL_V3}${EXTENDED_PATHS.GENRE}?${API_KEY_CALL}`\r\n\r\n    const PRIMARY_RELEASE_YEAR = \"primary_release_year=2021\"\r\n    const SORT_BY_DESC = \"popularity.desc\"\r\n    const VOTE_AVARAGE = 7\r\n    const PAGE = 1\r\n\r\n    const genreOBJ = mockDataGenre.genres.find(item => String(item.name).toUpperCase() === String(id).toUpperCase())\r\n    console.log('FOUND GENRE: ', genreOBJ.id, ' ', genreOBJ.name)\r\n    const GENRE_API_URL = `${BASE_API_URL_V3}${EXTENDED_PATHS.DISCOVER_WITH_GENRE}${genreOBJ.id}&${PRIMARY_RELEASE_YEAR}&sort_by=${SORT_BY_DESC}&vote_average.gte=${VOTE_AVARAGE}`\r\n    \r\n        fetch(GENRE_API_URL)\r\n\r\n            .then(async response => {\r\n                const data = await response.json();\r\n\r\n                if (!response.ok) {\r\n                \r\n                    const error = (data && data.message) || response.statusText;\r\n                    return Promise.reject(error);\r\n                }\r\n              \r\n                dispatch(actions.fetchSuccess(data.results));\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error!', error);\r\n                dispatch(actions.fetchFailed());\r\n        });\r\n\r\n}\r\n\r\nexport function fetchListPopular(dispatch){\r\n\r\n    let fullApiUrl = `${BASE_API_URL_V3}${EXTENDED_PATHS.POPULAR}?${API_KEY_CALL}`\r\n\r\n    fetch(fullApiUrl)\r\n\r\n      .then(async response => {\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n        \r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n        \r\n        dispatch(actions.fetchSuccess(data.results));\r\n\r\n    })\r\n    .catch(error => {\r\n        console.error('There was an error!', error);\r\n        dispatch(actions.fetchFailed());\r\n    });\r\n}\r\n\r\nexport function fetchAllForLandingPage(dispatch){\r\n  \r\n    dispatch(actions.resetState(''))\r\n    dispatch(actions.startFetch());\r\n    let fetchAllGenres = `${BASE_API_URL_V3}${EXTENDED_PATHS.GENRE}?${API_KEY_CALL}`\r\n\r\n    console.log('fetchAllForLandingPage')\r\n\r\n    const PRIMARY_RELEASE_YEAR = \"primary_release_year=2021\"\r\n    const SORT_BY_DESC = \"popularity.desc\"\r\n    const VOTE_AVARAGE = 7\r\n    const PAGE = 1\r\n\r\n    fetch(fetchAllGenres)\r\n        .then(async response => {\r\n            \r\n            const data = await response.json();\r\n            \r\n            if (!response.ok) {\r\n                const error = (data && data.message) || response.statusText;\r\n                return Promise.reject(error);\r\n            }\r\n            \r\n            const genreArray = JSON.stringify(data.genres)\r\n         \r\n            JSON.parse(genreArray).forEach((props) => {\r\n\r\n                const fetchPageOneInGenre = `${BASE_API_URL_V3}${EXTENDED_PATHS.DISCOVER_WITH_GENRE}${props.id}&${PRIMARY_RELEASE_YEAR}&sort_by=${SORT_BY_DESC}&vote_average.gte=${VOTE_AVARAGE}&page=${PAGE}`\r\n\r\n                fetch(fetchPageOneInGenre)\r\n                    .then(async response => {\r\n  \r\n                        const data = await response.json();\r\n  \r\n                        if (!response.ok) {\r\n                            const error = (data && data.message) || response.statusText;\r\n                            return Promise.reject(error);\r\n                        }\r\n                        \r\n                        const movies = data.results;\r\n\r\n                        const myObj = {\r\n                            \"id\": props.id,\r\n                            \"name\": props.name,\r\n                            \"movies\": movies \r\n                        }\r\n\r\n                        dispatch(actions.pushPartFetch(myObj))\r\n                        dispatch(actions.pushPartsCompleted('null'))\r\n\r\n                    })\r\n  \r\n                    .catch(error => {\r\n                        console.error('Therewasanerror!', error);\r\n                    });\r\n\r\n             \r\n            });\r\n\r\n          \r\n        })\r\n        .catch(error => {\r\n            console.error('Therewasanerror!', error);\r\n        });\r\n\r\n  }\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst addListMovie = createAction('add list movie item');\r\nconst removeCartItem = createAction('remove list movie item');\r\nconst clearCart = createAction('clear cart');\r\nconst setDisplayCheckout = createAction('set display checkout');\r\n\r\nconst actions = { addListMovie, removeCartItem, clearCart, setDisplayCheckout };\r\n\r\nconst initialState = {\r\n    listOfMovies : [],\r\n    listCount : 0,\r\n    displayCheckoutComp: false,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [addListMovie] : (state, action) => { \r\n        const value = action.payload\r\n        state.listCount = (state.listOfMovies.length + 1)\r\n        state.listOfMovies.push(value)\r\n    },\r\n    [removeCartItem] : (state, action) => { \r\n        const list = state.listOfMovies.filter(function(item) {\r\n            return item !== action.payload\r\n        })\r\n        state.listCount = (list.length)\r\n        state.listOfMovies = list\r\n    },\r\n    [clearCart] : (state, action) => { \r\n        const list = [];\r\n        state.listCount = (0)\r\n        state.listOfMovies = list\r\n    },\r\n    [setDisplayCheckout] : (state, action) => { \r\n        const bool = action.payload\r\n        state.displayCheckoutComp = bool\r\n    },\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst setVisibility = createAction('set vis');\r\n\r\nconst actions = { setVisibility };\r\n\r\nconst initialState = {\r\n    visibility : false,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [setVisibility] : (state, action) => ({ \r\n        \r\n        ...state,\r\n            visibility: !state.visibility\r\n    }),\r\n}) \r\n\r\n\r\nexport { actions, reducer };","import { Button, makeStyles } from \"@material-ui/core\";\r\nimport {\r\n  AddShoppingCartRounded,\r\n  RemoveShoppingCartRounded,\r\n  ShopRounded,\r\n  RemoveCircleRounded,\r\n} from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actions as shoppingCartActions } from \"../../redux/features/shoppingCart\";\r\nimport { actions as checkOutActions } from \"../../redux/features/checkOut\";\r\nimport {\r\n  actions as snackBarActions,\r\n  cartNotifications,\r\n} from \"../../redux/features/snackbars\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst BTN_VARIANTS = {\r\n  outlined: \"outlined\",\r\n  contained: \"contained\",\r\n  none: \"\",\r\n};\r\n\r\nconst BTN_COLORS = {\r\n  primary: \"primary\",\r\n  secondary: \"secondary\",\r\n  default: \"default\",\r\n};\r\n\r\nexport const BUTTON_TYPE = {\r\n  CART_ADD: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <AddShoppingCartRounded />,\r\n    friendlyName: \"Add\",\r\n  },\r\n  CART_REMOVE: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.default,\r\n    startIcon: <RemoveShoppingCartRounded />,\r\n    friendlyName: \"Remove\",\r\n  },\r\n  CART_CLEAR: {\r\n    btnVariant: BTN_VARIANTS.outlined,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <RemoveCircleRounded />,\r\n    friendlyName: \"Empty Cart\",\r\n  },\r\n  CART_CHECKOUT: {\r\n    btnVariant: BTN_VARIANTS.contained,\r\n    btnColor: BTN_COLORS.secondary,\r\n    startIcon: <ShopRounded />,\r\n    friendlyName: \"Checkout\",\r\n  },\r\n};\r\n\r\nconst ShoppingCartActionButtons = ({ mItem, type }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  let UseAction = null;\r\n\r\n  let btnVariant = BUTTON_TYPE.CART_ADD.btnVariant;\r\n  let btnColor = BUTTON_TYPE.CART_ADD.btnColor;\r\n  let startIcon = BUTTON_TYPE.CART_ADD.startIcon;\r\n  let friendlyName = BUTTON_TYPE.CART_ADD.friendlyName;\r\n\r\n  const stateListOfMovies = useSelector(\r\n    (state) => state.shoppingCart.listOfMovies\r\n  );\r\n\r\n  const onAction = () => {\r\n    UseAction();\r\n  };\r\n\r\n  switch (type) {\r\n    case BUTTON_TYPE.CART_ADD:\r\n      btnVariant = BUTTON_TYPE.CART_ADD.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_ADD.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_ADD.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_ADD.friendlyName;\r\n\r\n      UseAction = () => {\r\n        if (stateListOfMovies.length === 0) {\r\n          // console.log('Adding FIRST item to CART...')\r\n          dispatch(shoppingCartActions.addListMovie(JSON.stringify(mItem)));\r\n          dispatch(\r\n            snackBarActions.displaySnackBar(cartNotifications.cartAddSuccess)\r\n          );\r\n        } else {\r\n          // console.log(mItem.imdbId)\r\n          const checkAdded = stateListOfMovies.some(\r\n            (x) => JSON.parse(x).id === mItem.id\r\n          );\r\n\r\n          if (checkAdded) {\r\n            dispatch(\r\n              snackBarActions.displaySnackBar(cartNotifications.cartAddFailed)\r\n            );\r\n            // console.log('Movie already added to CART...')\r\n          } else {\r\n            dispatch(shoppingCartActions.addListMovie(JSON.stringify(mItem)));\r\n            // console.log('Adding item to CART...')\r\n            dispatch(\r\n              snackBarActions.displaySnackBar(cartNotifications.cartAddSuccess)\r\n            );\r\n          }\r\n        }\r\n      };\r\n\r\n      break;\r\n    case BUTTON_TYPE.CART_REMOVE:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_REMOVE.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_REMOVE.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_REMOVE.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_REMOVE.friendlyName;\r\n\r\n      UseAction = () => {\r\n        //console.log(\"Remove item?: \" + mItem);\r\n        dispatch(shoppingCartActions.removeCartItem(mItem));\r\n        dispatch(\r\n          snackBarActions.displaySnackBar(cartNotifications.cartRemovedSuccess)\r\n        );\r\n      };\r\n\r\n      break;\r\n    case BUTTON_TYPE.CART_CLEAR:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_CLEAR.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_CLEAR.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_CLEAR.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_CLEAR.friendlyName;\r\n\r\n      UseAction = () => {\r\n        dispatch(shoppingCartActions.clearCart());\r\n        dispatch(\r\n          snackBarActions.displaySnackBar(cartNotifications.cartCleared)\r\n        );\r\n      };\r\n\r\n      break;\r\n\r\n    case BUTTON_TYPE.CART_CHECKOUT:\r\n\r\n      btnVariant = BUTTON_TYPE.CART_CHECKOUT.btnVariant;\r\n      btnColor = BUTTON_TYPE.CART_CHECKOUT.btnColor;\r\n      startIcon = BUTTON_TYPE.CART_CHECKOUT.startIcon;\r\n      friendlyName = BUTTON_TYPE.CART_CHECKOUT.friendlyName;\r\n\r\n      UseAction = () => {\r\n        dispatch(checkOutActions.setVisibility(\"\"));\r\n      };\r\n\r\n      break;\r\n\r\n    default:\r\n      UseAction = () => {};\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant={btnVariant}\r\n        color={btnColor}\r\n        className={classes.button}\r\n        startIcon={startIcon}\r\n        onClick={() => {\r\n          onAction();\r\n        }}\r\n      >\r\n        {friendlyName}\r\n      </Button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ShoppingCartActionButtons;\r\n","export const POSTER_SIZES = {\r\n    w200: 'w200',\r\n    w300: 'w300',\r\n    w400: 'w400',\r\n    w500: 'w500',\r\n    w800: 'w800',\r\n    original: 'original'\r\n};\r\n\r\nexport function createPosterPathFull(size, endPath) {\r\n    const apiPosterPath = 'https://image.tmdb.org/t/p/';\r\n    return `${apiPosterPath}/${size}/${endPath}`;\r\n}\r\n","\r\nexport function matchGenreIdsToName(movieItemGenres, availableGenres) {\r\n    var movieGenresNamed = [];\r\n\r\n    movieItemGenres.forEach(genreNum => {\r\n        availableGenres.forEach(listItem => {\r\n            if (listItem.id === genreNum) {\r\n                movieGenresNamed.push(String(listItem.name));\r\n            }\r\n        });\r\n    });\r\n\r\n    return movieGenresNamed;\r\n}\r\n","import { Divider, Fade, IconButton, makeStyles, Slide } from '@material-ui/core';\r\nimport React from 'react'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from '../shopping-cart/ShoppingCartActionButtons';\r\nimport { createPosterPathFull, POSTER_SIZES } from \"../../helper-functions/poster\";\r\nimport { actions as actionsMovieSection, MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection'\r\nimport { useDispatch } from 'react-redux';\r\nimport MockGenres from '../../mockData/mock-data-genre.json';\r\nimport { MoreHorizRounded } from '@material-ui/icons';\r\nimport { matchGenreIdsToName } from '../../helper-functions/genres';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      width: '100%',\r\n      fontSize: 12,\r\n      flexDirection: 'column',\r\n      textShadow: '1px 1px #000',\r\n    },\r\n    mainContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        borderRadius: 10,\r\n        objectFit: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        \"&:hover\": {\r\n            transform: 'scale(0.98)'\r\n        }\r\n    },\r\n    topRow: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        flexDirection: 'row-reverse',\r\n        alignContent: 'end',\r\n        alignItems: 'center',\r\n        justifyContent: 'end',\r\n    },\r\n    infoContainer: {\r\n        width: '90%',\r\n        height: '100%',\r\n        marginLeft: '5%',\r\n        // background: 'red',\r\n        minHeight: '30vh',\r\n    },\r\n    divider: {\r\n        marginTop: 2,\r\n        marginBottom: 10,\r\n        background: 'rgb(175,175,175, 0.2)',\r\n        maxWidth: '100%',\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        fontSize: '1em',\r\n        fontWeight: 'bold',\r\n        wordWrap: 'break-word',\r\n        maxWidth: '90%',\r\n        textAlign: 'left',\r\n    },\r\n    year: {\r\n        textAlign: 'left',\r\n        maxWidth: '100%',\r\n    },\r\n    genres: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        '& *': {\r\n            marginTop: 5,\r\n            marginRight: 5,\r\n            padding: 5,\r\n            borderRadius: 5,\r\n            background: 'rgb(68,68,68, 0.5)',\r\n        },\r\n    },\r\n    bottomRow: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        flexDirection: 'row-reverse',\r\n        alignContent: 'end',\r\n        alignItems: 'end',\r\n        justifyContent: 'end',\r\n        background: 'linear-gradient(to top, rgb(0, 0, 0, 0.8), rgb(38, 38, 38, 0.6))',\r\n        borderBottomLeftRadius: 10,\r\n        borderBottomRightRadius: 10\r\n    },\r\n}));\r\n\r\nconst MovieMulti = ({ item, useId }) => {\r\n  \r\n  const classes = useStyles();\r\n\r\n  const useID = useId\r\n  const title = item.original_title\r\n  const releaseDate = item.release_date\r\n  const movieGenresNamed = matchGenreIdsToName(item.genre_ids, MockGenres.genres)\r\n  const posterPath = createPosterPathFull(POSTER_SIZES.w300, item.poster_path)\r\n\r\n  return(\r\n        <div id={`${useID} ${item.id}`}\r\n            className={classes.root}>\r\n            \r\n            <Slide direction={'right'} in={true} timeout={500}>\r\n                <div className={classes.mainContainer} \r\n                    style={{backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPath})`}}\r\n                    >\r\n            \r\n                    <div className={classes.topRow}>\r\n                        <ButtonMore mItem={item}/>\r\n                    </div>\r\n                \r\n                    <Divider className={classes.divider}/>\r\n\r\n                    <div className={classes.infoContainer}>\r\n\r\n                        <div className={classes.title}>\r\n                            <i style={{fontSize: 12}}>{title}</i>\r\n                        </div>\r\n\r\n                        <div className={classes.year}>\r\n                            <i style={{fontSize: 12}}>{String(releaseDate).slice(0, 4)}</i>\r\n                        </div>\r\n                        \r\n\r\n                        <div className={classes.genres}>\r\n                            {movieGenresNamed.map((genre) => {\r\n                                return <div key={genre}>{genre}</div>\r\n                            })}\r\n\r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                    <div className={classes.bottomRow}>\r\n                        <ShoppingCartActionButtons mItem={item} type={BUTTON_TYPE.CART_ADD}/>\r\n                    </div>\r\n\r\n                </div>\r\n            </Slide>\r\n        </div>\r\n  );\r\n\r\n}\r\n\r\nconst ButtonMore = ({ mItem }) => {\r\n   \r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                fontSize=\"medium\"\r\n                color={'secondary'}\r\n                onClick={\r\n                    () => {\r\n                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                        dispatch(actionsMovieSection.setSelectedMovie(mItem))\r\n                    }}\r\n                >\r\n                    <MoreHorizRounded/>\r\n            </IconButton>\r\n\r\n         \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieMulti;","import { Button, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    rootNotSignedIn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: 50,\r\n        marginBottom: 15,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        \"& > *\": {\r\n            marginBottom: 15,\r\n        }\r\n    }\r\n}));\r\n\r\nconst NotSignedIn = ({ ...props }) => {\r\n    \r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n            <div className={classes.rootNotSignedIn}>\r\n\r\n                <div className={classes.container}>\r\n\r\n                    <b>{props.message}</b>\r\n\r\n                    <Button\r\n                        style={{width: '30%'}}\r\n                        variant={'contained'}\r\n                        color={'secondary'}\r\n                        onClick={\r\n                            () => { history.push(\"/login\") }\r\n                        }>\r\n                        Sign in\r\n\r\n                        </Button>\r\n\r\n                        \r\n                </div>\r\n                \r\n                \r\n            </div>\r\n \r\n\r\n        </React.Fragment>\r\n    )\r\n\r\n}\r\n\r\nexport default NotSignedIn;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyBHdsXLFx1Z4XAzI8HhsAcYwVJcQ5E5PXo\",\r\n    authDomain: \"iths-react-movie-shop.firebaseapp.com\",\r\n    projectId: \"iths-react-movie-shop\",\r\n    storageBucket: \"iths-react-movie-shop.appspot.com\",\r\n    messagingSenderId: \"284458605047\",\r\n    appId: \"1:284458605047:web:6d0a86a0d45156970d76f2\",\r\n    measurementId: \"G-RHBQ6NZN13\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const fsDB = firebase.firestore();","import { fsDB as db } from './../../util/firebase'\r\nimport firebase from \"firebase/app\";\r\nimport { \r\n    actions as snackBarActions,  \r\n    commentNotifications\r\n} from \"../../redux/features/snackbars\";\r\n\r\n\r\nclass FirebaseUserWithCommentAndRating {\r\n    \r\n    constructor (displayName, photoUrl, uid, comment, rating) {\r\n        this.displayName = displayName;\r\n        this.photoUrl = photoUrl;\r\n        this.uid = uid;\r\n        this.comment = comment;\r\n        this.rating = rating;\r\n    }\r\n\r\n    toString() {\r\n        return this.displayName + ', ' + this.photoUrl + ', ' + this.uid;\r\n    }\r\n\r\n    toFirestore(data) {\r\n        return {\r\n            displayName: data.displayName,\r\n            photoUrl: data.photoUrl,\r\n            uid: data.uid,\r\n            comment: data.comment,\r\n            rating: data.rating,\r\n        };\r\n    }\r\n}\r\n\r\nexport const addComment = async(docRef, comment, rating, currentUser, dispatch) => {\r\n\r\n    const movieRef = db.collection(\"movies\").doc(`${docRef}`)\r\n\r\n    return db.runTransaction((transaction) => {\r\n\r\n        return transaction.get(movieRef).then((sfDoc) => {\r\n            \r\n            var newTotalRating = parseInt(rating)\r\n            var newVoteCount = 1\r\n\r\n            if (!sfDoc.exists) {\r\n\r\n            }\r\n\r\n            newTotalRating = (sfDoc.data() !== undefined) ? (sfDoc.data().totalRating + 3 ): 0\r\n            newVoteCount = (sfDoc.data() !== undefined) ? (sfDoc.data().voteCount + 1 ): 1\r\n\r\n            var newAverageRating = newTotalRating / newVoteCount\r\n            \r\n            const user = new FirebaseUserWithCommentAndRating(currentUser.displayName, currentUser.photoURL, currentUser.uid, `${comment}`, parseInt(rating))\r\n\r\n            let newDocProps = {\r\n                averageRating: newAverageRating,\r\n                totalRating: newTotalRating,\r\n                voteCount: newVoteCount,\r\n                comments: firebase.firestore.FieldValue.arrayUnion(user.toFirestore(user))\r\n            }\r\n   \r\n            transaction.set(movieRef, newDocProps);\r\n                 \r\n        });\r\n    \r\n    }).then(() => {\r\n        dispatch(snackBarActions.displaySnackBar(commentNotifications.commentAdded))\r\n    }).catch((error) => {\r\n        console.log(\"Transaction failed: \", error);\r\n    });\r\n    \r\n\r\n}\r\n\r\n\r\n\r\nexport const CommentFunction = { addComment }","import { \r\n    Button, \r\n    createMuiTheme, \r\n    FormControlLabel, \r\n    makeStyles, \r\n    Radio, \r\n    RadioGroup, \r\n    styled, \r\n    TextField } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport authService from '../../util/auth-service';\r\nimport NotSignedIn from '../shared-components/NotSignedIn';\r\nimport { addComment } from './comment-functions'\r\n\r\nconst strButtonText = \"Comment\"\r\n\r\nconst CustomRadioB = styled(({ color, ...other }) => <Radio {...other} />)({\r\n    background: (props) =>\r\n      props.color === 'white',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    color: 'white',\r\n    height: '100%',\r\n    padding: '0 10px',\r\n    margin: 8,\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        fontSize: 12,\r\n        borderRadius: 10,\r\n        // background: 'rgb(32,32,32, 0.6)',\r\n        flexWrap: 'column-reverse',\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        fontSize: 16,\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        textIndent: 15\r\n    },\r\n    divider: {\r\n        background: 'rgb(255,255,255, 0.1)',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    },\r\n    containerComment: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: 25,\r\n        marginRight: 25,\r\n        marginBottom: 20,\r\n    },\r\n    textField: {\r\n        color: 'white',\r\n    },\r\n    containerButton: {\r\n        display: 'flex',\r\n        flexDirection: 'row-reverse'\r\n    },\r\n    containerProfileInfo: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '100%',\r\n        textAlign: 'left',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        marginLeft: 15\r\n    },\r\n    profileImg: {\r\n        width: '50px',\r\n        height: '50px',\r\n        borderRadius: 25,\r\n        objectFit: 'cover'\r\n    },\r\n    profileName: {\r\n        fontSize: 14, \r\n        marginLeft: 10, \r\n        height: '100%',\r\n    },\r\n    rootNotSignedIn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '95%',\r\n    },\r\n    ratingGroup: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '95%',\r\n        // background: 'rgb(255,255,255, 0.2)'\r\n    }\r\n}));\r\n\r\nconst theme = createMuiTheme({\r\n    overrides: {\r\n      MuiInputBase: {\r\n        input: {\r\n          background: \"#fff\",\r\n        },\r\n      },\r\n    },\r\n});\r\n\r\nconst userInitialState = {\r\n    displayName: null,\r\n    photoUrl: null\r\n}\r\n\r\nconst CommentAdd = () => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const item = useSelector(state => state.movieSection.selectedMovie)\r\n    const [currentUser, setCurrentUser] = useState(userInitialState);\r\n    const [comment, setComment] = useState('');\r\n    const [disableCommentBtn, setDisableCommentBtn] = useState(true);\r\n    const [rating, setRating] = useState(0);\r\n\r\n    useEffect(() => {\r\n      let cUser = authService.getCurrentUser()\r\n     \r\n      if(cUser !== null){\r\n        setCurrentUser(cUser)\r\n      }\r\n    }, [])\r\n\r\n    const handleCommentInput = (value) => {\r\n        setComment(value)\r\n        handleRatingAndComment(rating, comment)\r\n    }\r\n\r\n    const handleRatingAndComment = (rating, comment) => {\r\n       \r\n        if(String(comment).trimEnd().length >= 10 && rating !== 0){\r\n            setDisableCommentBtn(false)\r\n        } else {\r\n            setDisableCommentBtn(true)\r\n        }\r\n    };\r\n\r\n    const handleRatingChange = (event) => {\r\n        setRating(event.target.value);\r\n        console.log(event.target.value)\r\n        handleRatingAndComment(rating, comment)\r\n    };\r\n\r\n    const backUpProfilePhoto = 'https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/142819271/original/09dafa4104fa6aeca4e62f33326be4933ae7ccac/create-cartoon-profile-picture-abd7.jpg'\r\n\r\n    return currentUser.displayName ? (\r\n        <div className={classes.root}>\r\n  \r\n            <div className={classes.containerProfileInfo}>\r\n                        \r\n                <img \r\n                    className={classes.profileImg}\r\n                    alt={'profile'} \r\n                    src={currentUser.photoUrl ? currentUser.photoUrl: backUpProfilePhoto}/>\r\n                <b\r\n                    className={classes.profileName}>\r\n                    {currentUser.displayName ? currentUser.displayName : 'Not signed in'}\r\n                </b>\r\n\r\n            </div>\r\n\r\n            <div className={classes.formRating}>\r\n\r\n                    <RadioGroup style={{display: 'flex', flexDirection: 'row', padding: 15}} \r\n                            aria-label=\"rating\" name=\"rating\" value={rating} onChange={handleRatingChange}>\r\n                \r\n                        <FormControlLabel value=\"1\"  label=\"1\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"2\"  label=\"2\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"3\"  label=\"3\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"4\"  label=\"4\" control={<CustomRadioB/>} />\r\n                        <FormControlLabel value=\"5\"  label=\"5\" control={<CustomRadioB/>} />\r\n\r\n                    </RadioGroup>\r\n\r\n            </div>\r\n        \r\n            <div className={classes.containerComment}>\r\n\r\n                <TextField\r\n                    not-required\r\n                    id=\"filled-required\"\r\n                    defaultValue=\"\"\r\n                    onChange={(event) => handleCommentInput(event.target.value)}\r\n                    variant=\"filled\"\r\n                    InputProps={{\r\n                        style: {\r\n                            color: \"white\",\r\n                            marginTop: 15,\r\n                            marginBottom: 15,\r\n                        },\r\n                        input: {\r\n                            color: 'red'\r\n                        }\r\n                    }}\r\n                    />\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant={'contained'}\r\n                        color={'secondary'}\r\n                        disabled={disableCommentBtn}\r\n                        onClick={\r\n                                () => { addComment(item.id, comment, rating, currentUser, dispatch) }\r\n                            }\r\n                        >\r\n                        {strButtonText}\r\n                        \r\n                    </Button>\r\n\r\n            </div>\r\n                 \r\n        </div>\r\n\r\n    )\r\n    : <NotSignedIn {...{ message: 'You need to sign in in order to comment!'}}/>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default CommentAdd;","\r\nimport React from 'react'\r\nimport { Divider, makeStyles } from '@material-ui/core';\r\nimport StarsComponent from '../shared-components/StarsComponent';\r\n\r\nconst tempStrComment = \"This is a comment made by someone\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginBottom: 15,\r\n        fontSize: 12,\r\n        borderRadius: 10,\r\n        flexWrap: 'column-reverse',\r\n    },\r\n    containerTop: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-start',\r\n        marginLeft: 5,\r\n        marginTop: 10,\r\n    },\r\n    profileImg: {\r\n        width: '50px',\r\n        height: '50px',\r\n        borderRadius: 25,\r\n        objectFit: 'cover',\r\n    },\r\n    profileName: {\r\n        fontSize: 14, \r\n        height: '100%',\r\n        marginLeft: 15,\r\n    },\r\n    starsRating: {\r\n        height: '100%',\r\n        marginLeft: 25,\r\n    },\r\n    containerComment: {\r\n        padding: 15,\r\n        textAlign: 'left',\r\n    },\r\n    containerProfileInfo: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        width: '100%',\r\n        textAlign: 'left',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n}));\r\n  \r\nconst CommentSingle = ({...props}) => {\r\n    const classes = useStyles();\r\n\r\n    const item = props.item\r\n\r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.containerTop}>\r\n\r\n                    <div className={classes.containerProfileInfo}>\r\n\r\n                            <UserProfileMini userName={item.displayName} userPhotoUrl={item.photoUrl} rating={item.rating}/>\r\n                    \r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className={classes.containerComment}>\r\n\r\n                    <p style={{fontSize: 12}}>\r\n                        {item.comment} \r\n                    </p>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nconst UserProfileMini = ({ userName, userPhotoUrl, rating }) => {\r\n    \r\n    const classes = useStyles();\r\n    const backUpProfilePhoto = 'https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/142819271/original/09dafa4104fa6aeca4e62f33326be4933ae7ccac/create-cartoon-profile-picture-abd7.jpg'\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n                <img className={classes.profileImg}\r\n                    alt={'poster'} \r\n                    src={userPhotoUrl ? backUpProfilePhoto: backUpProfilePhoto}/>\r\n            \r\n                <div>\r\n                    <b className={classes.profileName}>\r\n                        {userName ? userName: 'Unknown'}\r\n                    </b>\r\n                    <div className={classes.starsRating}>\r\n                        <i>Rated {rating} out of 5</i>\r\n                    </div> \r\n                </div>\r\n               \r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nexport default CommentSingle;","import React from 'react'\r\nimport StarBorderTwoToneIcon from '@material-ui/icons/StarBorderTwoTone';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        height: '100%',\r\n        width: 'fit-content',\r\n        textAlign: 'right',\r\n        alignContent: 'center',\r\n        alignItems:'center'\r\n    },\r\n    starIcon: {\r\n        fontSize: '1em',\r\n    }\r\n}));\r\n\r\n//FORMER MOCK-STARS-COMPONENT\r\nconst StarsComponent = () => {\r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                <AddFiveStars></AddFiveStars>\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\nexport default StarsComponent\r\n\r\nconst AddFiveStars = () => {\r\n    const classes = useStyles();\r\n    return(\r\n        <React.Fragment>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n            <StarBorderTwoToneIcon className={classes.starIcon}/>\r\n        </React.Fragment>\r\n    )\r\n} \r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Divider, makeStyles } from '@material-ui/core';\r\nimport CommentAdd from './CommentAdd';\r\nimport CommentSingle from './CommentSingle';\r\nimport { fsDB as db } from './../../util/firebase'\r\nimport { useSelector } from 'react-redux';\r\nimport SnackBarsRedux from './../../util/SnackBarsRedux'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      paddingBottom: 50,\r\n      alignItems: 'left'\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginBottom: 15,\r\n        textAlign: 'left'\r\n    },\r\n    containerComments: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginBottom: 15,\r\n    },\r\n    divider: {\r\n        background: 'rgb(63,63,63, 0.2)',\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n    },\r\n}));\r\n\r\nconst CommentSection = () => {\r\n    const classes = useStyles();\r\n\r\n    const item = useSelector(state => state.movieSection.selectedMovie)\r\n    const [comments, setComments]  = useState([]) \r\n\r\n    const fetchComments = () => {\r\n\r\n        db.collection(\"movies\").doc(`${item.id}`)\r\n            .onSnapshot((doc) => {\r\n                \r\n                if (doc.exists) {\r\n                    \r\n                    const data = doc.data()\r\n                    const tempArr = [];\r\n    \r\n                    data.comments.map((item) => (\r\n                        tempArr.push(item)\r\n                    ))\r\n    \r\n                    setComments(tempArr)\r\n    \r\n                } else {\r\n                \r\n                    setComments([])     \r\n                }\r\n \r\n        }, (error) => {\r\n            console.log(\"Error getting document, comments:\", error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchComments()\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <div className={classes.root}>\r\n\r\n                    <div className={classes.title}>\r\n                        \r\n                        <b>{'Comments'}</b>\r\n                        <Divider className={classes.divider}/>\r\n                    \r\n                    </div>\r\n    \r\n                    <div className={classes.containerComments}>\r\n                        \r\n                        {comments.map((item) => (\r\n                            <React.Fragment>\r\n                            \r\n                                <CommentSingle item={item}/>\r\n\r\n                            </React.Fragment>\r\n                        ))}\r\n\r\n                    </div>\r\n\r\n                    <div className={classes.title}>\r\n                    \r\n                        <b>{'Add a comment'}</b>\r\n                        <Divider className={classes.divider}/>\r\n                        <CommentAdd/>\r\n                \r\n                    </div>\r\n                   \r\n            </div>\r\n\r\n            <SnackBarsRedux/>\r\n\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\n\r\nexport default CommentSection;\r\n","import { Button, Fade, makeStyles } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport ShoppingCartActionButtons, {\r\n  BUTTON_TYPE,\r\n} from \"../shopping-cart/ShoppingCartActionButtons\";\r\nimport {\r\n  createPosterPathFull,\r\n  POSTER_SIZES,\r\n} from \"../../helper-functions/poster\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { matchGenreIdsToName } from \"../../helper-functions/genres\";\r\nimport {\r\n  actions as actionsMovieSection,\r\n  MOVIE_SECTION_SCREENS,\r\n} from \"../../redux/features/movieSection\";\r\nimport MockGenres from \"../../mockData/mock-data-genre.json\";\r\nimport CommentSection from \"../comment/CommentSection\";\r\nimport \"./MovieSection.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"90%\",\r\n    height: \"100%\",\r\n    maxWidth: \"50vh\",\r\n    justifyContent: \"center\",\r\n    justifyItems: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  containerContent: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    fontSize: 12,\r\n    // height: 'fit-content',\r\n  },\r\n  topRow: {\r\n    display: \"flex\",\r\n    flexDirection: \"row-reverse\",\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"right\",\r\n  },\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"100%\",\r\n    minHeight: \"30vh\",\r\n    maxHeight: \"50vh\",\r\n    height: \"80%\",\r\n    maxWidth: \"100%\",\r\n    borderTopLeftRadius: 15,\r\n    borderTopRightRadius: 15,\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n    objectFit: \"cover\",\r\n    background: \"red\",\r\n  },\r\n  infoContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n    \"& *\": {\r\n      marginTop: 5,\r\n      marginLeft: 5,\r\n      marginRight: 15,\r\n      marginBottom: 10,\r\n    },\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    fontSize: \"1.5em\",\r\n    fontWeight: \"bold\",\r\n    wordWrap: \"break-word\",\r\n    maxWidth: \"90%\",\r\n    textShadow: \"1px 1px #000\",\r\n    marginTop: 15,\r\n  },\r\n  year: {\r\n    display: \"flex\",\r\n    fontSize: \"1em\",\r\n    wordWrap: \"break-word\",\r\n    maxWidth: \"90%\",\r\n    textShadow: \"1px 1px #000\",\r\n  },\r\n  ratings: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    width: \"100%\",\r\n    fontSize: \"0.8em\",\r\n    wordWrap: \"break-word\",\r\n    marginTop: 15,\r\n  },\r\n  containerBottomButtons: {\r\n    display: \"flex\",\r\n    flexDirection: \"row-reverse\",\r\n    flexWrap: \"wrap\",\r\n    textAlign: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  commentSection: {\r\n    marginTop: 50,\r\n  },\r\n  genres: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    \"& *\": {\r\n      marginTop: 5,\r\n      marginLeft: 5,\r\n      marginRight: 5,\r\n      padding: 5,\r\n      borderRadius: 5,\r\n      background: \"rgb(68,68,68, 0.1)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst MovieSingle = ({ bshow }) => {\r\n  const classes = useStyles();\r\n\r\n  const item = useSelector((state) => state.movieSection.selectedMovie);\r\n\r\n  const title = item.original_title;\r\n  const releaseDate = item.release_date;\r\n  const itemOverView = item.overview;\r\n  const movieGenresNamed = matchGenreIdsToName(\r\n    item.genre_ids,\r\n    MockGenres.genres\r\n  );\r\n  const posterPath = createPosterPathFull(\"w500\", item.backdrop_path);\r\n\r\n  console.log(bshow);\r\n  const timeOutStart = 500;\r\n\r\n  const renderBackButton = () => {\r\n    return bshow === \"show\" ? <ButtonNavigateBack /> : null;\r\n  };\r\n\r\n  return (\r\n    <div id=\"movie-single-container-root\" className={classes.root}>\r\n      {renderBackButton()}\r\n      <Fade in={true} timeout={timeOutStart}>\r\n        <div id=\"movie-single-container\" className={classes.containerContent}>\r\n          <Fade in={true} timeout={timeOutStart + 500}>\r\n            <div\r\n              className={classes.mainContainer}\r\n              style={{\r\n                objectFit: \"scale-down\",\r\n                backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPath})`,\r\n              }}\r\n            >\r\n              <Fade in={true} timeout={timeOutStart + 1000}>\r\n                <div className={classes.title}>{title}</div>\r\n              </Fade>\r\n              <Fade in={true} timeout={timeOutStart + 1100}>\r\n                <div className={classes.year}>\r\n                  {String(releaseDate).slice(0, 4)}\r\n                </div>\r\n              </Fade>\r\n            </div>\r\n          </Fade>\r\n\r\n          <Fade in={true} timeout={timeOutStart + 1100}>\r\n            <div className={classes.infoContainer}>\r\n              <div className={classes.ratings}>\r\n                <b>{\"Popularity\"}</b>\r\n                <i>{item.popularity}</i>\r\n                <b>{\"Vote average\"}</b>\r\n                <i>{item.vote_average}</i>\r\n                <b>{\"Vote count\"}</b>\r\n                <i>{item.vote_count}</i>\r\n              </div>\r\n\r\n              <div className={classes.genres}>\r\n                {movieGenresNamed.map((genre) => {\r\n                  return <div>{genre}</div>;\r\n                })}\r\n              </div>\r\n\r\n              <div>{itemOverView}</div>\r\n            </div>\r\n          </Fade>\r\n          \r\n          <Fade in={true} timeout={timeOutStart + 1200}>\r\n            <div className={classes.containerBottomButtons}>\r\n                <ShoppingCartActionButtons\r\n                mItem={item}\r\n                type={BUTTON_TYPE.CART_ADD}\r\n                />\r\n            </div>\r\n          </Fade>\r\n\r\n          <Fade in={true} timeout={timeOutStart + 1300}>\r\n            <div className={classes.commentSection}>\r\n                <CommentSection />\r\n            </div>\r\n          </Fade>\r\n\r\n        </div>\r\n      </Fade>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ButtonNavigateBack = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant={\"outlined\"}\r\n        color={\"primary\"}\r\n        style={{ marginTop: 10, marginBottom: 10 }}\r\n        onClick={() => {\r\n          dispatch(\r\n            actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SLIDER_MOVIES)\r\n          );\r\n        }}\r\n      >\r\n        {\"Back\"}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieSingle;\r\n","import { IconButton, makeStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from '../shopping-cart/ShoppingCartActionButtons';\r\nimport { createPosterPathFull, POSTER_SIZES } from \"../../helper-functions/poster\";\r\nimport { actions as actionsMovieSection, MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection'\r\nimport { useDispatch } from 'react-redux';\r\nimport { MoreHorizRounded } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      textShadow: '1px 1px #000',\r\n    },\r\n    movieContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: 10,\r\n        objectFit: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        minWidth: '20vh',\r\n        marginLeft: '2%',\r\n        marginRight: '2%',\r\n    },\r\n    infoContainer: {\r\n        width: '90%',\r\n        height: '100%',\r\n        // background: 'red',\r\n        minHeight: '30vh',\r\n        padding: '10%'\r\n    },\r\n    divider: {\r\n        marginTop: 2,\r\n        marginBottom: 10,\r\n        background: 'rgb(175,175,175, 0.2)',\r\n        maxWidth: '100%',\r\n    },\r\n    genreTitle: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        fontSize: '1.5em',\r\n        fontWeight: 'bold',\r\n        margin: '5%',\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        fontSize: '0.8em',\r\n        fontWeight: 'bold',\r\n        wordWrap: 'break-word',\r\n        maxWidth: '90%',\r\n        textAlign: 'left',\r\n        marginBottom: 5\r\n    },\r\n    year: {\r\n        textAlign: 'left',\r\n        maxWidth: '90%',\r\n    },\r\n    genres: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        '& *': {\r\n            marginTop: 5,\r\n            marginRight: 5,\r\n            padding: 5,\r\n            borderRadius: 5,\r\n            background: 'rgb(68,68,68, 0.5)',\r\n        },\r\n    },\r\n}));\r\n\r\nconst MovieSectionLanding = ({ result }) => {\r\n  \r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [finished, setFinished] = useState(false)\r\n\r\n   useEffect(() => {\r\n       setFinished(result !== null)\r\n   }, [])\r\n\r\n  return !finished ? null : (\r\n                               \r\n        <React.Fragment>\r\n                        \r\n            {result.map((item) => (\r\n                <div className={classes.root}>\r\n                    \r\n                    <div className={classes.genreTitle}>\r\n                        <b>{item.name}</b>\r\n                    </div>\r\n                   \r\n                    <div style={{display: 'flex', flexDirection: 'row', width: '100%', height: '100%', overflowX: 'scroll'}}>\r\n                        \r\n                        {\r\n                            item.movies.map((movie) => (\r\n                            \r\n                                <div className={classes.movieContainer} \r\n                                    onClick={\r\n                                    () => {\r\n                                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                                        dispatch(actionsMovieSection.setSelectedMovie(movie))\r\n                                    }}\r\n                                    style={{\r\n                                        backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${createPosterPathFull(POSTER_SIZES.w400, movie.backdrop_path)})`\r\n                                    }}>\r\n                                    \r\n                                    <div className={classes.infoContainer}>\r\n                                       \r\n                                        <div className={classes.title}> \r\n                                            {movie.original_title} \r\n\r\n                                        </div>\r\n\r\n                                        <div className={classes.year}>\r\n                                            <i>{String(movie.release_date).slice(0, 4)}</i>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                        \r\n                            \r\n                                </div>\r\n                        ))}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            ))}\r\n            \r\n        </React.Fragment>\r\n  );\r\n\r\n}\r\n\r\nconst ButtonMore = ({ mItem }) => {\r\n   \r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"more\"\r\n                fontSize=\"medium\"\r\n                color={'secondary'}\r\n                onClick={\r\n                    () => {\r\n                        dispatch(actionsMovieSection.setScreen(MOVIE_SECTION_SCREENS.SINGLE_MOVIE))\r\n                        dispatch(actionsMovieSection.setSelectedMovie(mItem))\r\n                    }}\r\n                >\r\n                    <MoreHorizRounded/>\r\n            </IconButton>\r\n\r\n         \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieSectionLanding;","import React from 'react'\r\nimport { Fade, makeStyles } from '@material-ui/core';\r\nimport MovieMulti from './MovieMulti';\r\nimport { useSelector } from 'react-redux';\r\nimport { MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection';\r\nimport MovieSingle from './MovieSingle';\r\nimport CommentSection from '../comment/CommentSection';\r\nimport './MovieSection.css'\r\nimport MovieSectionLanding from './MovieSectionLanding';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    rootMulti: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 25,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootGrid: {\r\n        display: 'grid',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        gridTemplateColumns: '50% 50%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootSlider: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootCommentSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n    },\r\n    rootSingle: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    rootColumns: {\r\n        display: 'flex',\r\n        flexDirection: 'column', \r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    }\r\n}));\r\n\r\nconst MovieSection = ( {...props } ) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const screen = useSelector(state => state.movieSection.screen)\r\n    const RESULT = props.RESULT\r\n\r\n    if(RESULT !== null){\r\n\r\n        console.log('CurrentScreen:', screen)\r\n       \r\n        switch(String(screen)){\r\n           case MOVIE_SECTION_SCREENS.SLIDER_MOVIES:\r\n               return (\r\n                    <div className={classes.rootSlider}>\r\n                        \r\n                    \r\n                        {RESULT.map((item) => (\r\n               \r\n                            <MovieMulti key={'sliding-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                   \r\n                        ))}\r\n                 \r\n\r\n                    </div>\r\n               )\r\n          case MOVIE_SECTION_SCREENS.GRID_MOVIES:\r\n                return (\r\n                     <div className={classes.rootSlider}>\r\n \r\n                         {RESULT.map((item) => (\r\n                                <MovieMulti key={'grid-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                         ))}\r\n \r\n                     </div>\r\n                )\r\n           case MOVIE_SECTION_SCREENS.LIST_GENRES: \r\n               return (\r\n                    <div className={classes.rootGrid}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'genre-' + item.id} useId={'hover-container-genre'} />\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n            case MOVIE_SECTION_SCREENS.LIST_LANDING: \r\n               return (\r\n                    <div className={classes.rootColumns}>\r\n                        <MovieSectionLanding result={RESULT}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE: \r\n               return (\r\n                    <div className={classes.rootSingle}>\r\n                          <MovieSingle {...{bshow: 'show'}}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE_COMMENTS: \r\n               return (\r\n                    <div className={classes.rootCommentSection}>\r\n                        <CommentSection/>\r\n                    </div>\r\n                )\r\n           default:\r\n               return(\r\n                   <React.Fragment></React.Fragment>\r\n               )         \r\n       };\r\n\r\n \r\n    } else {\r\n        return(\r\n            null\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieSection;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions as actionsFetch, API_FETCHER_STATUSES } from './../redux/features/fetcherApi';\r\nimport { fetchAllForLandingPage, fetchListGenres, fetchListPopular } from './fetcherFunctions'\r\nimport { actions, MOVIE_SECTION_SCREENS } from './../redux/features/movieSection';\r\nimport MovieSection from '../components/fetcher-components/MovieSection';\r\n\r\n//MORE CASES\r\nexport const FETCH_API_TYPE = {\r\n    LIST_POPULAR: \"LIST_POPULAR\", \r\n    LIST_GENRE: \"LIST_GENRE\", \r\n    LIST_LANDING: 'LIST_LANDING',\r\n}\r\n\r\nconst FetcherAPI = ({...props}) => {\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const STATUS = useSelector(state => state.fetcherApi.STATUS);\r\n    const RESULT = useSelector(state => state.fetcherApi.RESULT);\r\n   \r\n    let fetchedResult = [];\r\n\r\n    if (STATUS.status === API_FETCHER_STATUSES.FETCHING.status) {\r\n    \r\n    } \r\n    else if ( STATUS.status === API_FETCHER_STATUSES.SUCCESS.status) {\r\n        fetchedResult = RESULT\r\n    }\r\n    else {\r\n        fetchedResult = [];\r\n    }\r\n\r\n    let useScreen = null;\r\n    let useFunction = null;\r\n    \r\n    switch(props.type){\r\n        case FETCH_API_TYPE.LIST_POPULAR:\r\n\r\n            useScreen = MOVIE_SECTION_SCREENS.SLIDER_MOVIES\r\n            useFunction = () => fetchListPopular(dispatch)\r\n            break;\r\n\r\n        case FETCH_API_TYPE.LIST_GENRE:\r\n        \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_GENRE\r\n            useFunction = () => fetchListGenres(dispatch, String(props.extras.id).toUpperCase())\r\n            break;\r\n\r\n        case FETCH_API_TYPE.LIST_LANDING:\r\n        \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_LANDING\r\n            useFunction = () => fetchAllForLandingPage(dispatch)\r\n            break;\r\n\r\n        default:\r\n    \r\n            useScreen = MOVIE_SECTION_SCREENS.LIST_POPULAR\r\n            useFunction = () => fetchAllForLandingPage(dispatch)\r\n\r\n            break;\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        StartFetching(useFunction)\r\n    }, [])\r\n    \r\n\r\n    if( fetchedResult !== null ){\r\n\r\n        dispatch(actions.setScreen(useScreen))\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <MovieSection {...{RESULT: RESULT}}/>\r\n            </React.Fragment>\r\n        );\r\n\r\n    } else {\r\n        return null\r\n    }\r\n   \r\n }\r\n\r\nexport default FetcherAPI;\r\n\r\nconst StartFetching = async (useFunction) => {\r\n    useFunction();\r\n}\r\n\r\n","\r\nimport MainSlider from \"../components/slider/MainSlider.js\";\r\nimport GenreSlider from \"../components/slider/GenreSlider\";\r\nimport React from \"react\";\r\nimport FetcherAPI, { FETCH_API_TYPE } from '../util/FetcherAPI.jsx';\r\n\r\nconst LandingPage = () => {\r\n\r\n    const posters = [\r\n        'https://image.tmdb.org/t/p/w300/rEm96ib0sPiZBADNKBHKBv5bve9.jpg',\r\n        'https://image.tmdb.org/t/p/w300/AoWY1gkcNzabh229Icboa1Ff0BM.jpg',\r\n        'https://image.tmdb.org/t/p/w300/oBgWY00bEFeZ9N25wWVyuQddbAo.jpg',\r\n        'https://image.tmdb.org/t/p/w300/tnAuB8q5vv7Ax9UAEje5Xi4BXik.jpg',\r\n        'https://image.tmdb.org/t/p/w300/AmUGn1rJ9XDDP6DYn9OA2uV8MIg.jpg'\r\n\r\n    ]\r\n    \r\n    const GENRES = [      \r\n        \"action\",\r\n        \"comedy\",\r\n        \"drama\",\r\n        \"fantasy\",\r\n        \"horror\",  \r\n        \"mystery\",\r\n        \"romance\",\r\n        \"thriller\",     \r\n        \"western\",     \r\n    ];\r\n\r\n\r\n    return(\r\n\r\n        <div className=\"App-Content\">\r\n            <MainSlider></MainSlider>\r\n             {GENRES.map((gener) => <GenreSlider key = {gener} id = {gener.toUpperCase()}  movies={posters}>{gener}</GenreSlider>)}\r\n        </div>\r\n    )\r\n\r\n    // return(\r\n\r\n    //     <React.Fragment>\r\n    //         <MainSlider></MainSlider>\r\n    //             <FetcherAPI {...{ type: FETCH_API_TYPE.LIST_LANDING}}/>\r\n    //     </React.Fragment>\r\n    // )\r\n\r\n\r\n}\r\n\r\nexport default LandingPage","import React from 'react'\r\n\r\nconst CommentPage = () => {\r\n\r\n    return <p>CommentPage</p>\r\n\r\n\r\n}\r\n\r\nexport default CommentPage","import React from \"react\";\r\nimport { Divider, Fade, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: '3%',\r\n        textAlign: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    iconContainer: {\r\n        margin: '2%',\r\n        fontWeight: 'bold'\r\n    },\r\n    containerText: {\r\n        textAlign: 'center'\r\n    }, \r\n    divider: {\r\n        marginTop: 15,\r\n        width: '95%',\r\n        background: \"rgb(255,255,255, 0.1)\"\r\n    }\r\n}))\r\n\r\nconst PageLableWithIcon = ({...props}) => {\r\n    \r\n    const classes = useStyles();\r\n\r\n    return(\r\n\r\n        <Fade in={true} timeout={500}>\r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.iconContainer}>\r\n                    {props.icon}\r\n                </div>\r\n\r\n                <div className={classes.containerText}>\r\n                    {props.text}\r\n                </div>\r\n\r\n                <Divider className={classes.divider}/>\r\n\r\n            </div>\r\n\r\n        </Fade>\r\n    );\r\n\r\n}\r\n\r\nexport default PageLableWithIcon;","import {Button, createMuiTheme, CssBaseline, Grid, Link, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport AuthService from \"../util/auth-service\"\r\nimport PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {Lock} from \"@material-ui/icons\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\n\r\nconst LoginPage = () => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: \"center\",\r\n\r\n        },\r\n\r\n        avatar: {\r\n            margin: theme.spacing(1),\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        form: {\r\n            maxWidth: '350px',\r\n            width: '90%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(2),\r\n            rowGap: '20px',\r\n            justifyContent: \"center\",\r\n            //backgroundColor: 'grey',\r\n            padding: '30px',\r\n        },\r\n        submit: {\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(5),\r\n\r\n        },\r\n        footer: {\r\n            margin: 'auto'\r\n        }\r\n    }));\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: \"dark\"\r\n        }\r\n    });\r\n\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser]  = useState(\"\")\r\n   const [logEmail, setEmail]  = useState(\"\")\r\n    const [logPassword, setPassword]  = useState(\"\")\r\n\r\n    const createUser = () => {\r\n        let email = \"test@test.test2\";\r\n        let password = \"testtest2\";\r\n\r\n        AuthService.register(email, password)\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(user)\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                let uid = user.uid;\r\n                setUser(user)\r\n                console.log(\"user\", user)\r\n            } else {\r\n                console.log(\"no user is signed in\", user)\r\n                setUser(\"\")\r\n                // User is signed out\r\n            }\r\n        });\r\n    }, [])\r\n\r\n    const signInWithEmailPassword = () => {\r\n        // let email = \"test@test.test2\";\r\n        // let password = \"testtest2\";\r\n\r\n        let email = logEmail;\r\n     let password = logPassword;\r\n\r\n        AuthService.login(email, password)\r\n    }\r\n\r\n    const signOut = () => {\r\n        setUser(\"\")\r\n        AuthService.logout()\r\n        console.log(user)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <AuthContext.Provider value={{user}}>\r\n                <PageLableWithIcon {...{ text: 'Logga in', icon: <Lock/>}}/>\r\n\r\n\r\n            <ThemeProvider theme={theme}>\r\n                <CssBaseline/>\r\n                <div className={classes.form} noValidate>\r\n                  {user.email ? 'Hej ' + user.displayName + \"!\" : user}\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        onChange={(v) => setEmail(v.target.value)}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Lsenord\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        onChange={(v) => setPassword(v.target.value)}\r\n                    />\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        data-testid=\"signin-anon\"\r\n                        onClick={() =>  user.email ? signOut() :  signInWithEmailPassword()}\r\n                    >\r\n                        {user.email ? \"Logga ut\" : \"Logga in\"}\r\n                    </Button>\r\n\r\n                    <Grid container>\r\n                        <Grid item className={classes.footer}\r\n                        >\r\n                            <Link href=\"register\" variant=\"body2\">\r\n                                {\"Inget konto? Skapa ett hr\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </ThemeProvider>\r\n\r\n            </AuthContext.Provider>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default LoginPage","\r\nimport { makeStyles, Zoom } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { createPosterPathFull, POSTER_SIZES } from '../../helper-functions/poster';\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from \"./ShoppingCartActionButtons\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      width: '100%',\r\n      flexDirection: 'column',\r\n      fontSize: 12,\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      // background: 'red'\r\n    },\r\n    mainContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      borderRadius: 10,\r\n      width: '100%',\r\n      height: '100%',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      objectFit: 'cover',\r\n      backgroundRepeat: 'no-repeat',\r\n      minHeight: '30vh',\r\n      maxWidth: '100%',\r\n      \"&:hover\": {\r\n          transform: 'scale(0.98)'\r\n      }\r\n    },\r\n    containerInfo: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      textAlign: 'center',\r\n      width: '100%',\r\n      height: '80%',\r\n      textIndent: 15,\r\n      // background: 'red'\r\n    },\r\n    title: {\r\n      display: 'flex',\r\n      fontSize: '1em',\r\n      fontWeight: 'bold',\r\n      wordWrap: 'break-word',\r\n      maxWidth: '100%',\r\n      textShadow: '1px 1px #000',\r\n      marginTop: 10,\r\n      textAlign: 'left'\r\n    },\r\n    year: {\r\n      display: 'flex',\r\n      fontSize: '1em',\r\n      wordWrap: 'break-word',\r\n      maxWidth: '100%',\r\n      textShadow: '1px 1px #000',\r\n      textAlign: 'left'\r\n    },\r\n    containerButton: {\r\n      display: 'flex',\r\n      flexDirection: 'row-reverse',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      height: '20%'\r\n    },\r\n    labelCost: {\r\n      fontWeight: \"lighter\",\r\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n      borderRadius: 5,\r\n      color: 'white',\r\n      background: 'rgb(79,174,109, 0.5)',\r\n      width: 'fit-content',\r\n      padding: '6px 8px',\r\n      letterSpacing: '0.02857em'\r\n    },\r\n}));\r\n\r\n\r\nconst CartItem = ({ item }) => {\r\n    \r\n    const classes = useStyle();\r\n    const pItem = JSON.parse(item)\r\n  \r\n    const title = pItem.original_title\r\n    const releaseDate = pItem.release_date\r\n   \r\n    const posterPathFull = createPosterPathFull(POSTER_SIZES.w500, pItem.backdrop_path)\r\n  \r\n    return(\r\n    \r\n      <React.Fragment>\r\n             <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div id={'cart-item'} className={classes.root}>\r\n\r\n                <div className={classes.mainContainer} \r\n                      style={{backgroundImage: `linear-gradient(to top, rgb(36, 36, 36, 0.3), rgb(15, 15, 15, 0.6)), url(${posterPathFull})`}}\r\n                      >\r\n\r\n                      <div className={classes.containerInfo}>\r\n                      \r\n                          <div className={classes.title}>\r\n                              {title}\r\n                          </div>\r\n\r\n                          <div className={classes.year}>\r\n                              {String(releaseDate).slice(0, 4)}\r\n                          </div>\r\n\r\n                      </div>\r\n    \r\n                      <div className={classes.containerButton}>\r\n                        \r\n                        <ShoppingCartActionButtons\r\n                            mItem={item} \r\n                            type={BUTTON_TYPE.CART_REMOVE}\r\n                          />\r\n                        <LabelCost text={'20.00'}/>\r\n\r\n                      </div>\r\n\r\n                </div>\r\n             </div>\r\n          </Zoom>\r\n      </React.Fragment>\r\n\r\n    );\r\n};\r\nexport default CartItem;\r\n\r\nconst LabelCost = ({text}) => {\r\n  const classes = useStyle();\r\n\r\n  return(\r\n      <div className={classes.labelCost}>${text} </div>\r\n  );\r\n}","import { Divider, makeStyles } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        // background: 'rgb(0,0,0, 0.1)',\r\n        // borderRadius: 5,\r\n    },\r\n    label: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        fontSize: 12,\r\n        paddingBottom: 5,\r\n        paddingTop: 5,\r\n    },\r\n    labelTotal: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        fontSize: 12,\r\n        color: 'rgb(79,174,109, 0.8)',\r\n        paddingBottom: 5,\r\n        paddingTop: 5,\r\n    },\r\n    labelLeft: {\r\n        width: '50%',\r\n        alignContent: 'left',\r\n        alignItems: 'left',\r\n        textAlign: 'left',\r\n        \"&:hover\": {\r\n            transform: 'scale(1.01)'\r\n        }\r\n    },\r\n    labelRight: {\r\n        width: '50%',\r\n        alignContent: 'right',\r\n        alignItems: 'right',\r\n        textAlign: 'right',\r\n        \"&:hover\": {\r\n            transform: 'scale(1.01)'\r\n        }\r\n    },\r\n    containerDetails: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    containerTotal: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingTop: 5,\r\n        paddingBottom: 5,\r\n        fontWeight: 'bold'\r\n    },\r\n    divider: {\r\n        background: 'rgb(32,32,32, 0.8)',\r\n        marginTop: 5,\r\n        marginBottom: 5,\r\n    }\r\n}));\r\n\r\n\r\nconst CartTotal = () => {\r\n\r\n    const classes = useStyle();\r\n    const shoppingCartCount = useSelector(state => state.shoppingCart.listCount);\r\n    const cost = calculatedCost(shoppingCartCount)\r\n\r\n    return(\r\n      <React.Fragment>\r\n          <div className={classes.root}>\r\n                \r\n            <div className={classes.containerDetails}>\r\n\r\n                <Label text={'Base amount'} num={cost.noVat}/>\r\n                <Label text={'VAT 25%'} num={cost.VAT}/>\r\n            \r\n\r\n            </div>\r\n            \r\n            <Divider className={classes.divider}/>\r\n\r\n            <div className={classes.containerTotal}>\r\n                <LabelTotal text={'Total'} num={cost.total}/>\r\n            </div>\r\n                  \r\n          </div>\r\n      </React.Fragment>\r\n  \r\n    );\r\n  \r\n};\r\n\r\nexport default CartTotal;\r\n\r\nfunction calculatedCost(count){\r\n    \r\n    try {\r\n        const total = (count * 20.00)\r\n        const noVat = (total * 0.8)\r\n        const VAT = (total * 0.2)\r\n\r\n        return createCost(noVat, VAT, total)\r\n        \r\n    } catch (error) {\r\n        // console.log('Error', error)\r\n    }\r\n    return createCost('', '', '')\r\n}\r\n\r\nfunction createCost(noVat, VAT, total){\r\n    return {\r\n        noVat,\r\n        VAT,\r\n        total\r\n    };\r\n}\r\n  \r\nconst Label = ( { text, num } ) => {\r\n\r\n    const classes = useStyle();\r\n    const fix = Number(num).toFixed(2)\r\n\r\n    return (\r\n         <div className={classes.label}>\r\n             <div className={classes.labelLeft}>{text}</div>\r\n             <div className={classes.labelRight}>- {fix} $</div>\r\n         </div>\r\n    );\r\n};\r\n\r\nconst LabelTotal = ( { text, num } ) => {\r\n\r\n    const classes = useStyle();\r\n    const fix = Number(num).toFixed(2)\r\n\r\n    return (\r\n         <div className={classes.labelTotal}>\r\n             <div className={classes.labelLeft}>{text}</div>\r\n             <div className={classes.labelRight}>- {fix} $</div>\r\n         </div>\r\n    );\r\n};\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport authService from \"../../util/auth-service\";\r\nimport { fsDB as db } from '../../util/firebase';\r\n\r\nconst cartTotalStyle = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  label: {\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n    fontSize: 12,\r\n    paddingBottom: 5,\r\n    paddingTop: 5,\r\n    \"&:hover\": {\r\n        transform: 'scale(1.01)'\r\n    }\r\n  },\r\n  left: {\r\n    width: \"50%\",\r\n    alignContent: \"left\",\r\n    alignItems: \"left\",\r\n    textAlign: \"left\",\r\n  },\r\n  right: {\r\n    width: \"50%\",\r\n    alignContent: \"right\",\r\n    alignItems: \"right\",\r\n    textAlign: \"right\",\r\n  },\r\n}));\r\n\r\nconst intialUserInfo = {\r\n      address: null,\r\n      country: null,\r\n      county: null,\r\n      email: null,\r\n      firstname: null,\r\n      lastname: null,\r\n      postalCode: null,\r\n}\r\n\r\nconst CartBillingInfo = () => {\r\n  const classes = cartTotalStyle();\r\n  const [user] = useState(authService.getCurrentUser());\r\n  const [userInfo, setUserInfo] = useState(intialUserInfo);\r\n\r\n  const fetchBillingInfo = () => {\r\n\r\n      if(authService.getCurrentUser() !== null){\r\n\r\n        db.collection(\"users\").doc(`${user.uid}`)\r\n            .onSnapshot((doc) => {\r\n                \r\n                if (doc.exists) {\r\n                    \r\n                    const data = doc.data()\r\n\r\n                    setUserInfo({\r\n                      address: data.address ? data.address : null,\r\n                      country: data.country ? data.country : null,\r\n                      county: data.county ? data.county : null,\r\n                      email: data.email ? data.email : null,\r\n                      firstname: data.firstname ? data.firstname : null,\r\n                      lastname: data.lastname ? data.lastname : null,\r\n                      postalCode: data.postalCode ? data.postalCode : null,\r\n                    })\r\n\r\n                } \r\n\r\n        }, (error) => {\r\n            console.log(\"Error getting document, userinfo:\", error);\r\n        });\r\n\r\n      }\r\n  }\r\n\r\n  useEffect(() => {\r\n      fetchBillingInfo()\r\n  }, [])\r\n\r\n\r\n  return user ? (\r\n    <React.Fragment>\r\n\r\n      <div className={classes.root}>\r\n          \r\n        <div className={classes.left}>\r\n          <Label text={\"Name\"} />\r\n          <Label text={\"Address\"} />\r\n          <Label text={\"Postal Code\"} />\r\n          <Label text={\"Email\"} />\r\n          <Label text={\"Country\"} />\r\n          <Label text={\"County\"} />\r\n        </div>\r\n\r\n        <div className={classes.right}>\r\n          <Label text={user.displayName ? user.displayName : \"-\"} />\r\n          <Label text={userInfo.address ? userInfo.address : \"-\"} />\r\n          <Label text={userInfo.postalCode ? userInfo.postalCode : \"-\"} />\r\n          <Label text={userInfo.email ? userInfo.email : \"-\"} />\r\n          <Label text={userInfo.country ? userInfo.country : \"-\"} />\r\n          <Label text={userInfo.county ? userInfo.county : \"-\"} />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  ) : null;\r\n};\r\n\r\nexport default CartBillingInfo;\r\n\r\nconst Label = ({ text }) => {\r\n  const classes = cartTotalStyle();\r\n\r\n  return <div className={classes.label}>{text}</div>;\r\n};\r\n","import mockDataGeneral from './mock-data-general.json';\r\n\r\nvar userBillingInfo = createBillingInfo();\r\n\r\nconst fetchBillingInfo = async () => {\r\n\r\n  const response = mockDataGeneral.billingInfo\r\n  const billingInfo = createBillingInfo(\r\n    response.firstName, \r\n    response.lastName,\r\n    response.address, \r\n    response.postalCode, \r\n    response.county, \r\n    response.country\r\n  );\r\n  \r\n  userBillingInfo = billingInfo\r\n    \r\n}\r\n\r\nfunction createBillingInfo(firstName, lastName, address, postalCode, county, country){\r\n  return {\r\n     firstName,\r\n     lastName,\r\n     address, \r\n     postalCode, \r\n     county, \r\n     country\r\n  };\r\n}\r\n\r\nexport const fetchers = { fetchBillingInfo }\r\n\r\nexport {\r\n  userBillingInfo\r\n}","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst startPaymentProcess = createAction('start payment process');\r\nconst startValidation = createAction('start validation');\r\nconst setPaymentSuccess = createAction('payment completed');\r\nconst startRedirect = createAction('starting redirect completed');\r\n\r\nconst actions = { startPaymentProcess, startValidation, setPaymentSuccess, startRedirect };\r\n\r\nconst PAYMENT_PROCESSING_STATE = \r\n{\r\n  DEFAULT: {\r\n    status: 0,\r\n    message: 'default',\r\n  },\r\n  START: {\r\n    status: 1,\r\n    message: 'Started payment processing',\r\n  },\r\n  VALIDATING_INFO: {\r\n    status: 2,\r\n    message: 'Started payment validation',\r\n  },\r\n  COMPLETED: {\r\n    status: 3,\r\n    message: 'Payment completed, thank you!',\r\n  },\r\n  DISPLAY_REDIRECT_2: {\r\n    status: 4,\r\n    message: 'Moving to receipt in 2 seconds',\r\n  },\r\n  DISPLAY_REDIRECT_1: {\r\n    status: 5,\r\n    message: 'Moving to receipt in 1 seconds',\r\n  },\r\n  DISPLAY_REDIRECT_0: {\r\n    status: 6,\r\n    message: 'Redirecting...',\r\n  }\r\n\r\n}\r\n\r\nconst initialState = {\r\n    STATUS : PAYMENT_PROCESSING_STATE.DEFAULT,\r\n}\r\n\r\nconst reducer = createReducer(initialState, {\r\n  [startPaymentProcess]: (state, action) => {\r\n      console.log(\"Start payment with: \", action.payload)\r\n      const value = action.payload\r\n      state.STATUS = value\r\n  }, \r\n  [startRedirect]: (state, action) => {\r\n    console.log(\"Start red with: \", action.payload)\r\n    const value = action.payload\r\n    state.STATUS = value\r\n  },  \r\n})\r\n\r\n\r\n\r\nexport { actions, reducer, PAYMENT_PROCESSING_STATE };","import { fsDB as db } from '../../util/firebase'\r\nimport firebase from \"firebase/app\";\r\nimport { \r\n    actions as snackBarActions,  \r\n} from \"../../redux/features/snackbars\";\r\n\r\n\r\nclass FirebaseReceipt {\r\n    \r\n    constructor (total, movies, date) {\r\n        this.total = total;\r\n        this.movies = movies;\r\n    }\r\n\r\n    toFirestore(data) {\r\n        return {\r\n            total: data.total,\r\n            movies: data.movies,\r\n        };\r\n    }\r\n}\r\n\r\nexport const sendReceipt = async(docRef, movie_count, movies) => {\r\n\r\n    const userDocRef = db.collection(\"users\").doc(`${docRef}`)\r\n\r\n\r\n    return db.runTransaction((transaction) => {\r\n\r\n        return transaction.get(userDocRef).then((sfDoc) => {\r\n        \r\n\r\n            if (!sfDoc.exists) {\r\n\r\n            }\r\n            const receipt = new FirebaseReceipt(calculatedCost(movie_count), movies)\r\n\r\n            let newDocProps = {\r\n                receipt: firebase.firestore.FieldValue.arrayUnion(receipt.toFirestore(receipt))\r\n            }\r\n   \r\n            transaction.update(userDocRef, newDocProps);\r\n                 \r\n        });\r\n    \r\n    }).then(() => {\r\n        //dispatch(snackBarActions.displaySnackBar(commentNotifications.commentAdded))\r\n    }).catch((error) => {\r\n        console.log(\"Transaction failed: \", error);\r\n    });\r\n    \r\n\r\n}\r\n\r\nfunction calculatedCost(count){\r\n    \r\n    try {\r\n        const total = (count * 20.00)\r\n        const noVat = (total * 0.8)\r\n        const VAT = (total * 0.2)\r\n\r\n        return createCost(noVat, VAT, total)\r\n        \r\n    } catch (error) {\r\n        // console.log('Error', error)\r\n    }\r\n    return createCost('', '', '')\r\n}\r\n\r\nfunction createCost(noVat, VAT, total){\r\n    return {\r\n        noVat,\r\n        VAT,\r\n        total\r\n    };\r\n}\r\n\r\nexport const CommentFunction = { addComment: sendReceipt }","\r\nimport { LinearProgress, makeStyles, Slide } from \"@material-ui/core\";\r\nimport { AttachMoneyRounded } from '@material-ui/icons';\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport {  actions, PAYMENT_PROCESSING_STATE } from '../../redux/features/paymentProcessor';\r\nimport { sendReceipt } from './payment-functions'\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      marginTop: 10,\r\n      marginBottom: 10,\r\n      color: 'white',\r\n      justifyContent: 'center',\r\n      justifyItems: 'center',\r\n      alignContent: 'center'\r\n    },\r\n    containerIcon: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    containerText: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n    },\r\n    containerProgress: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 5,\r\n    }\r\n\r\n}))\r\n\r\nconst PaymentSimulator = ({ status }) => {\r\n    \r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const cartItems = useSelector(state => state.shoppingCart.listOfMovies)\r\n   \r\n    let content = null;\r\n    let displayIcon = null;\r\n\r\n    if (status.message === PAYMENT_PROCESSING_STATE.DEFAULT.message) {\r\n        console.log('STATUS 0', status)\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.START.message) {\r\n\r\n        console.log('STATUS 1', status)\r\n        content = PAYMENT_PROCESSING_STATE.START\r\n\r\n        setTimeout(function(){\r\n                dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.VALIDATING_INFO))\r\n\r\n            }, 1000\r\n        );\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.VALIDATING_INFO.message) {\r\n\r\n        console.log('STATUS 2', status)\r\n        content =  PAYMENT_PROCESSING_STATE.VALIDATING_INFO\r\n\r\n        setTimeout(function(){\r\n                dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.COMPLETED))\r\n            }, 2000\r\n        );\r\n\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.COMPLETED.message) {\r\n        \r\n        console.log('STATUS 3', status)\r\n\r\n        content =  PAYMENT_PROCESSING_STATE.COMPLETED\r\n            setTimeout(function(){\r\n                dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2))\r\n\r\n            }, 2000\r\n        );\r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2.message) {\r\n        \r\n        console.log('STATUS 4', status)\r\n\r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_2\r\n        console.log('uid', firebase.auth().currentUser.uid)\r\n       \r\n        setTimeout(function(){\r\n           \r\n            dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1))\r\n            sendReceipt(firebase.auth().currentUser.uid, cartItems.length, cartItems)\r\n            \r\n        }, 1000\r\n    );\r\n    }\r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1.message) {\r\n        \r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_1\r\n\r\n        setTimeout(function(){\r\n         \r\n            dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0))\r\n            }, 1000\r\n        );\r\n    \r\n    } \r\n    else if ( status.message ===  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0.message) {\r\n       \r\n        // displayIcon = <AttachMoneyRounded/> \r\n        content =  PAYMENT_PROCESSING_STATE.DISPLAY_REDIRECT_0\r\n\r\n        setTimeout(function(){\r\n                content =  PAYMENT_PROCESSING_STATE.COMPLETED\r\n                history.push(\"/profile\")\r\n                dispatch(actions.startRedirect(PAYMENT_PROCESSING_STATE.DEFAULT))\r\n            }, 200\r\n        );\r\n       \r\n    }\r\n    else {\r\n        content = null;\r\n    }\r\n\r\n    if(content !== null){\r\n        return (\r\n         \r\n            <div className={classes.root}>\r\n\r\n                <div className={classes.containerIcon} style={{ display: displayIcon ? 'flex' : 'none'}}>\r\n                    {displayIcon}{displayIcon}{displayIcon}\r\n                </div>\r\n                \r\n                <div className={classes.containerText}>\r\n                    <div>\r\n                        <h3>{content.message}</h3>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className={classes.containerProgress} style={{ display: displayIcon ? 'none' : 'flex'}}>\r\n                    <div style={{marginBottom: 15}}>\r\n                        <i>{content.status ? content.status : ''}</i>\r\n                        <i>{' / '}</i>\r\n                        <i>{'6'}</i>\r\n                    </div>\r\n                    <LinearProgress color=\"secondary\" />\r\n                </div>\r\n    \r\n            </div>\r\n      \r\n          );\r\n\r\n    } else {\r\n        return (\r\n            null\r\n          );\r\n    }\r\n   \r\n  }\r\n\r\n  export default PaymentSimulator;","import { Button } from \"@material-ui/core\";\r\nimport { Payment } from '@material-ui/icons';\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  actions, PAYMENT_PROCESSING_STATE } from '../../redux/features/paymentProcessor';\r\nimport PaymentSimulator from './PaymentSimulator'\r\n\r\nconst PayButton = (props) => {\r\n\r\n    const [startPayment, setStartPayment] =  useState(false)\r\n    const status = useSelector(state => state.paymentProcessor.STATUS);\r\n    const dispatch = useDispatch();\r\n\r\n    console.log(startPayment)\r\n\r\n    const startPayProcess = () => {\r\n    \r\n        if(!startPayment){\r\n            console.log('Starting process')\r\n            dispatch(actions.startPaymentProcess(PAYMENT_PROCESSING_STATE.START))\r\n        }\r\n    }\r\n\r\n    if(props.enabled && props.signedIn && props.hasItems){\r\n      return(\r\n        <React.Fragment>\r\n                \r\n              <div style={{\r\n                        display: 'flex', \r\n                        width: '100%', \r\n                        flexDirection: 'column', \r\n                        textAlign: 'center',\r\n                        alignItems: 'center'\r\n                        }}>\r\n\r\n                <div style={{display: startPayment, flexDirection: 'row', width: '75%'}}>\r\n                    <PaymentSimulator status={  status}/>      \r\n                </div>\r\n\r\n                <Button\r\n                      style={{width: '75%'}}\r\n                      variant={'contained'}\r\n                      color={'primary'}\r\n                      // className={classes.button}\r\n                      startIcon={<Payment/>}\r\n                        onClick={() => (\r\n                            startPayProcess()\r\n                        )}>\r\n                      {'Make Payment'}\r\n                </Button>\r\n                \r\n            </div>\r\n  \r\n        </React.Fragment>\r\n      );\r\n  \r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n  \r\n          <div style={{\r\n                display: 'flex', \r\n                width: '100%', \r\n                flexDirection: 'column', \r\n                textAlign: 'center',\r\n                alignItems: 'center'\r\n                }}>\r\n  \r\n              <i style={{fontSize: 12, maxWidth: '75%'}}>You need to accept the Shipping Terms before we can process a payment.</i>\r\n              \r\n              <Button\r\n                  style={{width: '75%', marginTop: 15}}\r\n                  disabled\r\n                  variant={'contained'}\r\n                  color={'default'}\r\n                  startIcon={<Payment/>}>\r\n                    {'Pay'}\r\n                    \r\n            </Button>\r\n          </div>\r\n        </React.Fragment>\r\n        \r\n      );\r\n    }\r\n\r\n}\r\n\r\nexport default PayButton;","import { Button, Checkbox, Collapse, Fade, FormControlLabel, makeStyles, Radio, styled, Zoom } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport PayButton from './PayButton'\r\nimport ShippingPolicy from './../../docs/shipping-policy.json'\r\nimport PageLableWithIcon from '../../pages/PageLabelWithIcon';\r\nimport { AccountBalance, TheatersTwoTone } from '@material-ui/icons';\r\n\r\nconst CustomCheckB = styled(({ color, ...other }) => <Checkbox {...other} />)({\r\n  background: (props) =>\r\n    props.color === 'white',\r\n  border: 0,\r\n  borderRadius: 3,\r\n  color: 'white',\r\n  height: '100%',\r\n  padding: '0 10px',\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      height: '100%',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      alignContent: 'center',\r\n      paddingTop: 30,\r\n      paddingBottom: 30,\r\n    },\r\n    containerPolicy: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      alignItems: 'center',\r\n      height: '100%'\r\n    },\r\n    checkOutContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '100%',\r\n      marginTop: '5%',\r\n    },\r\n    sectionHeader: {\r\n      width: '100%',\r\n      textIndent: 5,\r\n    }\r\n}));\r\n\r\n\r\nconst CheckOutRedux = () => {\r\n\r\n    const classes = useStyles();\r\n    const displayCheckoutComp = useSelector(state => !state.checkOut.visibility)\r\n    // console.log('DisplayCheckOutComp?: ', displayCheckoutComp)\r\n    \r\n    const [checked, setChecked] = useState(false);\r\n    const [termsDisplay, setTermsDisplay] = useState(true);\r\n    \r\n    const handleChange = (event) => {\r\n       setChecked(event.target.checked);\r\n    };\r\n\r\n    const handleDisplayTerms = () => {\r\n        setTermsDisplay(!termsDisplay)\r\n    }\r\n\r\n    const termsVis = () => {\r\n      return !termsDisplay ? (\r\n          <ShippingTermsText termsDisplay={termsDisplay}/>\r\n      ): null\r\n  }\r\n\r\n  return (\r\n        <div className={classes.root} style={{ display: displayCheckoutComp ? 'flex' : 'none'}}>\r\n\r\n            <div className={classes.header}>\r\n                <PageLableWithIcon {...{ text: 'Checkout', icon: <AccountBalance/>}}/>\r\n            </div>\r\n\r\n            <div \r\n                className={classes.containerPolicy}> \r\n                  \r\n                   <div className={classes.sectionHeader}>\r\n          \r\n                         <Button\r\n                          variant={'contained'}\r\n                          color={'default'}\r\n                          style={{marginBottom: 15}}\r\n                          onClick={() => {\r\n                              handleDisplayTerms()\r\n                          }}\r\n                         \r\n                         >{termsDisplay ? 'Show Terms' : 'Hide Terms'}</Button>   \r\n                \r\n                  </div>\r\n\r\n  \r\n                  {termsVis()}\r\n                  {/* <Fade in={!termsDisplay} timeout={1000}> */}\r\n\r\n                  <ShippingTerms\r\n                      hidden={termsDisplay} \r\n                      handleChange={() => handleChange} \r\n                    />\r\n             \r\n            </div>\r\n         \r\n         \r\n            <div \r\n                className={classes.checkOutContainer}>\r\n                  <PayButton \r\n                    enabled={checked} \r\n                    signedIn={true} \r\n                    hasItems={true}\r\n                    />\r\n            </div>\r\n        \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ShippingTermsText = ({ termsDisplay }) => {\r\n\r\n  const shipPolicy = ShippingPolicy.policy\r\n \r\n  return(\r\n  \r\n    <Fade in={!termsDisplay} timeout={1000}>\r\n      \r\n      <div style={{border: 'none', width: '75%'}}>\r\n        {\r\n          shipPolicy.map((item) => (\r\n              <React.Fragment>\r\n                <b style={{fontSize: 14}}>{item.title}</b>\r\n                <p style={{fontSize: 12}}>{item.text}</p>\r\n              </React.Fragment>\r\n          ))\r\n          \r\n        }\r\n      </div>\r\n    </Fade>\r\n\r\n  );\r\n\r\n};\r\n\r\nconst ShippingTerms = ({ checked, handleChange}) => {\r\n\r\n  const style = makeStyles((theme) => ({  \r\n      formControl: {\r\n        marginTop:  theme.spacing(5),\r\n        marginBottom:  theme.spacing(3),\r\n      }\r\n  }));\r\n\r\n  return(\r\n\r\n        <div className={style.formControl}>\r\n                  \r\n          <FormControlLabel\r\n              className={style().formControl}\r\n              control={\r\n                <CustomCheckB\r\n                  checked={checked}\r\n                  onChange={handleChange()}\r\n                  inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                />\r\n              }   \r\n            label=\"I have read and accepted the Shipping terms\"\r\n          />\r\n\r\n      </div>\r\n\r\n  );\r\n\r\n};\r\n\r\nexport default CheckOutRedux;","import { ButtonGroup, Container, Divider, makeStyles, Slide, Typography, Zoom } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\"\r\nimport CartItem from './CartItem'\r\nimport CartTotal from './CartTotal'\r\nimport CartBillingInfo from './CartBillingInfo'\r\nimport ShoppingCartActionButtons, { BUTTON_TYPE } from \"./ShoppingCartActionButtons\";\r\nimport { fetchers } from './../../mockData/mock-data-fetcher'\r\nimport CheckOutRedux from '../check-out/CheckOutRedux';\r\nimport authService from '../../util/auth-service';\r\nimport NotSignedIn from '../shared-components/NotSignedIn';\r\nimport './ShoppingCart.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      width: '95%',\r\n      height: '100%',\r\n      overflow: 'hidden'\r\n    },\r\n    header: {\r\n      padding: 5,\r\n    },\r\n    dividerSection: {\r\n      marginTop: 15,\r\n      marginBottom: 15,\r\n      backgroundColor: 'rgba(255, 255, 255, 0.2)'\r\n    },\r\n    cartListItems: {\r\n      width: '90%',\r\n    },\r\n    cartTotal: {\r\n      display: 'flex',\r\n      width: '90%',\r\n    },\r\n    cartItemContainer: {\r\n      width: '100%',\r\n    },\r\n    containerCheckOutButton: {\r\n      display: 'flex',\r\n      width: '90%',\r\n      marginTop: 15,\r\n      marginBottom: 15,\r\n      alignContent: 'center',\r\n      justifyItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    containerCheckOutComp: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      width: '90%',\r\n      alignItems: 'center',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      justifyItems: 'center',\r\n      justifyContent: 'center'\r\n    }\r\n\r\n}));\r\n\r\n\r\nconst ShoppingCartRedux = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [user] = useState(authService.getCurrentUser())\r\n    // const displayCheckout = useSelector(state => state.checkOut.visibility)\r\n    const hasCartItems = useSelector(state => state.shoppingCart.listOfMovies.length !== 0)\r\n\r\n    const handleSignedIn = () => {\r\n\r\n      return (user !== null) ? (\r\n          <ShoppingCartActionButtons \r\n            type={BUTTON_TYPE.CART_CHECKOUT}\r\n          />\r\n      ) : (<NotSignedIn {...{ message: 'You need to Sign In in order to proceed to checkout!'}}/>)\r\n\r\n    }\r\n\r\n    const handleCheckoutVisibility = () => {\r\n      \r\n      return (hasCartItems && user !== null) ? \r\n          (\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <CheckOutRedux/>\r\n            </Zoom>\r\n          ) : null\r\n    }\r\n\r\n    const checkCartNotEmpty = () => {\r\n      \r\n      return (hasCartItems) ? \r\n          (\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n                <ShoppingCartActionButtons \r\n                        style={{marginTop: 5}}\r\n                        mItem={''} \r\n                        type={BUTTON_TYPE.CART_CLEAR}/>\r\n            </Zoom>\r\n          ) : null\r\n    }\r\n\r\n\r\n    fetchers.fetchBillingInfo()\r\n\r\n    return (\r\n        <Container className={classes.root}>\r\n\r\n            <div className={classes.header}>\r\n\r\n          \r\n                {checkCartNotEmpty()}\r\n\r\n\r\n            </div>\r\n\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div className={classes.cartListItems}>\r\n              \r\n                  <CartListItems/>\r\n                \r\n              </div>\r\n            </Zoom>\r\n\r\n\r\n            <Divider className={classes.dividerSection}></Divider> \r\n\r\n            <Zoom in={true} mountOnEnter unmountOnExit>\r\n              <div className={classes.cartTotal}>\r\n                  \r\n                  <CartTotal/>\r\n                  <CartBillingInfo/>\r\n\r\n              </div>\r\n            </Zoom>\r\n        \r\n            {/* <Divider className={classes.dividerSection}></Divider>  */}\r\n\r\n            <div className={classes.containerCheckOutButton}>\r\n\r\n                {handleSignedIn()}\r\n         \r\n            </div>\r\n\r\n            <div className={classes.containerCheckOutComp}>\r\n                {handleCheckoutVisibility()}\r\n            </div>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nconst CartListItems = () => {\r\n  \r\n  const classes = useStyles();\r\n  const shoppingCartItems = useSelector(state => state.shoppingCart.listOfMovies);\r\n\r\n  if(shoppingCartItems.length !== 0){\r\n    return (\r\n      <React.Fragment>\r\n            <div id={'container-cart-items'} className={classes.cartItemContainer}>\r\n      \r\n                {shoppingCartItems.map((element) => (\r\n                      <CartItem \r\n                          key={element.imdbId} \r\n                          item={element}/>\r\n                ))}\r\n            \r\n            </div>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return (\r\n      <React.Fragment>\r\n         {/*TODO: add styling to div*/}\r\n         {/*TODO: suggest user to go to \"Section\"?*/}\r\n        <div style={{padding: 15}}>\r\n          <Typography>No items added to cart :(</Typography>   \r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n};\r\nexport default ShoppingCartRedux;","import React from \"react\";\r\nimport ShoppingCart from '../components/shopping-cart/ShoppingCartRedux';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { ShoppingCartRounded } from '@material-ui/icons';\r\nimport PageLableWithIcon from './PageLabelWithIcon';\r\nimport FetcherAPI, { FETCH_API_TYPE } from './../util/FetcherAPI'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    containerSuggestion: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        marginTop: '3%',\r\n        textAlign: 'center',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        justifyItems: 'center',\r\n    },\r\n    containerQuickAdd: {\r\n        width: '100%',\r\n    },\r\n}))\r\n\r\n\r\nconst ShoppingCartPage = () => {\r\n    \r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n\r\n            <PageLableWithIcon {...{ text: 'Shopping cart', icon: <ShoppingCartRounded/>}}/>\r\n\r\n            <ShoppingCart/>\r\n   \r\n             <div className={classes.containerSuggestion}>\r\n                 <h5>Popular Movies</h5>\r\n                 \r\n                 <div className={classes.containerQuickAdd}>\r\n                    <FetcherAPI {...{ type: FETCH_API_TYPE.LIST_POPULAR }}/>\r\n                 </div>\r\n                \r\n             </div>\r\n    \r\n\r\n\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default ShoppingCartPage ","import React from 'react'\r\n\r\nconst SearchPage = () => {\r\n\r\n    return <p>SearchPage</p>\r\n\r\n\r\n}\r\n\r\nexport default SearchPage","import PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {AccountCircle} from \"@material-ui/icons\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Button, createMuiTheme, CssBaseline, Divider, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport ShoppingCartActionButtons, {BUTTON_TYPE} from \"../components/shopping-cart/ShoppingCartActionButtons\";\r\nimport CommentSection from \"../components/comment/CommentSection\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport AuthService from \"../util/auth-service\";\r\nimport firebase from \"firebase\";\r\nimport { Redirect } from 'react-router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '80vh',\r\n        margin: 'auto',\r\n        borderColor: 'white',\r\n        color: 'white',\r\n        justifyContent: 'center',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n\r\n    },\r\n    palette: {\r\n        type: \"dark\"\r\n    },\r\n    textField: {\r\n        width: '80%',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        paddingBottom: 0,\r\n        marginTop: 0,\r\n        fontWeight: 500,\r\n        alignSelf: 'center',\r\n    },\r\n    topRow: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        maxWidth: 450,\r\n        height: '100%',\r\n        gap: '30px',\r\n        margin: 'auto',\r\n        textAlign: 'center',\r\n        alignContent: 'center',\r\n        alignSelf: 'center',\r\n        justifyContent: 'center',\r\n\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(1),\r\n        width: '80%',\r\n        maxWidth: '350px',\r\n        justifyContent: 'center',\r\n        margin: 'auto',\r\n    },\r\n    logInButton: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(1),\r\n        width: '80%',\r\n        maxWidth: 350,\r\n        justifyContent: 'center',\r\n        alignSelf: 'center',\r\n        margin: 'auto',\r\n    },\r\n    link: {\r\n      color: 'red',\r\n    },\r\n    imageContainer: {\r\n        maxWidth: '95%',\r\n        maxHeight: '30%',\r\n    },\r\n\r\n}));\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        type: \"dark\"\r\n    }\r\n});\r\n\r\n\r\nconst ProfilePage = () => {\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser] = useState()\r\n\r\n    const signOut = () => {\r\n        AuthService.logout()\r\n        setUser(null)\r\n\r\n    }\r\n\r\n\r\n    const findCurrentUser = (user) => {\r\n\r\n        AuthService.getUserFromFirebase(user)\r\n       const newUser = JSON.parse(localStorage.getItem('userFirebase'));\r\n        setUser(newUser)\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(user)\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                let uid = user.uid;\r\n               // setUser(user)\r\n                console.log(\"user profile page\", user)\r\n                findCurrentUser(user)\r\n            } else {\r\n                console.log(\"no user is signed in\", user)\r\n                setUser(null)\r\n                // User is signed out\r\n            }\r\n        });\r\n    }, [])\r\n\r\n    const getUser = () => {\r\n        const user =AuthService.getCurrentUser()\r\n        setUser(user)\r\n        console.log(user)\r\n    }\r\n\r\n    const removeAccount = () => {\r\n        AuthService.deleteUser()\r\n    }\r\n\r\n    const handleInput = (name, value) => {\r\n        const displayName = name === 'username' ? value : null\r\n        if (displayName){\r\n            AuthService.updateUserProfile(displayName)\r\n            console.log(name, value)\r\n        }\r\n        const userId = user.userId\r\n        console.log(userId)\r\n        const newUser = {\r\n            userId: userId,\r\n            firstname: name === \"firstname\" ? value : null,\r\n            lastname:name === \"lastname\" ? value : null,\r\n            address: name === \"address\" ? value : null,\r\n        }\r\n        AuthService.updateUser(newUser)\r\n\r\n    }\r\n\r\n\r\n    return(\r\n        <div id='hover-container' className={classes.root}>\r\n\r\n            <PageLableWithIcon {...{ text: 'Din profil', icon: <AccountCircle/>}}/>\r\n\r\n            {user ?\r\n                <ThemeProvider theme={theme}>\r\n                    <CssBaseline/>\r\n                    <div>\r\n\r\n                    <div className={classes.topRow}>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                  defaultValue={user.displayName} name=\"username\" label=\"Anvndarnamn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   defaultValue={user.firstname}   name=\"firstname\" label=\"Namn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   defaultValue={user.lastname}   name=\"lastname\" label=\"Efternamn\" variant=\"outlined\"/>\r\n                        <TextField onChange={(e) => handleInput(e.target.name, e.target.value)} className={classes.textField}\r\n                                   defaultValue={user.address}      name=\"address\" label=\"Address\" variant=\"outlined\"/>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            data-testid=\"signin-anon\"\r\n                            onClick={signOut}\r\n                        >\r\n                            Log ut\r\n                        </Button>\r\n                        <a className={classes.link} onClick={removeAccount}>Remove account</a>\r\n                    </div>\r\n\r\n                        <div className={classes.topRow}>\r\n                            <Typography variant=\"h5\" >Dina kp</Typography>\r\n\r\n                            {user?.receipt ?\r\n\r\n                                user?.receipt[0].movies.map(r => {\r\n                                 return <Typography variant=\"h7\" >{JSON.parse(r).original_title}</Typography>\r\n                            })\r\n                             : null }\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </ThemeProvider>\r\n\r\n            :\r\n                <div className={classes.topRow}>\r\n                <Typography>Logga in fr att se din profil</Typography>\r\n                <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.logInButton}\r\n                data-testid=\"signin-anon\"\r\n                onClick={() => window.location = 'login'}\r\n                >\r\n                Logga in\r\n                </Button>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default ProfilePage","\r\nimport './Header.css';\r\nimport React from 'react'\r\n\r\nfunction Header({children,page}) {\r\n    \r\n  let iconsClasses = {\r\n        default: \"fas fa-exclamation-triangle\",\r\n        shoppingcart: \"fas fa-shopping-cart\",\r\n        payment:\"far fa-credit-card\",\r\n        action: \"fas fa-fighter-jet\",\r\n        comedy:\"fas fa-grin-beam\",\r\n        drama:\"fas fa-theater-masks\",\r\n        fantasy:\"fas fa-dragon\",\r\n        horror:\"fas fa-ghost\",\r\n        mystery:\"fas fa-user-secret\",\r\n        romance:\"fas fa-grin-hearts\",\r\n        thriller:\"fas fa-flushed\",\r\n        western:\"fas fa-hat-cowboy\"\r\n      }\r\n\r\n  let obj = Object.keys(iconsClasses).filter((key) => key.toUpperCase() === page.toUpperCase())\r\n  let icon = !obj.length ? iconsClasses.default : iconsClasses[`${page.toLowerCase()}`]\r\n\r\n\r\n\r\n\r\n  return (\r\n   <React.Fragment>\r\n    \r\n    <div className=\"header__container\">\r\n        <div className=\"header__container-logo\"><i className={icon}></i></div>\r\n        <div className=\"header__container-txt\">{children.toUpperCase()}</div>\r\n    </div>\r\n   </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n// http://www.omdbapi.com/?apikey=733ba668&i=\"\"","\r\n\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport {fetchGenre} from '../../util/ApiFetcher'\r\n\r\n\r\n \r\nexport const fetchGenreMovies = createAsyncThunk(\r\n  'genrePage/fetchStatus', \r\n  async (action, thunkAPI) => {\r\n   try{\r\n    let response = await fetchGenre(action.genre,action.amount,action.year,action.sorted,action.vote)\r\n    console.log(response)\r\n    return response \r\n   }catch(error){\r\n      throw Error(error)\r\n   }\r\n\r\n}\r\n)\r\n\r\nexport const genrePageSlice = createSlice({\r\n    name: 'genrePage',\r\n    initialState: {\r\n      result: [],\r\n      genre:\"\",\r\n      status:\"LOADING\",\r\n    },\r\n    reducers:{\r\n      setGenre: (state,action) => {\r\n        state.genre = action.payload\r\n      },\r\n      setReady: (state,action) => {\r\n        state.ready = action.payload\r\n      }\r\n    \r\n    },\r\n    extraReducers: {\r\n      [fetchGenreMovies.fulfilled]: (state,action) => {\r\n        \r\n        state.result = action.payload;\r\n        state.status = \"READY\";\r\n      },\r\n      [fetchGenreMovies.rejected]: (state,action) => {\r\n        console.log(action.error.message)\r\n        state.status = \"ERROR\"\r\n      },\r\n      [fetchGenreMovies.pending]: (state,action) => {\r\n        state.result = []\r\n        state.status = \"LOADING\";\r\n      }\r\n    }\r\n\r\n  })\r\n  \r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { setGenre, setReady } = genrePageSlice.actions\r\n  export const movieResults = state => state.genrePage.result \r\n  \r\n  export default genrePageSlice.reducer\r\n\r\n\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const filterBarSlice = createSlice({\r\n    name: 'filterBar',\r\n    initialState: {\r\n      year: 2021,\r\n      sortBy:\"popularity.desc\",\r\n      voteAvg:7,\r\n    },\r\n    reducers:{\r\n      setYear: (state,action) => {\r\n        state.year = action.payload\r\n      },\r\n      setSort: (state,action) => {\r\n        state.sortBy = action.payload\r\n      },\r\n      setVoteAvg: ( state, action) => {\r\n        state.voteAvg = action.payload\r\n      },\r\n      resetFilter: (state,action) => {\r\n        state.year = 2021\r\n        state.sortBy = \"popularity.desc\"\r\n        state.voteAvg = 7\r\n      },\r\n    \r\n    }\r\n\r\n  })\r\n  \r\n  // Action creators are generated for each case reducer function\r\n  export const { setYear, setSort, setVoteAvg, resetFilter } = filterBarSlice.actions\r\n  \r\n  \r\n  export default filterBarSlice.reducer\r\n\r\n\r\n","\r\nimport React, {  useEffect, useState } from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {fetchGenreMovies,setGenre} from '../../redux/features/genrePageSlice'\r\nimport { setYear, setSort, setVoteAvg } from '../../redux/features/filterBarSlice'\r\nimport './FilterBar.css'\r\n\r\n\r\n\r\n const FilterBar = () => {\r\n    let dispatch = useDispatch()\r\n    const year = useSelector(state => state.filterBar.year)\r\n    const sorting = useSelector(state => state.filterBar.sortBy)\r\n    const params = useParams()\r\n   \r\n    function setFilter(){\r\n        console.log(sorting)\r\n        dispatch(fetchGenreMovies({genre:params.id.toUpperCase(), year:year,sorted:sorting, amount: 50})) \r\n    } \r\n     function updateSorting(val){\r\n        dispatch(fetchGenreMovies({genre:params.id.toUpperCase(), year:year,sorted:val, amount: 50})) \r\n        dispatch(setSort(val))\r\n    }\r\n\r\n  \r\n    \r\n    return (\r\n        <React.Fragment>\r\n        <div className=\"filterbar_cont\">\r\n            <div className=\"filterbar_slider-cont\">\r\n                <h3>{year}</h3>\r\n                <input value={year} type=\"range\" min=\"1950\" max=\"2021\" className=\"filterbar_slider\" onChange={e => dispatch(setYear(e.target.value)) } onMouseUp={e => setFilter()} onTouchEnd={e => setFilter()}/>\r\n            </div>\r\n        </div>\r\n        <div className=\"filterbar_sort-cont\">\r\n                <select name=\"sort\" id=\"sort\" onChange={e => updateSorting(e.target.value)} value={sorting}>\r\n                    <option value=\"popularity.desc\">Popularity</option>\r\n                    <option value=\"original_title.asc\">A-Z</option>\r\n                    <option value=\"original_title.desc\">Z-A</option>\r\n                    \r\n                </select>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default FilterBar","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core';\r\nimport MovieMulti from './MovieMulti';\r\nimport { useSelector } from 'react-redux';\r\nimport { MOVIE_SECTION_SCREENS } from '../../redux/features/movieSection';\r\nimport MovieSingle from './MovieSingle';\r\nimport CommentSection from '../comment/CommentSection';\r\nimport './MovieSection.css'\r\nimport MovieSectionLanding from './MovieSectionLanding';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        alignContent: 'center',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    rootMulti: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 25,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootGrid: {\r\n        display: 'grid',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        gridTemplateColumns: '50% 50%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootSlider: {\r\n        display: 'flex',\r\n        overflowX: 'scroll',\r\n        maxWidth: '100%',\r\n        minWidth: '95%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        paddingBottom: 30,\r\n    },\r\n    rootCommentSection: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n    },\r\n    rootSingle: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        alignItems: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    rootColumns: {\r\n        display: 'flex',\r\n        flexDirection: 'column', \r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    }\r\n}));\r\n\r\nconst MovieSectionPontus = () => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const screen = useSelector(state => state.movieSection.screen)\r\n    const RESULT = useSelector(state => state.movieSection.movieList)\r\n\r\n    if(RESULT !== null){\r\n\r\n        console.log('CurrentScreen:', screen)\r\n       \r\n        switch(String(screen)){\r\n           case MOVIE_SECTION_SCREENS.SLIDER_MOVIES:\r\n               return (\r\n                    <div className={classes.rootSlider}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'sliding-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n          case MOVIE_SECTION_SCREENS.GRID_MOVIES:\r\n                return (\r\n                     <div className={classes.rootSlider}>\r\n \r\n                         {RESULT.map((item) => (\r\n                             <MovieMulti key={'grid-' + item.id} item={item} useId={'hover-container-slider'}/>\r\n                         ))}\r\n \r\n                     </div>\r\n                )\r\n           case MOVIE_SECTION_SCREENS.LIST_GENRES: \r\n               return (\r\n                    <div className={classes.rootGrid}>\r\n\r\n                        {RESULT.map((item) => (\r\n                            <MovieMulti key={'genre-' + item.id} item={item} useId={'hover-container-genre'} />\r\n                        ))}\r\n\r\n                    </div>\r\n               )\r\n            case MOVIE_SECTION_SCREENS.LIST_LANDING: \r\n               return (\r\n                    <div className={classes.rootColumns}>\r\n                        <MovieSectionLanding result={RESULT}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE: \r\n               return (\r\n                    <div className={classes.rootSingle}>\r\n                          <MovieSingle {...{bshow: 'show'}}/>\r\n                    </div>\r\n               )\r\n           case MOVIE_SECTION_SCREENS.SINGLE_MOVIE_COMMENTS: \r\n               return (\r\n                    <div className={classes.rootCommentSection}>\r\n                        <CommentSection/>\r\n                    </div>\r\n                )\r\n           default:\r\n               return(\r\n                   <React.Fragment></React.Fragment>\r\n               )         \r\n       };\r\n\r\n \r\n    } else {\r\n        return(\r\n            null\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieSectionPontus;\r\n","import {useParams} from 'react-router-dom'\r\nimport Header from '../components/Header.js'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { actions, MOVIE_SECTION_SCREENS } from './../redux/features/movieSection';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {fetchGenreMovies,setGenre,movieResults} from '../redux/features/genrePageSlice'\r\nimport FilterBar from '../components/filterbar/FilterBar'\r\nimport { resetFilter } from '../redux/features/filterBarSlice'\r\nimport MovieSectionPontus from '../components/fetcher-components/MovieSectionPontus.jsx';\r\nimport Loading from '../components/Loading/LoadingIcon.jsx';\r\nimport { setError } from '../redux/features/ErrorHandlingSlice.js';\r\nimport LoadEhandling from '../components/ErrorHandler/ErrorPopUp.jsx';\r\n\r\n\r\n\r\n\r\nconst GenrePage = () => {\r\n    const params = useParams()\r\n    let dispatch = useDispatch()\r\n    let id = useRef(\"\")\r\n    let status = useSelector(state => state.genrePage.status)\r\n    let movies = useSelector(movieResults)\r\n    \r\n   \r\n    \r\n\r\n    useEffect(() => {\r\n        dispatch(actions.setScreen(MOVIE_SECTION_SCREENS.SLIDER_MOVIES))\r\n        if (params.id !== id.current){\r\n                id.current = params.id.toLowerCase()\r\n                dispatch(resetFilter())\r\n                dispatch( fetchGenreMovies( {genre:params.id.toUpperCase() ,amount: 50}))\r\n        }\r\n      \r\n            dispatch(actions.setMovieList(movies))\r\n        \r\n        \r\n        return () => {\r\n            dispatch(setGenre([]))\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        return () => dispatch(actions.resetMovieList()) \r\n    },[])\r\n\r\n    if(status === \"READY\"){\r\n        return(  \r\n            <div className=\"App-Content\">\r\n                <Header page={`${id.current}`}>{id.current}</Header>\r\n                <FilterBar currentID = {id} />\r\n                <React.Fragment>\r\n                <MovieSectionPontus/>\r\n                {/* <MovieSection />  */}\r\n                </React.Fragment>\r\n            </div>\r\n        ) \r\n    } else if (status === \"LOADING\"){\r\n        return(\r\n            <div className=\"App-Content\">\r\n                <Header page={`${id.current}`}>{id.current}</Header>\r\n                <Loading></Loading>\r\n            </div>\r\n        )\r\n    }else{\r\n        dispatch(setError(true))\r\n        return( \r\n        <div className=\"App-Content\">\r\n            <Header page={`${id.current}`}>{id.current}</Header>\r\n            <LoadEhandling></LoadEhandling>\r\n        </div>\r\n        )\r\n    }\r\n \r\n   \r\n\r\n}\r\n\r\nexport default GenrePage","import React from 'react'\r\nimport MovieSingle from '../components/fetcher-components/MovieSingle'\r\n\r\n\r\nconst SingelMoviePage = () => {\r\n\r\n//return mockmoviesingel... \r\nconst styling = {\r\n    display:\"flex\",\r\n    flexDirection:\"column\",\r\n    alignItems:\"center\",\r\n    marginTop:\"20px\",\r\n}\r\n    window.scrollTo(0,0)\r\n    return (\r\n        <div  className=\"App-Content\" style={styling}>\r\n            <MovieSingle/>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default SingelMoviePage","import {Button, createMuiTheme, CssBaseline, Grid, Link, makeStyles, TextField, Typography} from \"@material-ui/core\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport AuthService from \"../util/auth-service\"\r\nimport PageLableWithIcon from \"./PageLabelWithIcon\";\r\nimport {Lock} from \"@material-ui/icons\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\n\r\nconst RegisterPage = () => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: \"center\",\r\n\r\n        },\r\n\r\n        avatar: {\r\n            margin: theme.spacing(1),\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        form: {\r\n            maxWidth: '350px',\r\n            width: '90%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(2),\r\n            rowGap: '20px',\r\n            justifyContent: \"center\",\r\n            //backgroundColor: 'grey',\r\n            padding: '30px',\r\n        },\r\n        submit: {\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(5),\r\n\r\n        },\r\n        footer: {\r\n            margin: 'auto'\r\n        }\r\n    }));\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: \"dark\"\r\n        }\r\n    });\r\n\r\n\r\n    const classes = useStyles();\r\n    const [user, setUser]  = useState(\"\")\r\n    const [logEmail, setEmail]  = useState(\"\")\r\n    const [logPassword, setPassword]  = useState(\"\")\r\n\r\n    const createUser = () => {\r\n        let email = logEmail;\r\n        let password = logPassword;\r\n\r\n        AuthService.register(email, password)\r\n\r\n\r\n    }\r\n\r\n\r\n    const signInWithEmailPassword = () => {\r\n        let email = logEmail;\r\n        let password = logPassword;\r\n\r\n        AuthService.login(email, password)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <AuthContext.Provider value={{user}}>\r\n                <PageLableWithIcon {...{ text: 'Registrera konot', icon: <Lock/>}}/>\r\n\r\n\r\n                <ThemeProvider theme={theme}>\r\n                    <CssBaseline/>\r\n                    <div className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            onChange={(v) => setEmail(v.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Lsenord\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            onChange={(v) => setPassword(v.target.value)}\r\n                        />\r\n\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            data-testid=\"signin-anon\"\r\n                            onClick={createUser}\r\n                        >\r\n                          Skapa konto\r\n                        </Button>\r\n\r\n                    </div>\r\n                </ThemeProvider>\r\n\r\n            </AuthContext.Provider>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default RegisterPage","import './App.css';\r\nimport React from 'react';\r\nimport Navbar from './components/navbar/Navbar';\r\nimport  {\r\n    Route,\r\n    Switch,\r\n    BrowserRouter as Router\r\n} from \"react-router-dom\";\r\nimport LandingPage from \"./pages/LandingPage\";\r\nimport CommentPage from \"./pages/CommentPage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport ShoppingCartPage from \"./pages/ShoppingCartPage\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport GenrePage from \"./pages/GenrePage\";\r\nimport SingelMoviePage from \"./pages/SingelMoviePage\"\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport SnackBarsRedux from './util/SnackBarsRedux';\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport LoadEhandling from './components/ErrorHandler/ErrorPopUp';\r\nimport Loading from './components/Loading/LoadingIcon';\r\n\r\nfunction App() {\r\n    \r\n  return (\r\n      <div className=\"App\">\r\n\r\n      <Router  basename={`${process.env.PUBLIC_URL}/`}>\r\n        \r\n        <header className=\"App-NavBar\">\r\n          <Navbar/>\r\n        </header>\r\n        <div className='App-Main'>\r\n        \r\n                <div>\r\n              \r\n                    <Switch>\r\n                        <Route exact path=\"/\" component={LandingPage} />\r\n                        <Route exact path=\"/genre/:id\" component={GenrePage} />\r\n                        <Route exact path=\"/comment\" component={CommentPage} />\r\n                        <Route exact path=\"/login\" component={LoginPage} />\r\n                        <Route exact path=\"/register\" component={RegisterPage} />\r\n                        <Route exact path=\"/profile\" component={ProfilePage} />\r\n                        <Route exact path=\"/search\" component={SearchPage} />\r\n                        <Route exact path=\"/shopping-cart\" component={ShoppingCartPage} />\r\n                        <Route exact path=\"/movie/:id\" component={SingelMoviePage}/>\r\n\r\n                    </Switch>\r\n                </div>\r\n            \r\n\r\n        </div>\r\n        \r\n      </Router>\r\n\r\n\r\n      <SnackBarsRedux/>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as shoppingCartReducer } from './shoppingCart'\r\nimport { reducer as snackBarsReducer } from './snackbars'\r\nimport { reducer as movieSectionReducer } from './movieSection'\r\nimport { reducer as checkOutReducer } from './checkOut'\r\nimport { reducer as paymentProcessorReducer } from './paymentProcessor'\r\nimport { reducer as fetcherApiReducer } from './fetcherApi'\r\nimport navbarReducer from './navbarSlice'\r\nimport mainSliderReducer from './mainSliderSlice' \r\nimport genreSliderReducer from './genreSliderSlice'\r\nimport genrePageReducer from './genrePageSlice'\r\nimport filterBarReducer from './filterBarSlice'\r\nimport errorHandlingReducer from './ErrorHandlingSlice'\r\nimport loadingHandlingReducer from './loadingHandlingSlice'\r\n\r\nconst rootReducer = combineReducers({\r\n    shoppingCart: shoppingCartReducer,\r\n    navbar: navbarReducer,\r\n    snackbar: snackBarsReducer,\r\n    movieSection: movieSectionReducer,\r\n    mainslider : mainSliderReducer,\r\n    genreSlider: genreSliderReducer,\r\n    checkOut: checkOutReducer,\r\n    paymentProcessor: paymentProcessorReducer,\r\n    fetcherApi: fetcherApiReducer,\r\n    genrePage: genrePageReducer,\r\n    filterBar: filterBarReducer,\r\n    ErrorHandling: errorHandlingReducer,\r\n    loadingHandling: loadingHandlingReducer,\r\n})\r\n\r\nexport { rootReducer };","import { configureStore } from '@reduxjs/toolkit'\r\nimport { rootReducer } from './features/rootReducer';\r\n\r\n\r\nexport default configureStore({\r\n  reducer : rootReducer\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <Provider store={store}>\r\n          <App />\r\n      </Provider>    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}